var DG=Object.create;var{defineProperty:$8,getPrototypeOf:SG,getOwnPropertyNames:DQ,getOwnPropertyDescriptor:EG}=Object,SQ=Object.prototype.hasOwnProperty;var G0=($,J,Q)=>{Q=$!=null?DG(SG($)):{};const W=J||!$||!$.__esModule?$8(Q,"default",{value:$,enumerable:!0}):Q;for(let X of DQ($))if(!SQ.call(W,X))$8(W,X,{get:()=>$[X],enumerable:!0});return W},a=($)=>{const J=a.moduleCache??=new WeakMap;var Q=J.get($);if(Q)return Q;var W=$8({},"__esModule",{value:!0}),X={enumerable:!1};if($&&typeof $==="object"||typeof $==="function"){for(let Z of DQ($))if(!SQ.call(W,Z))$8(W,Z,{get:()=>$[Z],enumerable:!(X=EG($,Z))||X.enumerable})}return J.set($,W),W};var M=($,J)=>()=>(J||$((J={exports:{}}).exports,J),J.exports);var NG=($)=>{return import.meta.require($)};var K0=($,J)=>{for(var Q in J)$8($,Q,{get:J[Q],enumerable:!0,configurable:!0,set:(W)=>J[Q]=()=>W})};var N0=($,J)=>()=>($&&(J=$($=0)),J);var n1={};K0(n1,{__values:()=>{{return a1}},__spreadArrays:()=>{{return Q9}},__spread:()=>{{return J9}},__rest:()=>{{return pG}},__read:()=>{{return xQ}},__param:()=>{{return nG}},__metadata:()=>{{return uG}},__makeTemplateObject:()=>{{return G9}},__importStar:()=>{{return K9}},__importDefault:()=>{{return Y9}},__generator:()=>{{return eG}},__extends:()=>{{return iG}},__exportStar:()=>{{return $9}},__decorate:()=>{{return aG}},__createBinding:()=>{{return tG}},__classPrivateFieldSet:()=>{{return z9}},__classPrivateFieldGet:()=>{{return F9}},__awaiter:()=>{{return oG}},__await:()=>{{return J8}},__asyncValues:()=>{{return Z9}},__asyncGenerator:()=>{{return W9}},__asyncDelegator:()=>{{return X9}},__assign:()=>{{return p1}}});function iG($,J){i1($,J);function Q(){this.constructor=$}$.prototype=J===null?Object.create(J):(Q.prototype=J.prototype,new Q)}function pG($,J){var Q={};for(var W in $)if(Object.prototype.hasOwnProperty.call($,W)&&J.indexOf(W)<0)Q[W]=$[W];if($!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var X=0,W=Object.getOwnPropertySymbols($);X<W.length;X++)if(J.indexOf(W[X])<0&&Object.prototype.propertyIsEnumerable.call($,W[X]))Q[W[X]]=$[W[X]]}return Q}function aG($,J,Q,W){var X=arguments.length,Z=X<3?J:W===null?W=Object.getOwnPropertyDescriptor(J,Q):W,K;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate($,J,Q,W);else for(var G=$.length-1;G>=0;G--)if(K=$[G])Z=(X<3?K(Z):X>3?K(J,Q,Z):K(J,Q))||Z;return X>3&&Z&&Object.defineProperty(J,Q,Z),Z}function nG($,J){return function(Q,W){J(Q,W,$)}}function uG($,J){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata($,J)}function oG($,J,Q,W){function X(Z){return Z instanceof Q?Z:new Q(function(K){K(Z)})}return new(Q||(Q=Promise))(function(Z,K){function G(U){try{Y(W.next(U))}catch(V){K(V)}}function F(U){try{Y(W.throw(U))}catch(V){K(V)}}function Y(U){U.done?Z(U.value):X(U.value).then(G,F)}Y((W=W.apply($,J||[])).next())})}function eG($,J){var Q={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},W,X,Z,K;return K={next:G(0),throw:G(1),return:G(2)},typeof Symbol==="function"&&(K[Symbol.iterator]=function(){return this}),K;function G(Y){return function(U){return F([Y,U])}}function F(Y){if(W)throw new TypeError("Generator is already executing.");while(Q)try{if(W=1,X&&(Z=Y[0]&2?X.return:Y[0]?X.throw||((Z=X.return)&&Z.call(X),0):X.next)&&!(Z=Z.call(X,Y[1])).done)return Z;if(X=0,Z)Y=[Y[0]&2,Z.value];switch(Y[0]){case 0:case 1:Z=Y;break;case 4:return Q.label++,{value:Y[1],done:!1};case 5:Q.label++,X=Y[1],Y=[0];continue;case 7:Y=Q.ops.pop(),Q.trys.pop();continue;default:if((Z=Q.trys,!(Z=Z.length>0&&Z[Z.length-1]))&&(Y[0]===6||Y[0]===2)){Q=0;continue}if(Y[0]===3&&(!Z||Y[1]>Z[0]&&Y[1]<Z[3])){Q.label=Y[1];break}if(Y[0]===6&&Q.label<Z[1]){Q.label=Z[1],Z=Y;break}if(Z&&Q.label<Z[2]){Q.label=Z[2],Q.ops.push(Y);break}if(Z[2])Q.ops.pop();Q.trys.pop();continue}Y=J.call($,Q)}catch(U){Y=[6,U],X=0}finally{W=Z=0}if(Y[0]&5)throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}}function tG($,J,Q,W){if(W===void 0)W=Q;$[W]=J[Q]}function $9($,J){for(var Q in $)if(Q!=="default"&&!J.hasOwnProperty(Q))J[Q]=$[Q]}function a1($){var J=typeof Symbol==="function"&&Symbol.iterator,Q=J&&$[J],W=0;if(Q)return Q.call($);if($&&typeof $.length==="number")return{next:function(){if($&&W>=$.length)$=void 0;return{value:$&&$[W++],done:!$}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function xQ($,J){var Q=typeof Symbol==="function"&&$[Symbol.iterator];if(!Q)return $;var W=Q.call($),X,Z=[],K;try{while((J===void 0||J-- >0)&&!(X=W.next()).done)Z.push(X.value)}catch(G){K={error:G}}finally{try{if(X&&!X.done&&(Q=W.return))Q.call(W)}finally{if(K)throw K.error}}return Z}function J9(){for(var $=[],J=0;J<arguments.length;J++)$=$.concat(xQ(arguments[J]));return $}function Q9(){for(var $=0,J=0,Q=arguments.length;J<Q;J++)$+=arguments[J].length;for(var W=Array($),X=0,J=0;J<Q;J++)for(var Z=arguments[J],K=0,G=Z.length;K<G;K++,X++)W[X]=Z[K];return W}function J8($){return this instanceof J8?(this.v=$,this):new J8($)}function W9($,J,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=Q.apply($,J||[]),X,Z=[];return X={},K("next"),K("throw"),K("return"),X[Symbol.asyncIterator]=function(){return this},X;function K(z){if(W[z])X[z]=function(I){return new Promise(function(B,L){Z.push([z,I,B,L])>1||G(z,I)})}}function G(z,I){try{F(W[z](I))}catch(B){V(Z[0][3],B)}}function F(z){z.value instanceof J8?Promise.resolve(z.value.v).then(Y,U):V(Z[0][2],z)}function Y(z){G("next",z)}function U(z){G("throw",z)}function V(z,I){if(z(I),Z.shift(),Z.length)G(Z[0][0],Z[0][1])}}function X9($){var J,Q;return J={},W("next"),W("throw",function(X){throw X}),W("return"),J[Symbol.iterator]=function(){return this},J;function W(X,Z){J[X]=$[X]?function(K){return(Q=!Q)?{value:J8($[X](K)),done:X==="return"}:Z?Z(K):K}:Z}}function Z9($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=$[Symbol.asyncIterator],Q;return J?J.call($):($=typeof a1==="function"?a1($):$[Symbol.iterator](),Q={},W("next"),W("throw"),W("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function W(Z){Q[Z]=$[Z]&&function(K){return new Promise(function(G,F){K=$[Z](K),X(G,F,K.done,K.value)})}}function X(Z,K,G,F){Promise.resolve(F).then(function(Y){Z({value:Y,done:G})},K)}}function G9($,J){if(Object.defineProperty)Object.defineProperty($,"raw",{value:J});else $.raw=J;return $}function K9($){if($&&$.__esModule)return $;var J={};if($!=null){for(var Q in $)if(Object.hasOwnProperty.call($,Q))J[Q]=$[Q]}return J.default=$,J}function Y9($){return $&&$.__esModule?$:{default:$}}function F9($,J){if(!J.has($))throw new TypeError("attempted to get private field on non-instance");return J.get($)}function z9($,J,Q){if(!J.has($))throw new TypeError("attempted to set private field on non-instance");return J.set($,Q),Q}var i1,p1;var u1=N0(()=>{/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */i1=function($,J){return i1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,W){Q.__proto__=W}||function(Q,W){for(var X in W)if(W.hasOwnProperty(X))Q[X]=W[X]},i1($,J)},p1=function(){return p1=Object.assign||function $(J){for(var Q,W=1,X=arguments.length;W<X;W++){Q=arguments[W];for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z))J[Z]=Q[Z]}return J},p1.apply(this,arguments)}});var cQ=M((mQ)=>{Object.defineProperty(mQ,"__esModule",{value:!0});mQ.toUtf8=mQ.fromUtf8=void 0;var U9=($)=>{const J=[];for(let Q=0,W=$.length;Q<W;Q++){const X=$.charCodeAt(Q);if(X<128)J.push(X);else if(X<2048)J.push(X>>6|192,X&63|128);else if(Q+1<$.length&&(X&64512)===55296&&($.charCodeAt(Q+1)&64512)===56320){const Z=65536+((X&1023)<<10)+($.charCodeAt(++Q)&1023);J.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,Z&63|128)}else J.push(X>>12|224,X>>6&63|128,X&63|128)}return Uint8Array.from(J)};mQ.fromUtf8=U9;var V9=($)=>{let J="";for(let Q=0,W=$.length;Q<W;Q++){const X=$[Q];if(X<128)J+=String.fromCharCode(X);else if(192<=X&&X<224){const Z=$[++Q];J+=String.fromCharCode((X&31)<<6|Z&63)}else if(240<=X&&X<365){const K="%"+[X,$[++Q],$[++Q],$[++Q]].map((G)=>G.toString(16)).join("%");J+=decodeURIComponent(K)}else J+=String.fromCharCode((X&15)<<12|($[++Q]&63)<<6|$[++Q]&63)}return J};mQ.toUtf8=V9});var rQ=M((dQ)=>{var B9=function($){return(new TextEncoder()).encode($)},L9=function($){return new TextDecoder("utf-8").decode($)};Object.defineProperty(dQ,"__esModule",{value:!0});dQ.toUtf8=dQ.fromUtf8=void 0;dQ.fromUtf8=B9;dQ.toUtf8=L9});var Q8=M((aQ)=>{Object.defineProperty(aQ,"__esModule",{value:!0});aQ.toUtf8=aQ.fromUtf8=void 0;var iQ=cQ(),pQ=rQ(),q9=($)=>typeof TextEncoder==="function"?(0,pQ.fromUtf8)($):(0,iQ.fromUtf8)($);aQ.fromUtf8=q9;var w9=($)=>typeof TextDecoder==="function"?(0,pQ.toUtf8)($):(0,iQ.toUtf8)($);aQ.toUtf8=w9});var eQ=M((uQ)=>{var T9=function($){if($ instanceof Uint8Array)return $;if(typeof $==="string")return R9($);if(ArrayBuffer.isView($))return new Uint8Array($.buffer,$.byteOffset,$.byteLength/Uint8Array.BYTES_PER_ELEMENT);return new Uint8Array($)};Object.defineProperty(uQ,"__esModule",{value:!0});uQ.convertToBuffer=void 0;var C9=Q8(),R9=typeof Buffer!=="undefined"&&Buffer.from?function($){return Buffer.from($,"utf8")}:C9.fromUtf8;uQ.convertToBuffer=T9});var JW=M((tQ)=>{var A9=function($){if(typeof $==="string")return $.length===0;return $.byteLength===0};Object.defineProperty(tQ,"__esModule",{value:!0});tQ.isEmptyData=void 0;tQ.isEmptyData=A9});var XW=M((QW)=>{var O9=function($){return new Uint8Array([($&4278190080)>>24,($&16711680)>>16,($&65280)>>8,$&255])};Object.defineProperty(QW,"__esModule",{value:!0});QW.numToUint8=void 0;QW.numToUint8=O9});var KW=M((ZW)=>{var j9=function($){if(!Uint32Array.from){var J=new Uint32Array($.length),Q=0;while(Q<$.length)J[Q]=$[Q],Q+=1;return J}return Uint32Array.from($)};Object.defineProperty(ZW,"__esModule",{value:!0});ZW.uint32ArrayFrom=void 0;ZW.uint32ArrayFrom=j9});var Y0=M((c0)=>{Object.defineProperty(c0,"__esModule",{value:!0});c0.uint32ArrayFrom=c0.numToUint8=c0.isEmptyData=c0.convertToBuffer=void 0;var D9=eQ();Object.defineProperty(c0,"convertToBuffer",{enumerable:!0,get:function(){return D9.convertToBuffer}});var S9=JW();Object.defineProperty(c0,"isEmptyData",{enumerable:!0,get:function(){return S9.isEmptyData}});var E9=XW();Object.defineProperty(c0,"numToUint8",{enumerable:!0,get:function(){return E9.numToUint8}});var N9=KW();Object.defineProperty(c0,"uint32ArrayFrom",{enumerable:!0,get:function(){return N9.uint32ArrayFrom}})});var VW=M((zW)=>{Object.defineProperty(zW,"__esModule",{value:!0});zW.AwsCrc32=void 0;var YW=(u1(),a(n1)),o1=Y0(),FW=W8(),_9=function(){function $(){this.crc32=new FW.Crc32}return $.prototype.update=function(J){if((0,o1.isEmptyData)(J))return;this.crc32.update((0,o1.convertToBuffer)(J))},$.prototype.digest=function(){return YW.__awaiter(this,void 0,void 0,function(){return YW.__generator(this,function(J){return[2,(0,o1.numToUint8)(this.crc32.digest())]})})},$.prototype.reset=function(){this.crc32=new FW.Crc32},$}();zW.AwsCrc32=_9});var W8=M((e1)=>{var h9=function($){return new IW().update($).digest()};Object.defineProperty(e1,"__esModule",{value:!0});e1.AwsCrc32=e1.Crc32=e1.crc32=void 0;var f9=(u1(),a(n1)),P9=Y0();e1.crc32=h9;var IW=function(){function $(){this.checksum=4294967295}return $.prototype.update=function(J){var Q,W;try{for(var X=f9.__values(J),Z=X.next();!Z.done;Z=X.next()){var K=Z.value;this.checksum=this.checksum>>>8^v9[(this.checksum^K)&255]}}catch(G){Q={error:G}}finally{try{if(Z&&!Z.done&&(W=X.return))W.call(X)}finally{if(Q)throw Q.error}}return this},$.prototype.digest=function(){return(this.checksum^4294967295)>>>0},$}();e1.Crc32=IW;var g9=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918000,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],v9=(0,P9.uint32ArrayFrom)(g9),y9=VW();Object.defineProperty(e1,"AwsCrc32",{enumerable:!0,get:function(){return y9.AwsCrc32}})});var V6={};K0(V6,{__values:()=>{{return a$}},__spreadArrays:()=>{{return AK}},__spread:()=>{{return TK}},__rest:()=>{{return BK}},__read:()=>{{return U6}},__param:()=>{{return MK}},__metadata:()=>{{return qK}},__makeTemplateObject:()=>{{return SK}},__importStar:()=>{{return EK}},__importDefault:()=>{{return NK}},__generator:()=>{{return HK}},__extends:()=>{{return IK}},__exportStar:()=>{{return RK}},__decorate:()=>{{return LK}},__createBinding:()=>{{return CK}},__classPrivateFieldSet:()=>{{return _K}},__classPrivateFieldGet:()=>{{return kK}},__awaiter:()=>{{return wK}},__await:()=>{{return M8}},__asyncValues:()=>{{return DK}},__asyncGenerator:()=>{{return OK}},__asyncDelegator:()=>{{return jK}},__assign:()=>{{return p$}}});function IK($,J){i$($,J);function Q(){this.constructor=$}$.prototype=J===null?Object.create(J):(Q.prototype=J.prototype,new Q)}function BK($,J){var Q={};for(var W in $)if(Object.prototype.hasOwnProperty.call($,W)&&J.indexOf(W)<0)Q[W]=$[W];if($!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var X=0,W=Object.getOwnPropertySymbols($);X<W.length;X++)if(J.indexOf(W[X])<0&&Object.prototype.propertyIsEnumerable.call($,W[X]))Q[W[X]]=$[W[X]]}return Q}function LK($,J,Q,W){var X=arguments.length,Z=X<3?J:W===null?W=Object.getOwnPropertyDescriptor(J,Q):W,K;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate($,J,Q,W);else for(var G=$.length-1;G>=0;G--)if(K=$[G])Z=(X<3?K(Z):X>3?K(J,Q,Z):K(J,Q))||Z;return X>3&&Z&&Object.defineProperty(J,Q,Z),Z}function MK($,J){return function(Q,W){J(Q,W,$)}}function qK($,J){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata($,J)}function wK($,J,Q,W){function X(Z){return Z instanceof Q?Z:new Q(function(K){K(Z)})}return new(Q||(Q=Promise))(function(Z,K){function G(U){try{Y(W.next(U))}catch(V){K(V)}}function F(U){try{Y(W.throw(U))}catch(V){K(V)}}function Y(U){U.done?Z(U.value):X(U.value).then(G,F)}Y((W=W.apply($,J||[])).next())})}function HK($,J){var Q={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},W,X,Z,K;return K={next:G(0),throw:G(1),return:G(2)},typeof Symbol==="function"&&(K[Symbol.iterator]=function(){return this}),K;function G(Y){return function(U){return F([Y,U])}}function F(Y){if(W)throw new TypeError("Generator is already executing.");while(Q)try{if(W=1,X&&(Z=Y[0]&2?X.return:Y[0]?X.throw||((Z=X.return)&&Z.call(X),0):X.next)&&!(Z=Z.call(X,Y[1])).done)return Z;if(X=0,Z)Y=[Y[0]&2,Z.value];switch(Y[0]){case 0:case 1:Z=Y;break;case 4:return Q.label++,{value:Y[1],done:!1};case 5:Q.label++,X=Y[1],Y=[0];continue;case 7:Y=Q.ops.pop(),Q.trys.pop();continue;default:if((Z=Q.trys,!(Z=Z.length>0&&Z[Z.length-1]))&&(Y[0]===6||Y[0]===2)){Q=0;continue}if(Y[0]===3&&(!Z||Y[1]>Z[0]&&Y[1]<Z[3])){Q.label=Y[1];break}if(Y[0]===6&&Q.label<Z[1]){Q.label=Z[1],Z=Y;break}if(Z&&Q.label<Z[2]){Q.label=Z[2],Q.ops.push(Y);break}if(Z[2])Q.ops.pop();Q.trys.pop();continue}Y=J.call($,Q)}catch(U){Y=[6,U],X=0}finally{W=Z=0}if(Y[0]&5)throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}}function CK($,J,Q,W){if(W===void 0)W=Q;$[W]=J[Q]}function RK($,J){for(var Q in $)if(Q!=="default"&&!J.hasOwnProperty(Q))J[Q]=$[Q]}function a$($){var J=typeof Symbol==="function"&&Symbol.iterator,Q=J&&$[J],W=0;if(Q)return Q.call($);if($&&typeof $.length==="number")return{next:function(){if($&&W>=$.length)$=void 0;return{value:$&&$[W++],done:!$}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function U6($,J){var Q=typeof Symbol==="function"&&$[Symbol.iterator];if(!Q)return $;var W=Q.call($),X,Z=[],K;try{while((J===void 0||J-- >0)&&!(X=W.next()).done)Z.push(X.value)}catch(G){K={error:G}}finally{try{if(X&&!X.done&&(Q=W.return))Q.call(W)}finally{if(K)throw K.error}}return Z}function TK(){for(var $=[],J=0;J<arguments.length;J++)$=$.concat(U6(arguments[J]));return $}function AK(){for(var $=0,J=0,Q=arguments.length;J<Q;J++)$+=arguments[J].length;for(var W=Array($),X=0,J=0;J<Q;J++)for(var Z=arguments[J],K=0,G=Z.length;K<G;K++,X++)W[X]=Z[K];return W}function M8($){return this instanceof M8?(this.v=$,this):new M8($)}function OK($,J,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=Q.apply($,J||[]),X,Z=[];return X={},K("next"),K("throw"),K("return"),X[Symbol.asyncIterator]=function(){return this},X;function K(z){if(W[z])X[z]=function(I){return new Promise(function(B,L){Z.push([z,I,B,L])>1||G(z,I)})}}function G(z,I){try{F(W[z](I))}catch(B){V(Z[0][3],B)}}function F(z){z.value instanceof M8?Promise.resolve(z.value.v).then(Y,U):V(Z[0][2],z)}function Y(z){G("next",z)}function U(z){G("throw",z)}function V(z,I){if(z(I),Z.shift(),Z.length)G(Z[0][0],Z[0][1])}}function jK($){var J,Q;return J={},W("next"),W("throw",function(X){throw X}),W("return"),J[Symbol.iterator]=function(){return this},J;function W(X,Z){J[X]=$[X]?function(K){return(Q=!Q)?{value:M8($[X](K)),done:X==="return"}:Z?Z(K):K}:Z}}function DK($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=$[Symbol.asyncIterator],Q;return J?J.call($):($=typeof a$==="function"?a$($):$[Symbol.iterator](),Q={},W("next"),W("throw"),W("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function W(Z){Q[Z]=$[Z]&&function(K){return new Promise(function(G,F){K=$[Z](K),X(G,F,K.done,K.value)})}}function X(Z,K,G,F){Promise.resolve(F).then(function(Y){Z({value:Y,done:G})},K)}}function SK($,J){if(Object.defineProperty)Object.defineProperty($,"raw",{value:J});else $.raw=J;return $}function EK($){if($&&$.__esModule)return $;var J={};if($!=null){for(var Q in $)if(Object.hasOwnProperty.call($,Q))J[Q]=$[Q]}return J.default=$,J}function NK($){return $&&$.__esModule?$:{default:$}}function kK($,J){if(!J.has($))throw new TypeError("attempted to get private field on non-instance");return J.get($)}function _K($,J,Q){if(!J.has($))throw new TypeError("attempted to set private field on non-instance");return J.set($,Q),Q}var i$,p$;var I6=N0(()=>{/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */i$=function($,J){return i$=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,W){Q.__proto__=W}||function(Q,W){for(var X in W)if(W.hasOwnProperty(X))Q[X]=W[X]},i$($,J)},p$=function(){return p$=Object.assign||function $(J){for(var Q,W=1,X=arguments.length;W<X;W++){Q=arguments[W];for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z))J[Z]=Q[Z]}return J},p$.apply(this,arguments)}});var n$=M((B6)=>{var fK=function($){if(typeof $==="string")return $.length===0;return $.byteLength===0};Object.defineProperty(B6,"__esModule",{value:!0});B6.isEmptyData=void 0;B6.isEmptyData=fK});var u$=M((M6)=>{Object.defineProperty(M6,"__esModule",{value:!0});M6.EMPTY_DATA_SHA_1=M6.SHA_1_HMAC_ALGO=M6.SHA_1_HASH=void 0;M6.SHA_1_HASH={name:"SHA-1"};M6.SHA_1_HMAC_ALGO={name:"HMAC",hash:M6.SHA_1_HASH};M6.EMPTY_DATA_SHA_1=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9])});var g0=M((H6)=>{var gK=function(){if(typeof window!=="undefined")return window;else if(typeof self!=="undefined")return self;return hK};Object.defineProperty(H6,"__esModule",{value:!0});H6.locateWindow=void 0;var hK={};H6.locateWindow=gK});var e$=M((A6)=>{var xK=function($){return new Promise(function(J,Q){var W=(0,o$.locateWindow)().msCrypto.subtle.importKey("raw",T6($),R6.SHA_1_HMAC_ALGO,!1,["sign"]);W.oncomplete=function(){if(W.result)J(W.result);Q(new Error("ImportKey completed without importing key."))},W.onerror=function(){Q(new Error("ImportKey failed to import key."))}})},T6=function($){if(typeof $==="string")return(0,yK.fromUtf8)($);if(ArrayBuffer.isView($))return new Uint8Array($.buffer,$.byteOffset,$.byteLength/Uint8Array.BYTES_PER_ELEMENT);return new Uint8Array($)};Object.defineProperty(A6,"__esModule",{value:!0});A6.Sha1=void 0;var vK=n$(),R6=u$(),yK=Q8(),o$=g0(),bK=function(){function $(J){this.secret=J,this.reset()}return $.prototype.update=function(J){var Q=this;if((0,vK.isEmptyData)(J))return;this.operation=this.operation.then(function(W){return W.onerror=function(){Q.operation=Promise.reject(new Error("Error encountered updating hash"))},W.process(T6(J)),W}),this.operation.catch(function(){})},$.prototype.digest=function(){return this.operation.then(function(J){return new Promise(function(Q,W){J.onerror=function(){W(new Error("Error encountered finalizing hash"))},J.oncomplete=function(){if(J.result)Q(new Uint8Array(J.result));W(new Error("Error encountered finalizing hash"))},J.finish()})})},$.prototype.reset=function(){if(this.secret)this.operation=xK(this.secret).then(function(J){return(0,o$.locateWindow)().msCrypto.subtle.sign(R6.SHA_1_HMAC_ALGO,J)}),this.operation.catch(function(){});else this.operation=Promise.resolve((0,o$.locateWindow)().msCrypto.subtle.digest("SHA-1"))},$}();A6.Sha1=bK});var $J=M((S6)=>{var D6=function($){if(typeof $==="string")return(0,mK.fromUtf8)($);if(ArrayBuffer.isView($))return new Uint8Array($.buffer,$.byteOffset,$.byteLength/Uint8Array.BYTES_PER_ELEMENT);return new Uint8Array($)};Object.defineProperty(S6,"__esModule",{value:!0});S6.Sha1=void 0;var mK=Q8(),j6=n$(),B1=u$(),t$=g0(),lK=function(){function $(J){if(this.toHash=new Uint8Array(0),J!==void 0)this.key=new Promise(function(Q,W){(0,t$.locateWindow)().crypto.subtle.importKey("raw",D6(J),B1.SHA_1_HMAC_ALGO,!1,["sign"]).then(Q,W)}),this.key.catch(function(){})}return $.prototype.update=function(J){if((0,j6.isEmptyData)(J))return;var Q=D6(J),W=new Uint8Array(this.toHash.byteLength+Q.byteLength);W.set(this.toHash,0),W.set(Q,this.toHash.byteLength),this.toHash=W},$.prototype.digest=function(){var J=this;if(this.key)return this.key.then(function(Q){return(0,t$.locateWindow)().crypto.subtle.sign(B1.SHA_1_HMAC_ALGO,Q,J.toHash).then(function(W){return new Uint8Array(W)})});if((0,j6.isEmptyData)(this.toHash))return Promise.resolve(B1.EMPTY_DATA_SHA_1);return Promise.resolve().then(function(){return(0,t$.locateWindow)().crypto.subtle.digest(B1.SHA_1_HASH,J.toHash)}).then(function(Q){return Promise.resolve(new Uint8Array(Q))})},$.prototype.reset=function(){this.toHash=new Uint8Array(0)},$}();S6.Sha1=lK});var XJ={};K0(XJ,{__values:()=>{{return WJ}},__spreadArrays:()=>{{return eK}},__spread:()=>{{return oK}},__rest:()=>{{return dK}},__read:()=>{{return N6}},__param:()=>{{return rK}},__metadata:()=>{{return iK}},__makeTemplateObject:()=>{{return QY}},__importStar:()=>{{return WY}},__importDefault:()=>{{return XY}},__generator:()=>{{return aK}},__extends:()=>{{return cK}},__exportStar:()=>{{return uK}},__decorate:()=>{{return sK}},__createBinding:()=>{{return nK}},__classPrivateFieldSet:()=>{{return GY}},__classPrivateFieldGet:()=>{{return ZY}},__awaiter:()=>{{return pK}},__await:()=>{{return q8}},__asyncValues:()=>{{return JY}},__asyncGenerator:()=>{{return tK}},__asyncDelegator:()=>{{return $Y}},__assign:()=>{{return QJ}}});function cK($,J){JJ($,J);function Q(){this.constructor=$}$.prototype=J===null?Object.create(J):(Q.prototype=J.prototype,new Q)}function dK($,J){var Q={};for(var W in $)if(Object.prototype.hasOwnProperty.call($,W)&&J.indexOf(W)<0)Q[W]=$[W];if($!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var X=0,W=Object.getOwnPropertySymbols($);X<W.length;X++)if(J.indexOf(W[X])<0&&Object.prototype.propertyIsEnumerable.call($,W[X]))Q[W[X]]=$[W[X]]}return Q}function sK($,J,Q,W){var X=arguments.length,Z=X<3?J:W===null?W=Object.getOwnPropertyDescriptor(J,Q):W,K;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate($,J,Q,W);else for(var G=$.length-1;G>=0;G--)if(K=$[G])Z=(X<3?K(Z):X>3?K(J,Q,Z):K(J,Q))||Z;return X>3&&Z&&Object.defineProperty(J,Q,Z),Z}function rK($,J){return function(Q,W){J(Q,W,$)}}function iK($,J){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata($,J)}function pK($,J,Q,W){function X(Z){return Z instanceof Q?Z:new Q(function(K){K(Z)})}return new(Q||(Q=Promise))(function(Z,K){function G(U){try{Y(W.next(U))}catch(V){K(V)}}function F(U){try{Y(W.throw(U))}catch(V){K(V)}}function Y(U){U.done?Z(U.value):X(U.value).then(G,F)}Y((W=W.apply($,J||[])).next())})}function aK($,J){var Q={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},W,X,Z,K;return K={next:G(0),throw:G(1),return:G(2)},typeof Symbol==="function"&&(K[Symbol.iterator]=function(){return this}),K;function G(Y){return function(U){return F([Y,U])}}function F(Y){if(W)throw new TypeError("Generator is already executing.");while(Q)try{if(W=1,X&&(Z=Y[0]&2?X.return:Y[0]?X.throw||((Z=X.return)&&Z.call(X),0):X.next)&&!(Z=Z.call(X,Y[1])).done)return Z;if(X=0,Z)Y=[Y[0]&2,Z.value];switch(Y[0]){case 0:case 1:Z=Y;break;case 4:return Q.label++,{value:Y[1],done:!1};case 5:Q.label++,X=Y[1],Y=[0];continue;case 7:Y=Q.ops.pop(),Q.trys.pop();continue;default:if((Z=Q.trys,!(Z=Z.length>0&&Z[Z.length-1]))&&(Y[0]===6||Y[0]===2)){Q=0;continue}if(Y[0]===3&&(!Z||Y[1]>Z[0]&&Y[1]<Z[3])){Q.label=Y[1];break}if(Y[0]===6&&Q.label<Z[1]){Q.label=Z[1],Z=Y;break}if(Z&&Q.label<Z[2]){Q.label=Z[2],Q.ops.push(Y);break}if(Z[2])Q.ops.pop();Q.trys.pop();continue}Y=J.call($,Q)}catch(U){Y=[6,U],X=0}finally{W=Z=0}if(Y[0]&5)throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}}function nK($,J,Q,W){if(W===void 0)W=Q;$[W]=J[Q]}function uK($,J){for(var Q in $)if(Q!=="default"&&!J.hasOwnProperty(Q))J[Q]=$[Q]}function WJ($){var J=typeof Symbol==="function"&&Symbol.iterator,Q=J&&$[J],W=0;if(Q)return Q.call($);if($&&typeof $.length==="number")return{next:function(){if($&&W>=$.length)$=void 0;return{value:$&&$[W++],done:!$}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function N6($,J){var Q=typeof Symbol==="function"&&$[Symbol.iterator];if(!Q)return $;var W=Q.call($),X,Z=[],K;try{while((J===void 0||J-- >0)&&!(X=W.next()).done)Z.push(X.value)}catch(G){K={error:G}}finally{try{if(X&&!X.done&&(Q=W.return))Q.call(W)}finally{if(K)throw K.error}}return Z}function oK(){for(var $=[],J=0;J<arguments.length;J++)$=$.concat(N6(arguments[J]));return $}function eK(){for(var $=0,J=0,Q=arguments.length;J<Q;J++)$+=arguments[J].length;for(var W=Array($),X=0,J=0;J<Q;J++)for(var Z=arguments[J],K=0,G=Z.length;K<G;K++,X++)W[X]=Z[K];return W}function q8($){return this instanceof q8?(this.v=$,this):new q8($)}function tK($,J,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=Q.apply($,J||[]),X,Z=[];return X={},K("next"),K("throw"),K("return"),X[Symbol.asyncIterator]=function(){return this},X;function K(z){if(W[z])X[z]=function(I){return new Promise(function(B,L){Z.push([z,I,B,L])>1||G(z,I)})}}function G(z,I){try{F(W[z](I))}catch(B){V(Z[0][3],B)}}function F(z){z.value instanceof q8?Promise.resolve(z.value.v).then(Y,U):V(Z[0][2],z)}function Y(z){G("next",z)}function U(z){G("throw",z)}function V(z,I){if(z(I),Z.shift(),Z.length)G(Z[0][0],Z[0][1])}}function $Y($){var J,Q;return J={},W("next"),W("throw",function(X){throw X}),W("return"),J[Symbol.iterator]=function(){return this},J;function W(X,Z){J[X]=$[X]?function(K){return(Q=!Q)?{value:q8($[X](K)),done:X==="return"}:Z?Z(K):K}:Z}}function JY($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=$[Symbol.asyncIterator],Q;return J?J.call($):($=typeof WJ==="function"?WJ($):$[Symbol.iterator](),Q={},W("next"),W("throw"),W("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function W(Z){Q[Z]=$[Z]&&function(K){return new Promise(function(G,F){K=$[Z](K),X(G,F,K.done,K.value)})}}function X(Z,K,G,F){Promise.resolve(F).then(function(Y){Z({value:Y,done:G})},K)}}function QY($,J){if(Object.defineProperty)Object.defineProperty($,"raw",{value:J});else $.raw=J;return $}function WY($){if($&&$.__esModule)return $;var J={};if($!=null){for(var Q in $)if(Object.hasOwnProperty.call($,Q))J[Q]=$[Q]}return J.default=$,J}function XY($){return $&&$.__esModule?$:{default:$}}function ZY($,J){if(!J.has($))throw new TypeError("attempted to get private field on non-instance");return J.get($)}function GY($,J,Q){if(!J.has($))throw new TypeError("attempted to set private field on non-instance");return J.set($,Q),Q}var JJ,QJ;var ZJ=N0(()=>{/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */JJ=function($,J){return JJ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,W){Q.__proto__=W}||function(Q,W){for(var X in W)if(W.hasOwnProperty(X))Q[X]=W[X]},JJ($,J)},QJ=function(){return QJ=Object.assign||function $(J){for(var Q,W=1,X=arguments.length;W<X;W++){Q=arguments[W];for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z))J[Z]=Q[Z]}return J},QJ.apply(this,arguments)}});var h6=M((f6)=>{var YY=function($){if(_6($)&&typeof $.crypto.subtle==="object"){var J=$.crypto.subtle;return GJ(J)}return!1},_6=function($){if(typeof $==="object"&&typeof $.crypto==="object"){var J=$.crypto.getRandomValues;return typeof J==="function"}return!1},GJ=function($){return $&&KY.every(function(J){return typeof $[J]==="function"})},FY=function($){return k6.__awaiter(this,void 0,void 0,function(){var J,Q,W;return k6.__generator(this,function(X){switch(X.label){case 0:if(!GJ($))return[2,!1];X.label=1;case 1:return X.trys.push([1,4,,5]),[4,$.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return J=X.sent(),[4,$.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},J,new Uint8Array(0))];case 3:return Q=X.sent(),[2,Q.byteLength===16];case 4:return W=X.sent(),[2,!1];case 5:return[2]}})})};Object.defineProperty(f6,"__esModule",{value:!0});f6.supportsZeroByteGCM=f6.supportsSubtleCrypto=f6.supportsSecureRandom=f6.supportsWebCrypto=void 0;var k6=(ZJ(),a(XJ)),KY=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];f6.supportsWebCrypto=YY;f6.supportsSecureRandom=_6;f6.supportsSubtleCrypto=GJ;f6.supportsZeroByteGCM=FY});var YJ=M((KJ)=>{Object.defineProperty(KJ,"__esModule",{value:!0});var IY=(ZJ(),a(XJ));IY.__exportStar(h6(),KJ)});var v6={};K0(v6,{__values:()=>{{return UJ}},__spreadArrays:()=>{{return OY}},__spread:()=>{{return AY}},__rest:()=>{{return LY}},__read:()=>{{return g6}},__param:()=>{{return qY}},__metadata:()=>{{return wY}},__makeTemplateObject:()=>{{return EY}},__importStar:()=>{{return NY}},__importDefault:()=>{{return kY}},__generator:()=>{{return CY}},__extends:()=>{{return BY}},__exportStar:()=>{{return TY}},__decorate:()=>{{return MY}},__createBinding:()=>{{return RY}},__classPrivateFieldSet:()=>{{return fY}},__classPrivateFieldGet:()=>{{return _Y}},__awaiter:()=>{{return HY}},__await:()=>{{return w8}},__asyncValues:()=>{{return SY}},__asyncGenerator:()=>{{return jY}},__asyncDelegator:()=>{{return DY}},__assign:()=>{{return zJ}}});function BY($,J){FJ($,J);function Q(){this.constructor=$}$.prototype=J===null?Object.create(J):(Q.prototype=J.prototype,new Q)}function LY($,J){var Q={};for(var W in $)if(Object.prototype.hasOwnProperty.call($,W)&&J.indexOf(W)<0)Q[W]=$[W];if($!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var X=0,W=Object.getOwnPropertySymbols($);X<W.length;X++)if(J.indexOf(W[X])<0&&Object.prototype.propertyIsEnumerable.call($,W[X]))Q[W[X]]=$[W[X]]}return Q}function MY($,J,Q,W){var X=arguments.length,Z=X<3?J:W===null?W=Object.getOwnPropertyDescriptor(J,Q):W,K;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate($,J,Q,W);else for(var G=$.length-1;G>=0;G--)if(K=$[G])Z=(X<3?K(Z):X>3?K(J,Q,Z):K(J,Q))||Z;return X>3&&Z&&Object.defineProperty(J,Q,Z),Z}function qY($,J){return function(Q,W){J(Q,W,$)}}function wY($,J){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata($,J)}function HY($,J,Q,W){function X(Z){return Z instanceof Q?Z:new Q(function(K){K(Z)})}return new(Q||(Q=Promise))(function(Z,K){function G(U){try{Y(W.next(U))}catch(V){K(V)}}function F(U){try{Y(W.throw(U))}catch(V){K(V)}}function Y(U){U.done?Z(U.value):X(U.value).then(G,F)}Y((W=W.apply($,J||[])).next())})}function CY($,J){var Q={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},W,X,Z,K;return K={next:G(0),throw:G(1),return:G(2)},typeof Symbol==="function"&&(K[Symbol.iterator]=function(){return this}),K;function G(Y){return function(U){return F([Y,U])}}function F(Y){if(W)throw new TypeError("Generator is already executing.");while(Q)try{if(W=1,X&&(Z=Y[0]&2?X.return:Y[0]?X.throw||((Z=X.return)&&Z.call(X),0):X.next)&&!(Z=Z.call(X,Y[1])).done)return Z;if(X=0,Z)Y=[Y[0]&2,Z.value];switch(Y[0]){case 0:case 1:Z=Y;break;case 4:return Q.label++,{value:Y[1],done:!1};case 5:Q.label++,X=Y[1],Y=[0];continue;case 7:Y=Q.ops.pop(),Q.trys.pop();continue;default:if((Z=Q.trys,!(Z=Z.length>0&&Z[Z.length-1]))&&(Y[0]===6||Y[0]===2)){Q=0;continue}if(Y[0]===3&&(!Z||Y[1]>Z[0]&&Y[1]<Z[3])){Q.label=Y[1];break}if(Y[0]===6&&Q.label<Z[1]){Q.label=Z[1],Z=Y;break}if(Z&&Q.label<Z[2]){Q.label=Z[2],Q.ops.push(Y);break}if(Z[2])Q.ops.pop();Q.trys.pop();continue}Y=J.call($,Q)}catch(U){Y=[6,U],X=0}finally{W=Z=0}if(Y[0]&5)throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}}function RY($,J,Q,W){if(W===void 0)W=Q;$[W]=J[Q]}function TY($,J){for(var Q in $)if(Q!=="default"&&!J.hasOwnProperty(Q))J[Q]=$[Q]}function UJ($){var J=typeof Symbol==="function"&&Symbol.iterator,Q=J&&$[J],W=0;if(Q)return Q.call($);if($&&typeof $.length==="number")return{next:function(){if($&&W>=$.length)$=void 0;return{value:$&&$[W++],done:!$}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function g6($,J){var Q=typeof Symbol==="function"&&$[Symbol.iterator];if(!Q)return $;var W=Q.call($),X,Z=[],K;try{while((J===void 0||J-- >0)&&!(X=W.next()).done)Z.push(X.value)}catch(G){K={error:G}}finally{try{if(X&&!X.done&&(Q=W.return))Q.call(W)}finally{if(K)throw K.error}}return Z}function AY(){for(var $=[],J=0;J<arguments.length;J++)$=$.concat(g6(arguments[J]));return $}function OY(){for(var $=0,J=0,Q=arguments.length;J<Q;J++)$+=arguments[J].length;for(var W=Array($),X=0,J=0;J<Q;J++)for(var Z=arguments[J],K=0,G=Z.length;K<G;K++,X++)W[X]=Z[K];return W}function w8($){return this instanceof w8?(this.v=$,this):new w8($)}function jY($,J,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=Q.apply($,J||[]),X,Z=[];return X={},K("next"),K("throw"),K("return"),X[Symbol.asyncIterator]=function(){return this},X;function K(z){if(W[z])X[z]=function(I){return new Promise(function(B,L){Z.push([z,I,B,L])>1||G(z,I)})}}function G(z,I){try{F(W[z](I))}catch(B){V(Z[0][3],B)}}function F(z){z.value instanceof w8?Promise.resolve(z.value.v).then(Y,U):V(Z[0][2],z)}function Y(z){G("next",z)}function U(z){G("throw",z)}function V(z,I){if(z(I),Z.shift(),Z.length)G(Z[0][0],Z[0][1])}}function DY($){var J,Q;return J={},W("next"),W("throw",function(X){throw X}),W("return"),J[Symbol.iterator]=function(){return this},J;function W(X,Z){J[X]=$[X]?function(K){return(Q=!Q)?{value:w8($[X](K)),done:X==="return"}:Z?Z(K):K}:Z}}function SY($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=$[Symbol.asyncIterator],Q;return J?J.call($):($=typeof UJ==="function"?UJ($):$[Symbol.iterator](),Q={},W("next"),W("throw"),W("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function W(Z){Q[Z]=$[Z]&&function(K){return new Promise(function(G,F){K=$[Z](K),X(G,F,K.done,K.value)})}}function X(Z,K,G,F){Promise.resolve(F).then(function(Y){Z({value:Y,done:G})},K)}}function EY($,J){if(Object.defineProperty)Object.defineProperty($,"raw",{value:J});else $.raw=J;return $}function NY($){if($&&$.__esModule)return $;var J={};if($!=null){for(var Q in $)if(Object.hasOwnProperty.call($,Q))J[Q]=$[Q]}return J.default=$,J}function kY($){return $&&$.__esModule?$:{default:$}}function _Y($,J){if(!J.has($))throw new TypeError("attempted to get private field on non-instance");return J.get($)}function fY($,J,Q){if(!J.has($))throw new TypeError("attempted to set private field on non-instance");return J.set($,Q),Q}var FJ,zJ;var y6=N0(()=>{/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */FJ=function($,J){return FJ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,W){Q.__proto__=W}||function(Q,W){for(var X in W)if(W.hasOwnProperty(X))Q[X]=W[X]},FJ($,J)},zJ=function(){return zJ=Object.assign||function $(J){for(var Q,W=1,X=arguments.length;W<X;W++){Q=arguments[W];for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z))J[Z]=Q[Z]}return J},zJ.apply(this,arguments)}});var x6=M((b6)=>{Object.defineProperty(b6,"__esModule",{value:!0})});var l6=M((m6)=>{Object.defineProperty(m6,"__esModule",{value:!0})});var d6=M((c6)=>{Object.defineProperty(c6,"__esModule",{value:!0})});var r6=M((s6)=>{Object.defineProperty(s6,"__esModule",{value:!0})});var a6=M((i6)=>{var hY=function($){return("MSInputMethodContext"in $)&&("msCrypto"in $)},gY=function($){if(hY($)&&$.msCrypto.subtle!==void 0){var J=$.msCrypto,Q=J.getRandomValues,W=J.subtle;return PY.map(function(X){return W[X]}).concat(Q).every(function(X){return typeof X==="function"})}return!1};Object.defineProperty(i6,"__esModule",{value:!0});i6.isMsWindow=void 0;var PY=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];i6.isMsWindow=gY});var VJ=M((v0)=>{Object.defineProperty(v0,"__esModule",{value:!0});var H8=(y6(),a(v6));H8.__exportStar(x6(),v0);H8.__exportStar(l6(),v0);H8.__exportStar(d6(),v0);H8.__exportStar(r6(),v0);H8.__exportStar(a6(),v0)});var e6=M((u6)=>{Object.defineProperty(u6,"__esModule",{value:!0});u6.Sha1=void 0;var vY=e$(),yY=$J(),bY=YJ(),xY=VJ(),n6=g0(),mY=Y0(),lY=function(){function $(J){if((0,bY.supportsWebCrypto)((0,n6.locateWindow)()))this.hash=new yY.Sha1(J);else if((0,xY.isMsWindow)((0,n6.locateWindow)()))this.hash=new vY.Sha1(J);else throw new Error("SHA1 not supported")}return $.prototype.update=function(J,Q){this.hash.update((0,mY.convertToBuffer)(J))},$.prototype.digest=function(){return this.hash.digest()},$.prototype.reset=function(){this.hash.reset()},$}();u6.Sha1=lY});var t6=M((C8)=>{Object.defineProperty(C8,"__esModule",{value:!0});C8.WebCryptoSha1=C8.Ie11Sha1=void 0;var cY=(I6(),a(V6));cY.__exportStar(e6(),C8);var dY=e$();Object.defineProperty(C8,"Ie11Sha1",{enumerable:!0,get:function(){return dY.Sha1}});var sY=$J();Object.defineProperty(C8,"WebCryptoSha1",{enumerable:!0,get:function(){return sY.Sha1}})});var J4={};K0(J4,{__values:()=>{{return LJ}},__spreadArrays:()=>{{return QF}},__spread:()=>{{return JF}},__rest:()=>{{return pY}},__read:()=>{{return $4}},__param:()=>{{return nY}},__metadata:()=>{{return uY}},__makeTemplateObject:()=>{{return GF}},__importStar:()=>{{return KF}},__importDefault:()=>{{return YF}},__generator:()=>{{return eY}},__extends:()=>{{return iY}},__exportStar:()=>{{return $F}},__decorate:()=>{{return aY}},__createBinding:()=>{{return tY}},__classPrivateFieldSet:()=>{{return zF}},__classPrivateFieldGet:()=>{{return FF}},__awaiter:()=>{{return oY}},__await:()=>{{return R8}},__asyncValues:()=>{{return ZF}},__asyncGenerator:()=>{{return WF}},__asyncDelegator:()=>{{return XF}},__assign:()=>{{return BJ}}});function iY($,J){IJ($,J);function Q(){this.constructor=$}$.prototype=J===null?Object.create(J):(Q.prototype=J.prototype,new Q)}function pY($,J){var Q={};for(var W in $)if(Object.prototype.hasOwnProperty.call($,W)&&J.indexOf(W)<0)Q[W]=$[W];if($!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var X=0,W=Object.getOwnPropertySymbols($);X<W.length;X++)if(J.indexOf(W[X])<0&&Object.prototype.propertyIsEnumerable.call($,W[X]))Q[W[X]]=$[W[X]]}return Q}function aY($,J,Q,W){var X=arguments.length,Z=X<3?J:W===null?W=Object.getOwnPropertyDescriptor(J,Q):W,K;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate($,J,Q,W);else for(var G=$.length-1;G>=0;G--)if(K=$[G])Z=(X<3?K(Z):X>3?K(J,Q,Z):K(J,Q))||Z;return X>3&&Z&&Object.defineProperty(J,Q,Z),Z}function nY($,J){return function(Q,W){J(Q,W,$)}}function uY($,J){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata($,J)}function oY($,J,Q,W){function X(Z){return Z instanceof Q?Z:new Q(function(K){K(Z)})}return new(Q||(Q=Promise))(function(Z,K){function G(U){try{Y(W.next(U))}catch(V){K(V)}}function F(U){try{Y(W.throw(U))}catch(V){K(V)}}function Y(U){U.done?Z(U.value):X(U.value).then(G,F)}Y((W=W.apply($,J||[])).next())})}function eY($,J){var Q={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},W,X,Z,K;return K={next:G(0),throw:G(1),return:G(2)},typeof Symbol==="function"&&(K[Symbol.iterator]=function(){return this}),K;function G(Y){return function(U){return F([Y,U])}}function F(Y){if(W)throw new TypeError("Generator is already executing.");while(Q)try{if(W=1,X&&(Z=Y[0]&2?X.return:Y[0]?X.throw||((Z=X.return)&&Z.call(X),0):X.next)&&!(Z=Z.call(X,Y[1])).done)return Z;if(X=0,Z)Y=[Y[0]&2,Z.value];switch(Y[0]){case 0:case 1:Z=Y;break;case 4:return Q.label++,{value:Y[1],done:!1};case 5:Q.label++,X=Y[1],Y=[0];continue;case 7:Y=Q.ops.pop(),Q.trys.pop();continue;default:if((Z=Q.trys,!(Z=Z.length>0&&Z[Z.length-1]))&&(Y[0]===6||Y[0]===2)){Q=0;continue}if(Y[0]===3&&(!Z||Y[1]>Z[0]&&Y[1]<Z[3])){Q.label=Y[1];break}if(Y[0]===6&&Q.label<Z[1]){Q.label=Z[1],Z=Y;break}if(Z&&Q.label<Z[2]){Q.label=Z[2],Q.ops.push(Y);break}if(Z[2])Q.ops.pop();Q.trys.pop();continue}Y=J.call($,Q)}catch(U){Y=[6,U],X=0}finally{W=Z=0}if(Y[0]&5)throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}}function tY($,J,Q,W){if(W===void 0)W=Q;$[W]=J[Q]}function $F($,J){for(var Q in $)if(Q!=="default"&&!J.hasOwnProperty(Q))J[Q]=$[Q]}function LJ($){var J=typeof Symbol==="function"&&Symbol.iterator,Q=J&&$[J],W=0;if(Q)return Q.call($);if($&&typeof $.length==="number")return{next:function(){if($&&W>=$.length)$=void 0;return{value:$&&$[W++],done:!$}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function $4($,J){var Q=typeof Symbol==="function"&&$[Symbol.iterator];if(!Q)return $;var W=Q.call($),X,Z=[],K;try{while((J===void 0||J-- >0)&&!(X=W.next()).done)Z.push(X.value)}catch(G){K={error:G}}finally{try{if(X&&!X.done&&(Q=W.return))Q.call(W)}finally{if(K)throw K.error}}return Z}function JF(){for(var $=[],J=0;J<arguments.length;J++)$=$.concat($4(arguments[J]));return $}function QF(){for(var $=0,J=0,Q=arguments.length;J<Q;J++)$+=arguments[J].length;for(var W=Array($),X=0,J=0;J<Q;J++)for(var Z=arguments[J],K=0,G=Z.length;K<G;K++,X++)W[X]=Z[K];return W}function R8($){return this instanceof R8?(this.v=$,this):new R8($)}function WF($,J,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=Q.apply($,J||[]),X,Z=[];return X={},K("next"),K("throw"),K("return"),X[Symbol.asyncIterator]=function(){return this},X;function K(z){if(W[z])X[z]=function(I){return new Promise(function(B,L){Z.push([z,I,B,L])>1||G(z,I)})}}function G(z,I){try{F(W[z](I))}catch(B){V(Z[0][3],B)}}function F(z){z.value instanceof R8?Promise.resolve(z.value.v).then(Y,U):V(Z[0][2],z)}function Y(z){G("next",z)}function U(z){G("throw",z)}function V(z,I){if(z(I),Z.shift(),Z.length)G(Z[0][0],Z[0][1])}}function XF($){var J,Q;return J={},W("next"),W("throw",function(X){throw X}),W("return"),J[Symbol.iterator]=function(){return this},J;function W(X,Z){J[X]=$[X]?function(K){return(Q=!Q)?{value:R8($[X](K)),done:X==="return"}:Z?Z(K):K}:Z}}function ZF($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=$[Symbol.asyncIterator],Q;return J?J.call($):($=typeof LJ==="function"?LJ($):$[Symbol.iterator](),Q={},W("next"),W("throw"),W("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function W(Z){Q[Z]=$[Z]&&function(K){return new Promise(function(G,F){K=$[Z](K),X(G,F,K.done,K.value)})}}function X(Z,K,G,F){Promise.resolve(F).then(function(Y){Z({value:Y,done:G})},K)}}function GF($,J){if(Object.defineProperty)Object.defineProperty($,"raw",{value:J});else $.raw=J;return $}function KF($){if($&&$.__esModule)return $;var J={};if($!=null){for(var Q in $)if(Object.hasOwnProperty.call($,Q))J[Q]=$[Q]}return J.default=$,J}function YF($){return $&&$.__esModule?$:{default:$}}function FF($,J){if(!J.has($))throw new TypeError("attempted to get private field on non-instance");return J.get($)}function zF($,J,Q){if(!J.has($))throw new TypeError("attempted to set private field on non-instance");return J.set($,Q),Q}var IJ,BJ;var Q4=N0(()=>{/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */IJ=function($,J){return IJ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,W){Q.__proto__=W}||function(Q,W){for(var X in W)if(W.hasOwnProperty(X))Q[X]=W[X]},IJ($,J)},BJ=function(){return BJ=Object.assign||function $(J){for(var Q,W=1,X=arguments.length;W<X;W++){Q=arguments[W];for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z))J[Z]=Q[Z]}return J},BJ.apply(this,arguments)}});var Z4=M((W4)=>{var UF=function($){if(typeof $==="string")return $.length===0;return $.byteLength===0};Object.defineProperty(W4,"__esModule",{value:!0});W4.isEmptyData=void 0;W4.isEmptyData=UF});var MJ=M((G4)=>{Object.defineProperty(G4,"__esModule",{value:!0});G4.EMPTY_DATA_SHA_256=G4.SHA_256_HMAC_ALGO=G4.SHA_256_HASH=void 0;G4.SHA_256_HASH={name:"SHA-256"};G4.SHA_256_HMAC_ALGO={name:"HMAC",hash:G4.SHA_256_HASH};G4.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])});var wJ=M((U4)=>{var MF=function($){return new Promise(function(J,Q){var W=(0,qJ.locateWindow)().msCrypto.subtle.importKey("raw",z4($),F4.SHA_256_HMAC_ALGO,!1,["sign"]);W.oncomplete=function(){if(W.result)J(W.result);Q(new Error("ImportKey completed without importing key."))},W.onerror=function(){Q(new Error("ImportKey failed to import key."))}})},z4=function($){if(typeof $==="string")return(0,BF.fromUtf8)($);if(ArrayBuffer.isView($))return new Uint8Array($.buffer,$.byteOffset,$.byteLength/Uint8Array.BYTES_PER_ELEMENT);return new Uint8Array($)};Object.defineProperty(U4,"__esModule",{value:!0});U4.Sha256=void 0;var IF=Z4(),F4=MJ(),BF=Q8(),qJ=g0(),LF=function(){function $(J){this.secret=J,this.reset()}return $.prototype.update=function(J){var Q=this;if((0,IF.isEmptyData)(J))return;this.operation=this.operation.then(function(W){return W.onerror=function(){Q.operation=Promise.reject(new Error("Error encountered updating hash"))},W.process(z4(J)),W}),this.operation.catch(function(){})},$.prototype.digest=function(){return this.operation.then(function(J){return new Promise(function(Q,W){J.onerror=function(){W(new Error("Error encountered finalizing hash"))},J.oncomplete=function(){if(J.result)Q(new Uint8Array(J.result));W(new Error("Error encountered finalizing hash"))},J.finish()})})},$.prototype.reset=function(){if(this.secret)this.operation=MF(this.secret).then(function(J){return(0,qJ.locateWindow)().msCrypto.subtle.sign(F4.SHA_256_HMAC_ALGO,J)}),this.operation.catch(function(){});else this.operation=Promise.resolve((0,qJ.locateWindow)().msCrypto.subtle.digest("SHA-256"))},$}();U4.Sha256=LF});var CJ=M((I4)=>{Object.defineProperty(I4,"__esModule",{value:!0});I4.Sha256=void 0;var L1=Y0(),M1=MJ(),HJ=g0(),qF=function(){function $(J){this.toHash=new Uint8Array(0),this.secret=J,this.reset()}return $.prototype.update=function(J){if((0,L1.isEmptyData)(J))return;var Q=(0,L1.convertToBuffer)(J),W=new Uint8Array(this.toHash.byteLength+Q.byteLength);W.set(this.toHash,0),W.set(Q,this.toHash.byteLength),this.toHash=W},$.prototype.digest=function(){var J=this;if(this.key)return this.key.then(function(Q){return(0,HJ.locateWindow)().crypto.subtle.sign(M1.SHA_256_HMAC_ALGO,Q,J.toHash).then(function(W){return new Uint8Array(W)})});if((0,L1.isEmptyData)(this.toHash))return Promise.resolve(M1.EMPTY_DATA_SHA_256);return Promise.resolve().then(function(){return(0,HJ.locateWindow)().crypto.subtle.digest(M1.SHA_256_HASH,J.toHash)}).then(function(Q){return Promise.resolve(new Uint8Array(Q))})},$.prototype.reset=function(){var J=this;if(this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0)this.key=new Promise(function(Q,W){(0,HJ.locateWindow)().crypto.subtle.importKey("raw",(0,L1.convertToBuffer)(J.secret),M1.SHA_256_HMAC_ALGO,!1,["sign"]).then(Q,W)}),this.key.catch(function(){})},$}();I4.Sha256=qF});var OJ={};K0(OJ,{__values:()=>{{return AJ}},__spreadArrays:()=>{{return EF}},__spread:()=>{{return SF}},__rest:()=>{{return HF}},__read:()=>{{return L4}},__param:()=>{{return RF}},__metadata:()=>{{return TF}},__makeTemplateObject:()=>{{return fF}},__importStar:()=>{{return PF}},__importDefault:()=>{{return hF}},__generator:()=>{{return OF}},__extends:()=>{{return wF}},__exportStar:()=>{{return DF}},__decorate:()=>{{return CF}},__createBinding:()=>{{return jF}},__classPrivateFieldSet:()=>{{return vF}},__classPrivateFieldGet:()=>{{return gF}},__awaiter:()=>{{return AF}},__await:()=>{{return T8}},__asyncValues:()=>{{return _F}},__asyncGenerator:()=>{{return NF}},__asyncDelegator:()=>{{return kF}},__assign:()=>{{return TJ}}});function wF($,J){RJ($,J);function Q(){this.constructor=$}$.prototype=J===null?Object.create(J):(Q.prototype=J.prototype,new Q)}function HF($,J){var Q={};for(var W in $)if(Object.prototype.hasOwnProperty.call($,W)&&J.indexOf(W)<0)Q[W]=$[W];if($!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var X=0,W=Object.getOwnPropertySymbols($);X<W.length;X++)if(J.indexOf(W[X])<0&&Object.prototype.propertyIsEnumerable.call($,W[X]))Q[W[X]]=$[W[X]]}return Q}function CF($,J,Q,W){var X=arguments.length,Z=X<3?J:W===null?W=Object.getOwnPropertyDescriptor(J,Q):W,K;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate($,J,Q,W);else for(var G=$.length-1;G>=0;G--)if(K=$[G])Z=(X<3?K(Z):X>3?K(J,Q,Z):K(J,Q))||Z;return X>3&&Z&&Object.defineProperty(J,Q,Z),Z}function RF($,J){return function(Q,W){J(Q,W,$)}}function TF($,J){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata($,J)}function AF($,J,Q,W){function X(Z){return Z instanceof Q?Z:new Q(function(K){K(Z)})}return new(Q||(Q=Promise))(function(Z,K){function G(U){try{Y(W.next(U))}catch(V){K(V)}}function F(U){try{Y(W.throw(U))}catch(V){K(V)}}function Y(U){U.done?Z(U.value):X(U.value).then(G,F)}Y((W=W.apply($,J||[])).next())})}function OF($,J){var Q={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},W,X,Z,K;return K={next:G(0),throw:G(1),return:G(2)},typeof Symbol==="function"&&(K[Symbol.iterator]=function(){return this}),K;function G(Y){return function(U){return F([Y,U])}}function F(Y){if(W)throw new TypeError("Generator is already executing.");while(Q)try{if(W=1,X&&(Z=Y[0]&2?X.return:Y[0]?X.throw||((Z=X.return)&&Z.call(X),0):X.next)&&!(Z=Z.call(X,Y[1])).done)return Z;if(X=0,Z)Y=[Y[0]&2,Z.value];switch(Y[0]){case 0:case 1:Z=Y;break;case 4:return Q.label++,{value:Y[1],done:!1};case 5:Q.label++,X=Y[1],Y=[0];continue;case 7:Y=Q.ops.pop(),Q.trys.pop();continue;default:if((Z=Q.trys,!(Z=Z.length>0&&Z[Z.length-1]))&&(Y[0]===6||Y[0]===2)){Q=0;continue}if(Y[0]===3&&(!Z||Y[1]>Z[0]&&Y[1]<Z[3])){Q.label=Y[1];break}if(Y[0]===6&&Q.label<Z[1]){Q.label=Z[1],Z=Y;break}if(Z&&Q.label<Z[2]){Q.label=Z[2],Q.ops.push(Y);break}if(Z[2])Q.ops.pop();Q.trys.pop();continue}Y=J.call($,Q)}catch(U){Y=[6,U],X=0}finally{W=Z=0}if(Y[0]&5)throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}}function jF($,J,Q,W){if(W===void 0)W=Q;$[W]=J[Q]}function DF($,J){for(var Q in $)if(Q!=="default"&&!J.hasOwnProperty(Q))J[Q]=$[Q]}function AJ($){var J=typeof Symbol==="function"&&Symbol.iterator,Q=J&&$[J],W=0;if(Q)return Q.call($);if($&&typeof $.length==="number")return{next:function(){if($&&W>=$.length)$=void 0;return{value:$&&$[W++],done:!$}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function L4($,J){var Q=typeof Symbol==="function"&&$[Symbol.iterator];if(!Q)return $;var W=Q.call($),X,Z=[],K;try{while((J===void 0||J-- >0)&&!(X=W.next()).done)Z.push(X.value)}catch(G){K={error:G}}finally{try{if(X&&!X.done&&(Q=W.return))Q.call(W)}finally{if(K)throw K.error}}return Z}function SF(){for(var $=[],J=0;J<arguments.length;J++)$=$.concat(L4(arguments[J]));return $}function EF(){for(var $=0,J=0,Q=arguments.length;J<Q;J++)$+=arguments[J].length;for(var W=Array($),X=0,J=0;J<Q;J++)for(var Z=arguments[J],K=0,G=Z.length;K<G;K++,X++)W[X]=Z[K];return W}function T8($){return this instanceof T8?(this.v=$,this):new T8($)}function NF($,J,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=Q.apply($,J||[]),X,Z=[];return X={},K("next"),K("throw"),K("return"),X[Symbol.asyncIterator]=function(){return this},X;function K(z){if(W[z])X[z]=function(I){return new Promise(function(B,L){Z.push([z,I,B,L])>1||G(z,I)})}}function G(z,I){try{F(W[z](I))}catch(B){V(Z[0][3],B)}}function F(z){z.value instanceof T8?Promise.resolve(z.value.v).then(Y,U):V(Z[0][2],z)}function Y(z){G("next",z)}function U(z){G("throw",z)}function V(z,I){if(z(I),Z.shift(),Z.length)G(Z[0][0],Z[0][1])}}function kF($){var J,Q;return J={},W("next"),W("throw",function(X){throw X}),W("return"),J[Symbol.iterator]=function(){return this},J;function W(X,Z){J[X]=$[X]?function(K){return(Q=!Q)?{value:T8($[X](K)),done:X==="return"}:Z?Z(K):K}:Z}}function _F($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=$[Symbol.asyncIterator],Q;return J?J.call($):($=typeof AJ==="function"?AJ($):$[Symbol.iterator](),Q={},W("next"),W("throw"),W("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function W(Z){Q[Z]=$[Z]&&function(K){return new Promise(function(G,F){K=$[Z](K),X(G,F,K.done,K.value)})}}function X(Z,K,G,F){Promise.resolve(F).then(function(Y){Z({value:Y,done:G})},K)}}function fF($,J){if(Object.defineProperty)Object.defineProperty($,"raw",{value:J});else $.raw=J;return $}function PF($){if($&&$.__esModule)return $;var J={};if($!=null){for(var Q in $)if(Object.hasOwnProperty.call($,Q))J[Q]=$[Q]}return J.default=$,J}function hF($){return $&&$.__esModule?$:{default:$}}function gF($,J){if(!J.has($))throw new TypeError("attempted to get private field on non-instance");return J.get($)}function vF($,J,Q){if(!J.has($))throw new TypeError("attempted to set private field on non-instance");return J.set($,Q),Q}var RJ,TJ;var jJ=N0(()=>{/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */RJ=function($,J){return RJ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,W){Q.__proto__=W}||function(Q,W){for(var X in W)if(W.hasOwnProperty(X))Q[X]=W[X]},RJ($,J)},TJ=function(){return TJ=Object.assign||function $(J){for(var Q,W=1,X=arguments.length;W<X;W++){Q=arguments[W];for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z))J[Z]=Q[Z]}return J},TJ.apply(this,arguments)}});var DJ=M((M4)=>{Object.defineProperty(M4,"__esModule",{value:!0});M4.MAX_HASHABLE_LENGTH=M4.INIT=M4.KEY=M4.DIGEST_LENGTH=M4.BLOCK_SIZE=void 0;M4.BLOCK_SIZE=64;M4.DIGEST_LENGTH=32;M4.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);M4.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];M4.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1});var C4=M((w4)=>{Object.defineProperty(w4,"__esModule",{value:!0});w4.RawSha256=void 0;var u=DJ(),lF=function(){function $(){this.state=Int32Array.from(u.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return $.prototype.update=function(J){if(this.finished)throw new Error("Attempted to update an already finished hash.");var Q=0,W=J.byteLength;if(this.bytesHashed+=W,this.bytesHashed*8>u.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");while(W>0)if(this.buffer[this.bufferLength++]=J[Q++],W--,this.bufferLength===u.BLOCK_SIZE)this.hashBuffer(),this.bufferLength=0},$.prototype.digest=function(){if(!this.finished){var J=this.bytesHashed*8,Q=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),W=this.bufferLength;if(Q.setUint8(this.bufferLength++,128),W%u.BLOCK_SIZE>=u.BLOCK_SIZE-8){for(var X=this.bufferLength;X<u.BLOCK_SIZE;X++)Q.setUint8(X,0);this.hashBuffer(),this.bufferLength=0}for(var X=this.bufferLength;X<u.BLOCK_SIZE-8;X++)Q.setUint8(X,0);Q.setUint32(u.BLOCK_SIZE-8,Math.floor(J/4294967296),!0),Q.setUint32(u.BLOCK_SIZE-4,J),this.hashBuffer(),this.finished=!0}var Z=new Uint8Array(u.DIGEST_LENGTH);for(var X=0;X<8;X++)Z[X*4]=this.state[X]>>>24&255,Z[X*4+1]=this.state[X]>>>16&255,Z[X*4+2]=this.state[X]>>>8&255,Z[X*4+3]=this.state[X]>>>0&255;return Z},$.prototype.hashBuffer=function(){var J=this,Q=J.buffer,W=J.state,X=W[0],Z=W[1],K=W[2],G=W[3],F=W[4],Y=W[5],U=W[6],V=W[7];for(var z=0;z<u.BLOCK_SIZE;z++){if(z<16)this.temp[z]=(Q[z*4]&255)<<24|(Q[z*4+1]&255)<<16|(Q[z*4+2]&255)<<8|Q[z*4+3]&255;else{var I=this.temp[z-2],B=(I>>>17|I<<15)^(I>>>19|I<<13)^I>>>10;I=this.temp[z-15];var L=(I>>>7|I<<25)^(I>>>18|I<<14)^I>>>3;this.temp[z]=(B+this.temp[z-7]|0)+(L+this.temp[z-16]|0)}var q=(((F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7))+(F&Y^~F&U)|0)+(V+(u.KEY[z]+this.temp[z]|0)|0)|0,E=((X>>>2|X<<30)^(X>>>13|X<<19)^(X>>>22|X<<10))+(X&Z^X&K^Z&K)|0;V=U,U=Y,Y=F,F=G+q|0,G=K,K=Z,Z=X,X=q+E|0}W[0]+=X,W[1]+=Z,W[2]+=K,W[3]+=G,W[4]+=F,W[5]+=Y,W[6]+=U,W[7]+=V},$}();w4.RawSha256=lF});var O4=M((T4)=>{var dF=function($){var J=(0,SJ.convertToBuffer)($);if(J.byteLength>w1.BLOCK_SIZE){var Q=new q1.RawSha256;Q.update(J),J=Q.digest()}var W=new Uint8Array(w1.BLOCK_SIZE);return W.set(J),W};Object.defineProperty(T4,"__esModule",{value:!0});T4.Sha256=void 0;var R4=(jJ(),a(OJ)),w1=DJ(),q1=C4(),SJ=Y0(),cF=function(){function $(J){this.secret=J,this.hash=new q1.RawSha256,this.reset()}return $.prototype.update=function(J){if((0,SJ.isEmptyData)(J)||this.error)return;try{this.hash.update((0,SJ.convertToBuffer)(J))}catch(Q){this.error=Q}},$.prototype.digestSync=function(){if(this.error)throw this.error;if(this.outer){if(!this.outer.finished)this.outer.update(this.hash.digest());return this.outer.digest()}return this.hash.digest()},$.prototype.digest=function(){return R4.__awaiter(this,void 0,void 0,function(){return R4.__generator(this,function(J){return[2,this.digestSync()]})})},$.prototype.reset=function(){if(this.hash=new q1.RawSha256,this.secret){this.outer=new q1.RawSha256;var J=dF(this.secret),Q=new Uint8Array(w1.BLOCK_SIZE);Q.set(J);for(var W=0;W<w1.BLOCK_SIZE;W++)J[W]^=54,Q[W]^=92;this.hash.update(J),this.outer.update(Q);for(var W=0;W<J.byteLength;W++)J[W]=0}},$}();T4.Sha256=cF});var j4=M((EJ)=>{Object.defineProperty(EJ,"__esModule",{value:!0});var sF=(jJ(),a(OJ));sF.__exportStar(O4(),EJ)});var N4=M((S4)=>{Object.defineProperty(S4,"__esModule",{value:!0});S4.Sha256=void 0;var rF=wJ(),iF=CJ(),pF=j4(),aF=YJ(),nF=VJ(),D4=g0(),uF=Y0(),oF=function(){function $(J){if((0,aF.supportsWebCrypto)((0,D4.locateWindow)()))this.hash=new iF.Sha256(J);else if((0,nF.isMsWindow)((0,D4.locateWindow)()))this.hash=new rF.Sha256(J);else this.hash=new pF.Sha256(J)}return $.prototype.update=function(J,Q){this.hash.update((0,uF.convertToBuffer)(J))},$.prototype.digest=function(){return this.hash.digest()},$.prototype.reset=function(){this.hash.reset()},$}();S4.Sha256=oF});var k4=M((A8)=>{Object.defineProperty(A8,"__esModule",{value:!0});A8.WebCryptoSha256=A8.Ie11Sha256=void 0;var eF=(Q4(),a(J4));eF.__exportStar(N4(),A8);var tF=wJ();Object.defineProperty(A8,"Ie11Sha256",{enumerable:!0,get:function(){return tF.Sha256}});var $z=CJ();Object.defineProperty(A8,"WebCryptoSha256",{enumerable:!0,get:function(){return $z.Sha256}})});var fJ=M((O8,_J)=>{(function($,J){typeof O8=="object"&&typeof _J=="object"?_J.exports=J():typeof define=="function"&&define.amd?define([],J):typeof O8=="object"?O8.bowser=J():$.bowser=J()})(O8,function(){return function($){var J={};function Q(W){if(J[W])return J[W].exports;var X=J[W]={i:W,l:!1,exports:{}};return $[W].call(X.exports,X,X.exports,Q),X.l=!0,X.exports}return Q.m=$,Q.c=J,Q.d=function(W,X,Z){Q.o(W,X)||Object.defineProperty(W,X,{enumerable:!0,get:Z})},Q.r=function(W){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(W,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(W,"__esModule",{value:!0})},Q.t=function(W,X){if(1&X&&(W=Q(W)),8&X)return W;if(4&X&&typeof W=="object"&&W&&W.__esModule)return W;var Z=Object.create(null);if(Q.r(Z),Object.defineProperty(Z,"default",{enumerable:!0,value:W}),2&X&&typeof W!="string")for(var K in W)Q.d(Z,K,function(G){return W[G]}.bind(null,K));return Z},Q.n=function(W){var X=W&&W.__esModule?function(){return W.default}:function(){return W};return Q.d(X,"a",X),X},Q.o=function(W,X){return Object.prototype.hasOwnProperty.call(W,X)},Q.p="",Q(Q.s=90)}({17:function($,J,Q){J.__esModule=!0,J.default=void 0;var W=Q(18),X=function(){function Z(){}return Z.getFirstMatch=function(K,G){var F=G.match(K);return F&&F.length>0&&F[1]||""},Z.getSecondMatch=function(K,G){var F=G.match(K);return F&&F.length>1&&F[2]||""},Z.matchAndReturnConst=function(K,G,F){if(K.test(G))return F},Z.getWindowsVersionName=function(K){switch(K){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},Z.getMacOSVersionName=function(K){var G=K.split(".").splice(0,2).map(function(F){return parseInt(F,10)||0});if(G.push(0),G[0]===10)switch(G[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},Z.getAndroidVersionName=function(K){var G=K.split(".").splice(0,2).map(function(F){return parseInt(F,10)||0});if(G.push(0),!(G[0]===1&&G[1]<5))return G[0]===1&&G[1]<6?"Cupcake":G[0]===1&&G[1]>=6?"Donut":G[0]===2&&G[1]<2?"Eclair":G[0]===2&&G[1]===2?"Froyo":G[0]===2&&G[1]>2?"Gingerbread":G[0]===3?"Honeycomb":G[0]===4&&G[1]<1?"Ice Cream Sandwich":G[0]===4&&G[1]<4?"Jelly Bean":G[0]===4&&G[1]>=4?"KitKat":G[0]===5?"Lollipop":G[0]===6?"Marshmallow":G[0]===7?"Nougat":G[0]===8?"Oreo":G[0]===9?"Pie":void 0},Z.getVersionPrecision=function(K){return K.split(".").length},Z.compareVersions=function(K,G,F){F===void 0&&(F=!1);var Y=Z.getVersionPrecision(K),U=Z.getVersionPrecision(G),V=Math.max(Y,U),z=0,I=Z.map([K,G],function(B){var L=V-Z.getVersionPrecision(B),q=B+new Array(L+1).join(".0");return Z.map(q.split("."),function(E){return new Array(20-E.length).join("0")+E}).reverse()});for(F&&(z=V-Math.min(Y,U)),V-=1;V>=z;){if(I[0][V]>I[1][V])return 1;if(I[0][V]===I[1][V]){if(V===z)return 0;V-=1}else if(I[0][V]<I[1][V])return-1}},Z.map=function(K,G){var F,Y=[];if(Array.prototype.map)return Array.prototype.map.call(K,G);for(F=0;F<K.length;F+=1)Y.push(G(K[F]));return Y},Z.find=function(K,G){var F,Y;if(Array.prototype.find)return Array.prototype.find.call(K,G);for(F=0,Y=K.length;F<Y;F+=1){var U=K[F];if(G(U,F))return U}},Z.assign=function(K){for(var G,F,Y=K,U=arguments.length,V=new Array(U>1?U-1:0),z=1;z<U;z++)V[z-1]=arguments[z];if(Object.assign)return Object.assign.apply(Object,[K].concat(V));var I=function(){var B=V[G];typeof B=="object"&&B!==null&&Object.keys(B).forEach(function(L){Y[L]=B[L]})};for(G=0,F=V.length;G<F;G+=1)I();return K},Z.getBrowserAlias=function(K){return W.BROWSER_ALIASES_MAP[K]},Z.getBrowserTypeByAlias=function(K){return W.BROWSER_MAP[K]||""},Z}();J.default=X,$.exports=J.default},18:function($,J,Q){J.__esModule=!0,J.ENGINE_MAP=J.OS_MAP=J.PLATFORMS_MAP=J.BROWSER_MAP=J.BROWSER_ALIASES_MAP=void 0,J.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},J.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},J.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},J.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},J.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function($,J,Q){J.__esModule=!0,J.default=void 0;var W,X=(W=Q(91))&&W.__esModule?W:{default:W},Z=Q(18);function K(F,Y){for(var U=0;U<Y.length;U++){var V=Y[U];V.enumerable=V.enumerable||!1,V.configurable=!0,("value"in V)&&(V.writable=!0),Object.defineProperty(F,V.key,V)}}var G=function(){function F(){}var Y,U,V;return F.getParser=function(z,I){if(I===void 0&&(I=!1),typeof z!="string")throw new Error("UserAgent should be a string");return new X.default(z,I)},F.parse=function(z){return new X.default(z).getResult()},Y=F,V=[{key:"BROWSER_MAP",get:function(){return Z.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return Z.ENGINE_MAP}},{key:"OS_MAP",get:function(){return Z.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return Z.PLATFORMS_MAP}}],(U=null)&&K(Y.prototype,U),V&&K(Y,V),F}();J.default=G,$.exports=J.default},91:function($,J,Q){J.__esModule=!0,J.default=void 0;var W=F(Q(92)),X=F(Q(93)),Z=F(Q(94)),K=F(Q(95)),G=F(Q(17));function F(U){return U&&U.__esModule?U:{default:U}}var Y=function(){function U(z,I){if(I===void 0&&(I=!1),z==null||z==="")throw new Error("UserAgent parameter can't be empty");this._ua=z,this.parsedResult={},I!==!0&&this.parse()}var V=U.prototype;return V.getUA=function(){return this._ua},V.test=function(z){return z.test(this._ua)},V.parseBrowser=function(){var z=this;this.parsedResult.browser={};var I=G.default.find(W.default,function(B){if(typeof B.test=="function")return B.test(z);if(B.test instanceof Array)return B.test.some(function(L){return z.test(L)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.browser=I.describe(this.getUA())),this.parsedResult.browser},V.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},V.getBrowserName=function(z){return z?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},V.getBrowserVersion=function(){return this.getBrowser().version},V.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},V.parseOS=function(){var z=this;this.parsedResult.os={};var I=G.default.find(X.default,function(B){if(typeof B.test=="function")return B.test(z);if(B.test instanceof Array)return B.test.some(function(L){return z.test(L)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.os=I.describe(this.getUA())),this.parsedResult.os},V.getOSName=function(z){var I=this.getOS().name;return z?String(I).toLowerCase()||"":I||""},V.getOSVersion=function(){return this.getOS().version},V.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},V.getPlatformType=function(z){z===void 0&&(z=!1);var I=this.getPlatform().type;return z?String(I).toLowerCase()||"":I||""},V.parsePlatform=function(){var z=this;this.parsedResult.platform={};var I=G.default.find(Z.default,function(B){if(typeof B.test=="function")return B.test(z);if(B.test instanceof Array)return B.test.some(function(L){return z.test(L)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.platform=I.describe(this.getUA())),this.parsedResult.platform},V.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},V.getEngineName=function(z){return z?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},V.parseEngine=function(){var z=this;this.parsedResult.engine={};var I=G.default.find(K.default,function(B){if(typeof B.test=="function")return B.test(z);if(B.test instanceof Array)return B.test.some(function(L){return z.test(L)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.engine=I.describe(this.getUA())),this.parsedResult.engine},V.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},V.getResult=function(){return G.default.assign({},this.parsedResult)},V.satisfies=function(z){var I=this,B={},L=0,q={},E=0;if(Object.keys(z).forEach(function(Z0){var v8=z[Z0];typeof v8=="string"?(q[Z0]=v8,E+=1):typeof v8=="object"&&(B[Z0]=v8,L+=1)}),L>0){var X0=Object.keys(B),E0=G.default.find(X0,function(Z0){return I.isOS(Z0)});if(E0){var l0=this.satisfies(B[E0]);if(l0!==void 0)return l0}var g8=G.default.find(X0,function(Z0){return I.isPlatform(Z0)});if(g8){var OQ=this.satisfies(B[g8]);if(OQ!==void 0)return OQ}}if(E>0){var jG=Object.keys(q),jQ=G.default.find(jG,function(Z0){return I.isBrowser(Z0,!0)});if(jQ!==void 0)return this.compareVersion(q[jQ])}},V.isBrowser=function(z,I){I===void 0&&(I=!1);var B=this.getBrowserName().toLowerCase(),L=z.toLowerCase(),q=G.default.getBrowserTypeByAlias(L);return I&&q&&(L=q.toLowerCase()),L===B},V.compareVersion=function(z){var I=[0],B=z,L=!1,q=this.getBrowserVersion();if(typeof q=="string")return z[0]===">"||z[0]==="<"?(B=z.substr(1),z[1]==="="?(L=!0,B=z.substr(2)):I=[],z[0]===">"?I.push(1):I.push(-1)):z[0]==="="?B=z.substr(1):z[0]==="~"&&(L=!0,B=z.substr(1)),I.indexOf(G.default.compareVersions(q,B,L))>-1},V.isOS=function(z){return this.getOSName(!0)===String(z).toLowerCase()},V.isPlatform=function(z){return this.getPlatformType(!0)===String(z).toLowerCase()},V.isEngine=function(z){return this.getEngineName(!0)===String(z).toLowerCase()},V.is=function(z,I){return I===void 0&&(I=!1),this.isBrowser(z,I)||this.isOS(z)||this.isPlatform(z)},V.some=function(z){var I=this;return z===void 0&&(z=[]),z.some(function(B){return I.is(B)})},U}();J.default=Y,$.exports=J.default},92:function($,J,Q){J.__esModule=!0,J.default=void 0;var W,X=(W=Q(17))&&W.__esModule?W:{default:W},Z=/version\/(\d+(\.?_?\d+)+)/i,K=[{test:[/googlebot/i],describe:function(G){var F={name:"Googlebot"},Y=X.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/opera/i],describe:function(G){var F={name:"Opera"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/opr\/|opios/i],describe:function(G){var F={name:"Opera"},Y=X.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/SamsungBrowser/i],describe:function(G){var F={name:"Samsung Internet for Android"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/Whale/i],describe:function(G){var F={name:"NAVER Whale Browser"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/MZBrowser/i],describe:function(G){var F={name:"MZ Browser"},Y=X.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/focus/i],describe:function(G){var F={name:"Focus"},Y=X.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/swing/i],describe:function(G){var F={name:"Swing"},Y=X.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/coast/i],describe:function(G){var F={name:"Opera Coast"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(G){var F={name:"Opera Touch"},Y=X.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/yabrowser/i],describe:function(G){var F={name:"Yandex Browser"},Y=X.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/ucbrowser/i],describe:function(G){var F={name:"UC Browser"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/Maxthon|mxios/i],describe:function(G){var F={name:"Maxthon"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/epiphany/i],describe:function(G){var F={name:"Epiphany"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/puffin/i],describe:function(G){var F={name:"Puffin"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/sleipnir/i],describe:function(G){var F={name:"Sleipnir"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/k-meleon/i],describe:function(G){var F={name:"K-Meleon"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/micromessenger/i],describe:function(G){var F={name:"WeChat"},Y=X.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/qqbrowser/i],describe:function(G){var F={name:/qqbrowserlite/i.test(G)?"QQ Browser Lite":"QQ Browser"},Y=X.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/msie|trident/i],describe:function(G){var F={name:"Internet Explorer"},Y=X.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/\sedg\//i],describe:function(G){var F={name:"Microsoft Edge"},Y=X.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/edg([ea]|ios)/i],describe:function(G){var F={name:"Microsoft Edge"},Y=X.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/vivaldi/i],describe:function(G){var F={name:"Vivaldi"},Y=X.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/seamonkey/i],describe:function(G){var F={name:"SeaMonkey"},Y=X.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/sailfish/i],describe:function(G){var F={name:"Sailfish"},Y=X.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,G);return Y&&(F.version=Y),F}},{test:[/silk/i],describe:function(G){var F={name:"Amazon Silk"},Y=X.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/phantom/i],describe:function(G){var F={name:"PhantomJS"},Y=X.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/slimerjs/i],describe:function(G){var F={name:"SlimerJS"},Y=X.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(G){var F={name:"BlackBerry"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/(web|hpw)[o0]s/i],describe:function(G){var F={name:"WebOS Browser"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/bada/i],describe:function(G){var F={name:"Bada"},Y=X.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/tizen/i],describe:function(G){var F={name:"Tizen"},Y=X.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/qupzilla/i],describe:function(G){var F={name:"QupZilla"},Y=X.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/firefox|iceweasel|fxios/i],describe:function(G){var F={name:"Firefox"},Y=X.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/electron/i],describe:function(G){var F={name:"Electron"},Y=X.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/MiuiBrowser/i],describe:function(G){var F={name:"Miui"},Y=X.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/chromium/i],describe:function(G){var F={name:"Chromium"},Y=X.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/chrome|crios|crmo/i],describe:function(G){var F={name:"Chrome"},Y=X.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/GSA/i],describe:function(G){var F={name:"Google Search"},Y=X.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:function(G){var F=!G.test(/like android/i),Y=G.test(/android/i);return F&&Y},describe:function(G){var F={name:"Android Browser"},Y=X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/playstation 4/i],describe:function(G){var F={name:"PlayStation 4"},Y=X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/safari|applewebkit/i],describe:function(G){var F={name:"Safari"},Y=X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/.*/i],describe:function(G){var F=G.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:X.default.getFirstMatch(F,G),version:X.default.getSecondMatch(F,G)}}}];J.default=K,$.exports=J.default},93:function($,J,Q){J.__esModule=!0,J.default=void 0;var W,X=(W=Q(17))&&W.__esModule?W:{default:W},Z=Q(18),K=[{test:[/Roku\/DVP/],describe:function(G){var F=X.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,G);return{name:Z.OS_MAP.Roku,version:F}}},{test:[/windows phone/i],describe:function(G){var F=X.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,G);return{name:Z.OS_MAP.WindowsPhone,version:F}}},{test:[/windows /i],describe:function(G){var F=X.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,G),Y=X.default.getWindowsVersionName(F);return{name:Z.OS_MAP.Windows,version:F,versionName:Y}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(G){var F={name:Z.OS_MAP.iOS},Y=X.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,G);return Y&&(F.version=Y),F}},{test:[/macintosh/i],describe:function(G){var F=X.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,G).replace(/[_\s]/g,"."),Y=X.default.getMacOSVersionName(F),U={name:Z.OS_MAP.MacOS,version:F};return Y&&(U.versionName=Y),U}},{test:[/(ipod|iphone|ipad)/i],describe:function(G){var F=X.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,G).replace(/[_\s]/g,".");return{name:Z.OS_MAP.iOS,version:F}}},{test:function(G){var F=!G.test(/like android/i),Y=G.test(/android/i);return F&&Y},describe:function(G){var F=X.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,G),Y=X.default.getAndroidVersionName(F),U={name:Z.OS_MAP.Android,version:F};return Y&&(U.versionName=Y),U}},{test:[/(web|hpw)[o0]s/i],describe:function(G){var F=X.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,G),Y={name:Z.OS_MAP.WebOS};return F&&F.length&&(Y.version=F),Y}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(G){var F=X.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,G)||X.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,G)||X.default.getFirstMatch(/\bbb(\d+)/i,G);return{name:Z.OS_MAP.BlackBerry,version:F}}},{test:[/bada/i],describe:function(G){var F=X.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,G);return{name:Z.OS_MAP.Bada,version:F}}},{test:[/tizen/i],describe:function(G){var F=X.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,G);return{name:Z.OS_MAP.Tizen,version:F}}},{test:[/linux/i],describe:function(){return{name:Z.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:Z.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(G){var F=X.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,G);return{name:Z.OS_MAP.PlayStation4,version:F}}}];J.default=K,$.exports=J.default},94:function($,J,Q){J.__esModule=!0,J.default=void 0;var W,X=(W=Q(17))&&W.__esModule?W:{default:W},Z=Q(18),K=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(G){var F=X.default.getFirstMatch(/(can-l01)/i,G)&&"Nova",Y={type:Z.PLATFORMS_MAP.mobile,vendor:"Huawei"};return F&&(Y.model=F),Y}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:Z.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:Z.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:Z.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:Z.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:Z.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:Z.PLATFORMS_MAP.tablet}}},{test:function(G){var F=G.test(/ipod|iphone/i),Y=G.test(/like (ipod|iphone)/i);return F&&!Y},describe:function(G){var F=X.default.getFirstMatch(/(ipod|iphone)/i,G);return{type:Z.PLATFORMS_MAP.mobile,vendor:"Apple",model:F}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:Z.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:Z.PLATFORMS_MAP.mobile}}},{test:function(G){return G.getBrowserName(!0)==="blackberry"},describe:function(){return{type:Z.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(G){return G.getBrowserName(!0)==="bada"},describe:function(){return{type:Z.PLATFORMS_MAP.mobile}}},{test:function(G){return G.getBrowserName()==="windows phone"},describe:function(){return{type:Z.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(G){var F=Number(String(G.getOSVersion()).split(".")[0]);return G.getOSName(!0)==="android"&&F>=3},describe:function(){return{type:Z.PLATFORMS_MAP.tablet}}},{test:function(G){return G.getOSName(!0)==="android"},describe:function(){return{type:Z.PLATFORMS_MAP.mobile}}},{test:function(G){return G.getOSName(!0)==="macos"},describe:function(){return{type:Z.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(G){return G.getOSName(!0)==="windows"},describe:function(){return{type:Z.PLATFORMS_MAP.desktop}}},{test:function(G){return G.getOSName(!0)==="linux"},describe:function(){return{type:Z.PLATFORMS_MAP.desktop}}},{test:function(G){return G.getOSName(!0)==="playstation 4"},describe:function(){return{type:Z.PLATFORMS_MAP.tv}}},{test:function(G){return G.getOSName(!0)==="roku"},describe:function(){return{type:Z.PLATFORMS_MAP.tv}}}];J.default=K,$.exports=J.default},95:function($,J,Q){J.__esModule=!0,J.default=void 0;var W,X=(W=Q(17))&&W.__esModule?W:{default:W},Z=Q(18),K=[{test:function(G){return G.getBrowserName(!0)==="microsoft edge"},describe:function(G){if(/\sedg\//i.test(G))return{name:Z.ENGINE_MAP.Blink};var F=X.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,G);return{name:Z.ENGINE_MAP.EdgeHTML,version:F}}},{test:[/trident/i],describe:function(G){var F={name:Z.ENGINE_MAP.Trident},Y=X.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:function(G){return G.test(/presto/i)},describe:function(G){var F={name:Z.ENGINE_MAP.Presto},Y=X.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:function(G){var F=G.test(/gecko/i),Y=G.test(/like gecko/i);return F&&!Y},describe:function(G){var F={name:Z.ENGINE_MAP.Gecko},Y=X.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:Z.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(G){var F={name:Z.ENGINE_MAP.WebKit},Y=X.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}}];J.default=K,$.exports=J.default}})})});var D1=M((wz)=>{var Bz=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",WZ="[:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]["+Bz+"]*",Lz=new RegExp("^"+WZ+"$"),Mz=function($,J){const Q=[];let W=J.exec($);while(W){const X=[];X.startIndex=J.lastIndex-W[0].length;const Z=W.length;for(let K=0;K<Z;K++)X.push(W[K]);Q.push(X),W=J.exec($)}return Q},qz=function($){const J=Lz.exec($);return!(J===null||typeof J==="undefined")};wz.isExist=function($){return typeof $!=="undefined"};wz.isEmptyObject=function($){return Object.keys($).length===0};wz.merge=function($,J,Q){if(J){const W=Object.keys(J),X=W.length;for(let Z=0;Z<X;Z++)if(Q==="strict")$[W[Z]]=[J[W[Z]]];else $[W[Z]]=J[W[Z]]}};wz.getValue=function($){if(wz.isExist($))return $;else return""};wz.isName=qz;wz.getAllMatches=Mz;wz.nameRegexp=WZ});var ZQ=M((hz)=>{var ZZ=function($){return $===" "||$==="\t"||$==="\n"||$==="\r"},GZ=function($,J){const Q=J;for(;J<$.length;J++)if($[J]=="?"||$[J]==" "){const W=$.substr(Q,J-Q);if(J>5&&W==="xml")return f("InvalidXml","XML declaration allowed only at the start of the document.",p($,J));else if($[J]=="?"&&$[J+1]==">"){J++;break}else continue}return J},KZ=function($,J){if($.length>J+5&&$[J+1]==="-"&&$[J+2]==="-"){for(J+=3;J<$.length;J++)if($[J]==="-"&&$[J+1]==="-"&&$[J+2]===">"){J+=2;break}}else if($.length>J+8&&$[J+1]==="D"&&$[J+2]==="O"&&$[J+3]==="C"&&$[J+4]==="T"&&$[J+5]==="Y"&&$[J+6]==="P"&&$[J+7]==="E"){let Q=1;for(J+=8;J<$.length;J++)if($[J]==="<")Q++;else if($[J]===">"){if(Q--,Q===0)break}}else if($.length>J+9&&$[J+1]==="["&&$[J+2]==="C"&&$[J+3]==="D"&&$[J+4]==="A"&&$[J+5]==="T"&&$[J+6]==="A"&&$[J+7]==="["){for(J+=8;J<$.length;J++)if($[J]==="]"&&$[J+1]==="]"&&$[J+2]===">"){J+=2;break}}return J},Ez=function($,J){let Q="",W="",X=!1;for(;J<$.length;J++){if($[J]===Dz||$[J]===Sz)if(W==="")W=$[J];else if(W!==$[J]);else W="";else if($[J]===">"){if(W===""){X=!0;break}}Q+=$[J]}if(W!=="")return!1;return{value:Q,index:J,tagClosed:X}},YZ=function($,J){const Q=XQ.getAllMatches($,Nz),W={};for(let X=0;X<Q.length;X++){if(Q[X][1].length===0)return f("InvalidAttr","Attribute '"+Q[X][2]+"' has no space in starting.",N8(Q[X]));else if(Q[X][3]!==void 0&&Q[X][4]===void 0)return f("InvalidAttr","Attribute '"+Q[X][2]+"' is without value.",N8(Q[X]));else if(Q[X][3]===void 0&&!J.allowBooleanAttributes)return f("InvalidAttr","boolean attribute '"+Q[X][2]+"' is not allowed.",N8(Q[X]));const Z=Q[X][2];if(!fz(Z))return f("InvalidAttr","Attribute '"+Z+"' is an invalid name.",N8(Q[X]));if(!W.hasOwnProperty(Z))W[Z]=1;else return f("InvalidAttr","Attribute '"+Z+"' is repeated.",N8(Q[X]))}return!0},kz=function($,J){let Q=/\d/;if($[J]==="x")J++,Q=/[\da-fA-F]/;for(;J<$.length;J++){if($[J]===";")return J;if(!$[J].match(Q))break}return-1},_z=function($,J){if(J++,$[J]===";")return-1;if($[J]==="#")return J++,kz($,J);let Q=0;for(;J<$.length;J++,Q++){if($[J].match(/\w/)&&Q<20)continue;if($[J]===";")break;return-1}return J},f=function($,J,Q){return{err:{code:$,msg:J,line:Q.line||Q,col:Q.col}}},fz=function($){return XQ.isName($)},Pz=function($){return XQ.isName($)},p=function($,J){const Q=$.substring(0,J).split(/\r?\n/);return{line:Q.length,col:Q[Q.length-1].length+1}},N8=function($){return $.startIndex+$[1].length},XQ=D1(),jz={allowBooleanAttributes:!1,unpairedTags:[]};hz.validate=function($,J){J=Object.assign({},jz,J);const Q=[];let W=!1,X=!1;if($[0]==="\uFEFF")$=$.substr(1);for(let Z=0;Z<$.length;Z++)if($[Z]==="<"&&$[Z+1]==="?"){if(Z+=2,Z=GZ($,Z),Z.err)return Z}else if($[Z]==="<"){let K=Z;if(Z++,$[Z]==="!"){Z=KZ($,Z);continue}else{let G=!1;if($[Z]==="/")G=!0,Z++;let F="";for(;Z<$.length&&$[Z]!==">"&&$[Z]!==" "&&$[Z]!=="\t"&&$[Z]!=="\n"&&$[Z]!=="\r";Z++)F+=$[Z];if(F=F.trim(),F[F.length-1]==="/")F=F.substring(0,F.length-1),Z--;if(!Pz(F)){let V;if(F.trim().length===0)V="Invalid space after '<'.";else V="Tag '"+F+"' is an invalid name.";return f("InvalidTag",V,p($,Z))}const Y=Ez($,Z);if(Y===!1)return f("InvalidAttr","Attributes for '"+F+"' have open quote.",p($,Z));let U=Y.value;if(Z=Y.index,U[U.length-1]==="/"){const V=Z-U.length;U=U.substring(0,U.length-1);const z=YZ(U,J);if(z===!0)W=!0;else return f(z.err.code,z.err.msg,p($,V+z.err.line))}else if(G)if(!Y.tagClosed)return f("InvalidTag","Closing tag '"+F+"' doesn't have proper closing.",p($,Z));else if(U.trim().length>0)return f("InvalidTag","Closing tag '"+F+"' can't have attributes or invalid starting.",p($,K));else{const V=Q.pop();if(F!==V.tagName){let z=p($,V.tagStartPos);return f("InvalidTag","Expected closing tag '"+V.tagName+"' (opened in line "+z.line+", col "+z.col+") instead of closing tag '"+F+"'.",p($,K))}if(Q.length==0)X=!0}else{const V=YZ(U,J);if(V!==!0)return f(V.err.code,V.err.msg,p($,Z-U.length+V.err.line));if(X===!0)return f("InvalidXml","Multiple possible root nodes found.",p($,Z));else if(J.unpairedTags.indexOf(F)!==-1);else Q.push({tagName:F,tagStartPos:K});W=!0}for(Z++;Z<$.length;Z++)if($[Z]==="<")if($[Z+1]==="!"){Z++,Z=KZ($,Z);continue}else if($[Z+1]==="?"){if(Z=GZ($,++Z),Z.err)return Z}else break;else if($[Z]==="&"){const V=_z($,Z);if(V==-1)return f("InvalidChar","char '&' is not expected.",p($,Z));Z=V}else if(X===!0&&!ZZ($[Z]))return f("InvalidXml","Extra text at the end",p($,Z));if($[Z]==="<")Z--}}else{if(ZZ($[Z]))continue;return f("InvalidChar","char '"+$[Z]+"' is not expected.",p($,Z))}if(!W)return f("InvalidXml","Start tag expected.",1);else if(Q.length==1)return f("InvalidTag","Unclosed tag '"+Q[0].tagName+"'.",p($,Q[0].tagStartPos));else if(Q.length>0)return f("InvalidXml","Invalid '"+JSON.stringify(Q.map((Z)=>Z.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1});return!0};var Dz='"',Sz="'",Nz=new RegExp('(\\s*)([^\\s=]+)(\\s*=)?(\\s*([\'"])(([\\s\\S])*?)\\5)?',"g")});var zZ=M((yz)=>{var FZ={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function($,J){return J},attributeValueProcessor:function($,J){return J},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function($,J,Q){return $}},vz=function($){return Object.assign({},FZ,$)};yz.buildOptions=vz;yz.defaultOptions=FZ});var IZ=M((Ij,VZ)=>{class UZ{constructor($){this.tagname=$,this.child=[],this[":@"]={}}add($,J){if($==="__proto__")$="#__proto__";this.child.push({[$]:J})}addChild($){if($.tagname==="__proto__")$.tagname="#__proto__";if($[":@"]&&Object.keys($[":@"]).length>0)this.child.push({[$.tagname]:$.child,[":@"]:$[":@"]});else this.child.push({[$.tagname]:$.child})}}VZ.exports=UZ});var LZ=M((Bj,BZ)=>{var lz=function($,J){const Q={};if($[J+3]==="O"&&$[J+4]==="C"&&$[J+5]==="T"&&$[J+6]==="Y"&&$[J+7]==="P"&&$[J+8]==="E"){J=J+9;let W=1,X=!1,Z=!1,K="";for(;J<$.length;J++)if($[J]==="<"&&!Z){if(X&&sz($,J)){if(J+=7,[entityName,val,J]=cz($,J+1),val.indexOf("&")===-1)Q[az(entityName)]={regx:RegExp(`&${entityName};`,"g"),val}}else if(X&&rz($,J))J+=8;else if(X&&iz($,J))J+=8;else if(X&&pz($,J))J+=9;else if(dz)Z=!0;else throw new Error("Invalid DOCTYPE");W++,K=""}else if($[J]===">"){if(Z){if($[J-1]==="-"&&$[J-2]==="-")Z=!1,W--}else W--;if(W===0)break}else if($[J]==="[")X=!0;else K+=$[J];if(W!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:Q,i:J}},cz=function($,J){let Q="";for(;J<$.length&&($[J]!=="'"&&$[J]!=='"');J++)Q+=$[J];if(Q=Q.trim(),Q.indexOf(" ")!==-1)throw new Error("External entites are not supported");const W=$[J++];let X="";for(;J<$.length&&$[J]!==W;J++)X+=$[J];return[Q,X,J]},dz=function($,J){if($[J+1]==="!"&&$[J+2]==="-"&&$[J+3]==="-")return!0;return!1},sz=function($,J){if($[J+1]==="!"&&$[J+2]==="E"&&$[J+3]==="N"&&$[J+4]==="T"&&$[J+5]==="I"&&$[J+6]==="T"&&$[J+7]==="Y")return!0;return!1},rz=function($,J){if($[J+1]==="!"&&$[J+2]==="E"&&$[J+3]==="L"&&$[J+4]==="E"&&$[J+5]==="M"&&$[J+6]==="E"&&$[J+7]==="N"&&$[J+8]==="T")return!0;return!1},iz=function($,J){if($[J+1]==="!"&&$[J+2]==="A"&&$[J+3]==="T"&&$[J+4]==="T"&&$[J+5]==="L"&&$[J+6]==="I"&&$[J+7]==="S"&&$[J+8]==="T")return!0;return!1},pz=function($,J){if($[J+1]==="!"&&$[J+2]==="N"&&$[J+3]==="O"&&$[J+4]==="T"&&$[J+5]==="A"&&$[J+6]==="T"&&$[J+7]==="I"&&$[J+8]==="O"&&$[J+9]==="N")return!0;return!1},az=function($){if(mz.isName($))return $;else throw new Error(`Invalid entity name ${$}`)},mz=D1();BZ.exports=lz});var qZ=M((Lj,MZ)=>{var ez=function($,J={}){if(J=Object.assign({},oz,J),!$||typeof $!=="string")return $;let Q=$.trim();if(J.skipLike!==void 0&&J.skipLike.test(Q))return $;else if(J.hex&&nz.test(Q))return Number.parseInt(Q,16);else{const W=uz.exec(Q);if(W){const X=W[1],Z=W[2];let K=tz(W[3]);const G=W[4]||W[6];if(!J.leadingZeros&&Z.length>0&&X&&Q[2]!==".")return $;else if(!J.leadingZeros&&Z.length>0&&!X&&Q[1]!==".")return $;else{const F=Number(Q),Y=""+F;if(Y.search(/[eE]/)!==-1)if(J.eNotation)return F;else return $;else if(G)if(J.eNotation)return F;else return $;else if(Q.indexOf(".")!==-1)if(Y==="0"&&K==="")return F;else if(Y===K)return F;else if(X&&Y==="-"+K)return F;else return $;if(Z)if(K===Y)return F;else if(X+K===Y)return F;else return $;if(Q===Y)return F;else if(Q===X+Y)return F;return $}}else return $}},tz=function($){if($&&$.indexOf(".")!==-1){if($=$.replace(/0+$/,""),$===".")$="0";else if($[0]===".")$="0"+$;else if($[$.length-1]===".")$=$.substr(0,$.length-1);return $}return $},nz=/^[-+]?0x[a-fA-F0-9]+$/,uz=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;if(!Number.parseInt&&window.parseInt)Number.parseInt=window.parseInt;if(!Number.parseFloat&&window.parseFloat)Number.parseFloat=window.parseFloat;var oz={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};MZ.exports=ez});var CZ=M((qj,HZ)=>{var Q3=function($){const J=Object.keys($);for(let Q=0;Q<J.length;Q++){const W=J[Q];this.lastEntities[W]={regex:new RegExp("&"+W+";","g"),val:$[W]}}},W3=function($,J,Q,W,X,Z,K){if($!==void 0){if(this.options.trimValues&&!W)$=$.trim();if($.length>0){if(!K)$=this.replaceEntitiesValue($);const G=this.options.tagValueProcessor(J,$,Q,X,Z);if(G===null||G===void 0)return $;else if(typeof G!==typeof $||G!==$)return G;else if(this.options.trimValues)return KQ($,this.options.parseTagValue,this.options.numberParseOptions);else if($.trim()===$)return KQ($,this.options.parseTagValue,this.options.numberParseOptions);else return $}}},X3=function($){if(this.options.removeNSPrefix){const J=$.split(":"),Q=$.charAt(0)==="/"?"/":"";if(J[0]==="xmlns")return"";if(J.length===2)$=Q+J[1]}return $},G3=function($,J,Q){if(!this.options.ignoreAttributes&&typeof $==="string"){const W=YQ.getAllMatches($,Z3),X=W.length,Z={};for(let K=0;K<X;K++){const G=this.resolveNameSpace(W[K][1]);let F=W[K][4],Y=this.options.attributeNamePrefix+G;if(G.length){if(this.options.transformAttributeName)Y=this.options.transformAttributeName(Y);if(Y==="__proto__")Y="#__proto__";if(F!==void 0){if(this.options.trimValues)F=F.trim();F=this.replaceEntitiesValue(F);const U=this.options.attributeValueProcessor(G,F,J);if(U===null||U===void 0)Z[Y]=F;else if(typeof U!==typeof F||U!==F)Z[Y]=U;else Z[Y]=KQ(F,this.options.parseAttributeValue,this.options.numberParseOptions)}else if(this.options.allowBooleanAttributes)Z[Y]=!0}}if(!Object.keys(Z).length)return;if(this.options.attributesGroupName){const K={};return K[this.options.attributesGroupName]=Z,K}return Z}},Y3=function($,J,Q){const W=this.options.updateTag(J.tagname,Q,J[":@"]);if(W===!1);else if(typeof W==="string")J.tagname=W,$.addChild(J);else $.addChild(J)},z3=function($,J,Q,W){if($){if(W===void 0)W=Object.keys(J.child).length===0;if($=this.parseTextData($,J.tagname,Q,!1,J[":@"]?Object.keys(J[":@"]).length!==0:!1,W),$!==void 0&&$!=="")J.add(this.options.textNodeName,$);$=""}return $},U3=function($,J,Q){const W="*."+Q;for(let X in $){const Z=$[X];if(W===Z||J===Z)return!0}return!1},V3=function($,J,Q=">"){let W,X="";for(let Z=J;Z<$.length;Z++){let K=$[Z];if(W){if(K===W)W=""}else if(K==='"'||K==="'")W=K;else if(K===Q[0])if(Q[1]){if($[Z+1]===Q[1])return{data:X,index:Z}}else return{data:X,index:Z};else if(K==="\t")K=" ";X+=K}},x0=function($,J,Q,W){const X=$.indexOf(J,Q);if(X===-1)throw new Error(W);else return X+J.length-1},GQ=function($,J,Q,W=">"){const X=V3($,J+1,W);if(!X)return;let Z=X.data;const K=X.index,G=Z.search(/\s/);let F=Z,Y=!0;if(G!==-1)F=Z.substr(0,G).replace(/\s\s*$/,""),Z=Z.substr(G+1);if(Q){const U=F.indexOf(":");if(U!==-1)F=F.substr(U+1),Y=F!==X.data.substr(U+1)}return{tagName:F,tagExp:Z,closeIndex:K,attrExpPresent:Y}},I3=function($,J,Q){const W=Q;let X=1;for(;Q<$.length;Q++)if($[Q]==="<")if($[Q+1]==="/"){const Z=x0($,">",Q,`${J} is not closed`);if($.substring(Q+2,Z).trim()===J){if(X--,X===0)return{tagContent:$.substring(W,Q),i:Z}}Q=Z}else if($[Q+1]==="?")Q=x0($,"?>",Q+1,"StopNode is not closed.");else if($.substr(Q+1,3)==="!--")Q=x0($,"-->",Q+3,"StopNode is not closed.");else if($.substr(Q+1,2)==="![")Q=x0($,"]]>",Q,"StopNode is not closed.")-2;else{const Z=GQ($,Q,">");if(Z){if((Z&&Z.tagName)===J&&Z.tagExp[Z.tagExp.length-1]!=="/")X++;Q=Z.closeIndex}}},KQ=function($,J,Q){if(J&&typeof $==="string"){const W=$.trim();if(W==="true")return!0;else if(W==="false")return!1;else return J3($,Q)}else if(YQ.isExist($))return $;else return""},YQ=D1(),k8=IZ(),$3=LZ(),J3=qZ(),Mj="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,YQ.nameRegexp);class wZ{constructor($){this.options=$,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:"\""}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=Q3,this.parseXml=K3,this.parseTextData=W3,this.resolveNameSpace=X3,this.buildAttributesMap=G3,this.isItStopNode=U3,this.replaceEntitiesValue=F3,this.readStopNodeData=I3,this.saveTextToParentTag=z3,this.addChild=Y3}}var Z3=new RegExp('([^\\s=]+)\\s*(=\\s*([\'"])([\\s\\S]*?)\\3)?',"gm"),K3=function($){$=$.replace(/\r\n?/g,"\n");const J=new k8("!xml");let Q=J,W="",X="";for(let Z=0;Z<$.length;Z++)if($[Z]==="<")if($[Z+1]==="/"){const G=x0($,">",Z,"Closing Tag is not closed.");let F=$.substring(Z+2,G).trim();if(this.options.removeNSPrefix){const V=F.indexOf(":");if(V!==-1)F=F.substr(V+1)}if(this.options.transformTagName)F=this.options.transformTagName(F);if(Q)W=this.saveTextToParentTag(W,Q,X);const Y=X.substring(X.lastIndexOf(".")+1);if(F&&this.options.unpairedTags.indexOf(F)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${F}>`);let U=0;if(Y&&this.options.unpairedTags.indexOf(Y)!==-1)U=X.lastIndexOf(".",X.lastIndexOf(".")-1),this.tagsNodeStack.pop();else U=X.lastIndexOf(".");X=X.substring(0,U),Q=this.tagsNodeStack.pop(),W="",Z=G}else if($[Z+1]==="?"){let G=GQ($,Z,!1,"?>");if(!G)throw new Error("Pi Tag is not closed.");if(W=this.saveTextToParentTag(W,Q,X),this.options.ignoreDeclaration&&G.tagName==="?xml"||this.options.ignorePiTags);else{const F=new k8(G.tagName);if(F.add(this.options.textNodeName,""),G.tagName!==G.tagExp&&G.attrExpPresent)F[":@"]=this.buildAttributesMap(G.tagExp,X,G.tagName);this.addChild(Q,F,X)}Z=G.closeIndex+1}else if($.substr(Z+1,3)==="!--"){const G=x0($,"-->",Z+4,"Comment is not closed.");if(this.options.commentPropName){const F=$.substring(Z+4,G-2);W=this.saveTextToParentTag(W,Q,X),Q.add(this.options.commentPropName,[{[this.options.textNodeName]:F}])}Z=G}else if($.substr(Z+1,2)==="!D"){const G=$3($,Z);this.docTypeEntities=G.entities,Z=G.i}else if($.substr(Z+1,2)==="!["){const G=x0($,"]]>",Z,"CDATA is not closed.")-2,F=$.substring(Z+9,G);if(W=this.saveTextToParentTag(W,Q,X),this.options.cdataPropName)Q.add(this.options.cdataPropName,[{[this.options.textNodeName]:F}]);else{let Y=this.parseTextData(F,Q.tagname,X,!0,!1,!0);if(Y==void 0)Y="";Q.add(this.options.textNodeName,Y)}Z=G+2}else{let G=GQ($,Z,this.options.removeNSPrefix),F=G.tagName,Y=G.tagExp,U=G.attrExpPresent,V=G.closeIndex;if(this.options.transformTagName)F=this.options.transformTagName(F);if(Q&&W){if(Q.tagname!=="!xml")W=this.saveTextToParentTag(W,Q,X,!1)}const z=Q;if(z&&this.options.unpairedTags.indexOf(z.tagname)!==-1)Q=this.tagsNodeStack.pop(),X=X.substring(0,X.lastIndexOf("."));if(F!==J.tagname)X+=X?"."+F:F;if(this.isItStopNode(this.options.stopNodes,X,F)){let I="";if(Y.length>0&&Y.lastIndexOf("/")===Y.length-1)Z=G.closeIndex;else if(this.options.unpairedTags.indexOf(F)!==-1)Z=G.closeIndex;else{const L=this.readStopNodeData($,F,V+1);if(!L)throw new Error(`Unexpected end of ${F}`);Z=L.i,I=L.tagContent}const B=new k8(F);if(F!==Y&&U)B[":@"]=this.buildAttributesMap(Y,X,F);if(I)I=this.parseTextData(I,F,X,!0,U,!0,!0);X=X.substr(0,X.lastIndexOf(".")),B.add(this.options.textNodeName,I),this.addChild(Q,B,X)}else{if(Y.length>0&&Y.lastIndexOf("/")===Y.length-1){if(F[F.length-1]==="/")F=F.substr(0,F.length-1),Y=F;else Y=Y.substr(0,Y.length-1);if(this.options.transformTagName)F=this.options.transformTagName(F);const I=new k8(F);if(F!==Y&&U)I[":@"]=this.buildAttributesMap(Y,X,F);this.addChild(Q,I,X),X=X.substr(0,X.lastIndexOf("."))}else{const I=new k8(F);if(this.tagsNodeStack.push(Q),F!==Y&&U)I[":@"]=this.buildAttributesMap(Y,X,F);this.addChild(Q,I,X),Q=I}W="",Z=V}}else W+=$[Z];return J.child},F3=function($){if(this.options.processEntities){for(let J in this.docTypeEntities){const Q=this.docTypeEntities[J];$=$.replace(Q.regx,Q.val)}for(let J in this.lastEntities){const Q=this.lastEntities[J];$=$.replace(Q.regex,Q.val)}if(this.options.htmlEntities)for(let J in this.htmlEntities){const Q=this.htmlEntities[J];$=$.replace(Q.regex,Q.val)}$=$.replace(this.ampEntity.regex,this.ampEntity.val)}return $};HZ.exports=wZ});var TZ=M((w3)=>{var B3=function($,J){return RZ($,J)},RZ=function($,J,Q){let W;const X={};for(let Z=0;Z<$.length;Z++){const K=$[Z],G=L3(K);let F="";if(Q===void 0)F=G;else F=Q+"."+G;if(G===J.textNodeName)if(W===void 0)W=K[G];else W+=""+K[G];else if(G===void 0)continue;else if(K[G]){let Y=RZ(K[G],J,F);const U=q3(Y,J);if(K[":@"])M3(Y,K[":@"],F,J);else if(Object.keys(Y).length===1&&Y[J.textNodeName]!==void 0&&!J.alwaysCreateTextNode)Y=Y[J.textNodeName];else if(Object.keys(Y).length===0)if(J.alwaysCreateTextNode)Y[J.textNodeName]="";else Y="";if(X[G]!==void 0&&X.hasOwnProperty(G)){if(!Array.isArray(X[G]))X[G]=[X[G]];X[G].push(Y)}else if(J.isArray(G,F,U))X[G]=[Y];else X[G]=Y}}if(typeof W==="string"){if(W.length>0)X[J.textNodeName]=W}else if(W!==void 0)X[J.textNodeName]=W;return X},L3=function($){const J=Object.keys($);for(let Q=0;Q<J.length;Q++){const W=J[Q];if(W!==":@")return W}},M3=function($,J,Q,W){if(J){const X=Object.keys(J),Z=X.length;for(let K=0;K<Z;K++){const G=X[K];if(W.isArray(G,Q+"."+G,!0,!0))$[G]=[J[G]];else $[G]=J[G]}}},q3=function($,J){const{textNodeName:Q}=J,W=Object.keys($).length;if(W===0)return!0;if(W===1&&($[Q]||typeof $[Q]==="boolean"||$[Q]===0))return!0;return!1};w3.prettify=B3});var jZ=M((Hj,OZ)=>{var{buildOptions:C3}=zZ(),R3=CZ(),{prettify:T3}=TZ(),A3=ZQ();class AZ{constructor($){this.externalEntities={},this.options=C3($)}parse($,J){if(typeof $==="string");else if($.toString)$=$.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(J){if(J===!0)J={};const X=A3.validate($,J);if(X!==!0)throw Error(`${X.err.msg}:${X.err.line}:${X.err.col}`)}const Q=new R3(this.options);Q.addExternalEntities(this.externalEntities);const W=Q.parseXml($);if(this.options.preserveOrder||W===void 0)return W;else return T3(W,this.options)}addEntity($,J){if(J.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");else if($.indexOf("&")!==-1||$.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");else if(J==="&")throw new Error("An entity with value '&' is not permitted");else this.externalEntities[$]=J}}OZ.exports=AZ});var kZ=M((Cj,NZ)=>{var O3=function($,J){let Q="";if(J.format&&J.indentBy.length>0)Q="\n";return SZ($,J,"",Q)},SZ=function($,J,Q,W){let X="",Z=!1;for(let K=0;K<$.length;K++){const G=$[K],F=j3(G);let Y="";if(Q.length===0)Y=F;else Y=`${Q}.${F}`;if(F===J.textNodeName){let B=G[F];if(!D3(Y,J))B=J.tagValueProcessor(F,B),B=EZ(B,J);if(Z)X+=W;X+=B,Z=!1;continue}else if(F===J.cdataPropName){if(Z)X+=W;X+=`<![CDATA[${G[F][0][J.textNodeName]}]]>`,Z=!1;continue}else if(F===J.commentPropName){X+=W+`<!--${G[F][0][J.textNodeName]}-->`,Z=!0;continue}else if(F[0]==="?"){const B=DZ(G[":@"],J),L=F==="?xml"?"":W;let q=G[F][0][J.textNodeName];q=q.length!==0?" "+q:"",X+=L+`<${F}${q}${B}?>`,Z=!0;continue}let U=W;if(U!=="")U+=J.indentBy;const V=DZ(G[":@"],J),z=W+`<${F}${V}`,I=SZ(G[F],J,Y,U);if(J.unpairedTags.indexOf(F)!==-1)if(J.suppressUnpairedNode)X+=z+">";else X+=z+"/>";else if((!I||I.length===0)&&J.suppressEmptyNode)X+=z+"/>";else if(I&&I.endsWith(">"))X+=z+`>${I}${W}</${F}>`;else{if(X+=z+">",I&&W!==""&&(I.includes("/>")||I.includes("</")))X+=W+J.indentBy+I+W;else X+=I;X+=`</${F}>`}Z=!0}return X},j3=function($){const J=Object.keys($);for(let Q=0;Q<J.length;Q++){const W=J[Q];if(W!==":@")return W}},DZ=function($,J){let Q="";if($&&!J.ignoreAttributes)for(let W in $){let X=J.attributeValueProcessor(W,$[W]);if(X=EZ(X,J),X===!0&&J.suppressBooleanAttributes)Q+=` ${W.substr(J.attributeNamePrefix.length)}`;else Q+=` ${W.substr(J.attributeNamePrefix.length)}="${X}"`}return Q},D3=function($,J){$=$.substr(0,$.length-J.textNodeName.length-1);let Q=$.substr($.lastIndexOf(".")+1);for(let W in J.stopNodes)if(J.stopNodes[W]===$||J.stopNodes[W]==="*."+Q)return!0;return!1},EZ=function($,J){if($&&$.length>0&&J.processEntities)for(let Q=0;Q<J.entities.length;Q++){const W=J.entities[Q];$=$.replace(W.regex,W.val)}return $};NZ.exports=O3});var fZ=M((Rj,_Z)=>{var S0=function($){if(this.options=Object.assign({},E3,$),this.options.ignoreAttributes||this.options.attributesGroupName)this.isAttribute=function(){return!1};else this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=_3;if(this.processTextOrObjNode=N3,this.options.format)this.indentate=k3,this.tagEndChar=">\n",this.newLine="\n";else this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""},N3=function($,J,Q){const W=this.j2x($,Q+1);if($[this.options.textNodeName]!==void 0&&Object.keys($).length===1)return this.buildTextValNode($[this.options.textNodeName],J,W.attrStr,Q);else return this.buildObjectNode(W.val,J,W.attrStr,Q)},k3=function($){return this.options.indentBy.repeat($)},_3=function($){if($.startsWith(this.options.attributeNamePrefix))return $.substr(this.attrPrefixLen);else return!1},S3=kZ(),E3={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function($,J){return J},attributeValueProcessor:function($,J){return J},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("\'","g"),val:"&apos;"},{regex:new RegExp("\"","g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};S0.prototype.build=function($){if(this.options.preserveOrder)return S3($,this.options);else{if(Array.isArray($)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1)$={[this.options.arrayNodeName]:$};return this.j2x($,0).val}};S0.prototype.j2x=function($,J){let Q="",W="";for(let X in $)if(typeof $[X]==="undefined");else if($[X]===null)if(X[0]==="?")W+=this.indentate(J)+"<"+X+"?"+this.tagEndChar;else W+=this.indentate(J)+"<"+X+"/"+this.tagEndChar;else if($[X]instanceof Date)W+=this.buildTextValNode($[X],X,"",J);else if(typeof $[X]!=="object"){const Z=this.isAttribute(X);if(Z)Q+=this.buildAttrPairStr(Z,""+$[X]);else if(X===this.options.textNodeName){let K=this.options.tagValueProcessor(X,""+$[X]);W+=this.replaceEntitiesValue(K)}else W+=this.buildTextValNode($[X],X,"",J)}else if(Array.isArray($[X])){const Z=$[X].length;let K="";for(let G=0;G<Z;G++){const F=$[X][G];if(typeof F==="undefined");else if(F===null)if(X[0]==="?")W+=this.indentate(J)+"<"+X+"?"+this.tagEndChar;else W+=this.indentate(J)+"<"+X+"/"+this.tagEndChar;else if(typeof F==="object")if(this.options.oneListGroup)K+=this.j2x(F,J+1).val;else K+=this.processTextOrObjNode(F,X,J);else K+=this.buildTextValNode(F,X,"",J)}if(this.options.oneListGroup)K=this.buildObjectNode(K,X,"",J);W+=K}else if(this.options.attributesGroupName&&X===this.options.attributesGroupName){const Z=Object.keys($[X]),K=Z.length;for(let G=0;G<K;G++)Q+=this.buildAttrPairStr(Z[G],""+$[X][Z[G]])}else W+=this.processTextOrObjNode($[X],X,J);return{attrStr:Q,val:W}};S0.prototype.buildAttrPairStr=function($,J){if(J=this.options.attributeValueProcessor($,""+J),J=this.replaceEntitiesValue(J),this.options.suppressBooleanAttributes&&J==="true")return" "+$;else return" "+$+'="'+J+'"'};S0.prototype.buildObjectNode=function($,J,Q,W){if($==="")if(J[0]==="?")return this.indentate(W)+"<"+J+Q+"?"+this.tagEndChar;else return this.indentate(W)+"<"+J+Q+this.closeTag(J)+this.tagEndChar;else{let X="</"+J+this.tagEndChar,Z="";if(J[0]==="?")Z="?",X="";if(Q&&$.indexOf("<")===-1)return this.indentate(W)+"<"+J+Q+Z+">"+$+X;else if(this.options.commentPropName!==!1&&J===this.options.commentPropName&&Z.length===0)return this.indentate(W)+`<!--${$}-->`+this.newLine;else return this.indentate(W)+"<"+J+Q+Z+this.tagEndChar+$+this.indentate(W)+X}};S0.prototype.closeTag=function($){let J="";if(this.options.unpairedTags.indexOf($)!==-1){if(!this.options.suppressUnpairedNode)J="/"}else if(this.options.suppressEmptyNode)J="/";else J=`></${$}`;return J};S0.prototype.buildTextValNode=function($,J,Q,W){if(this.options.cdataPropName!==!1&&J===this.options.cdataPropName)return this.indentate(W)+`<![CDATA[${$}]]>`+this.newLine;else if(this.options.commentPropName!==!1&&J===this.options.commentPropName)return this.indentate(W)+`<!--${$}-->`+this.newLine;else if(J[0]==="?")return this.indentate(W)+"<"+J+Q+"?"+this.tagEndChar;else{let X=this.options.tagValueProcessor(J,$);if(X=this.replaceEntitiesValue(X),X==="")return this.indentate(W)+"<"+J+Q+this.closeTag(J)+this.tagEndChar;else return this.indentate(W)+"<"+J+Q+">"+X+"</"+J+this.tagEndChar}};S0.prototype.replaceEntitiesValue=function($){if($&&$.length>0&&this.options.processEntities)for(let J=0;J<this.options.entities.length;J++){const Q=this.options.entities[J];$=$.replace(Q.regex,Q.val)}return $};_Z.exports=S0});var hZ=M((Tj,PZ)=>{var f3=ZQ(),P3=jZ(),h3=fZ();PZ.exports={XMLParser:P3,XMLValidator:f3,XMLBuilder:h3}});var MQ={};K0(MQ,{__values:()=>{{return LQ}},__spreadArrays:()=>{{return Y2}},__spread:()=>{{return K2}},__rest:()=>{{return t3}},__read:()=>{{return $G}},__param:()=>{{return J2}},__metadata:()=>{{return Q2}},__makeTemplateObject:()=>{{return V2}},__importStar:()=>{{return I2}},__importDefault:()=>{{return B2}},__generator:()=>{{return X2}},__extends:()=>{{return e3}},__exportStar:()=>{{return G2}},__decorate:()=>{{return $2}},__createBinding:()=>{{return Z2}},__classPrivateFieldSet:()=>{{return M2}},__classPrivateFieldGet:()=>{{return L2}},__awaiter:()=>{{return W2}},__await:()=>{{return f8}},__asyncValues:()=>{{return U2}},__asyncGenerator:()=>{{return F2}},__asyncDelegator:()=>{{return z2}},__assign:()=>{{return BQ}}});function e3($,J){IQ($,J);function Q(){this.constructor=$}$.prototype=J===null?Object.create(J):(Q.prototype=J.prototype,new Q)}function t3($,J){var Q={};for(var W in $)if(Object.prototype.hasOwnProperty.call($,W)&&J.indexOf(W)<0)Q[W]=$[W];if($!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var X=0,W=Object.getOwnPropertySymbols($);X<W.length;X++)if(J.indexOf(W[X])<0&&Object.prototype.propertyIsEnumerable.call($,W[X]))Q[W[X]]=$[W[X]]}return Q}function $2($,J,Q,W){var X=arguments.length,Z=X<3?J:W===null?W=Object.getOwnPropertyDescriptor(J,Q):W,K;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate($,J,Q,W);else for(var G=$.length-1;G>=0;G--)if(K=$[G])Z=(X<3?K(Z):X>3?K(J,Q,Z):K(J,Q))||Z;return X>3&&Z&&Object.defineProperty(J,Q,Z),Z}function J2($,J){return function(Q,W){J(Q,W,$)}}function Q2($,J){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata($,J)}function W2($,J,Q,W){function X(Z){return Z instanceof Q?Z:new Q(function(K){K(Z)})}return new(Q||(Q=Promise))(function(Z,K){function G(U){try{Y(W.next(U))}catch(V){K(V)}}function F(U){try{Y(W.throw(U))}catch(V){K(V)}}function Y(U){U.done?Z(U.value):X(U.value).then(G,F)}Y((W=W.apply($,J||[])).next())})}function X2($,J){var Q={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},W,X,Z,K;return K={next:G(0),throw:G(1),return:G(2)},typeof Symbol==="function"&&(K[Symbol.iterator]=function(){return this}),K;function G(Y){return function(U){return F([Y,U])}}function F(Y){if(W)throw new TypeError("Generator is already executing.");while(Q)try{if(W=1,X&&(Z=Y[0]&2?X.return:Y[0]?X.throw||((Z=X.return)&&Z.call(X),0):X.next)&&!(Z=Z.call(X,Y[1])).done)return Z;if(X=0,Z)Y=[Y[0]&2,Z.value];switch(Y[0]){case 0:case 1:Z=Y;break;case 4:return Q.label++,{value:Y[1],done:!1};case 5:Q.label++,X=Y[1],Y=[0];continue;case 7:Y=Q.ops.pop(),Q.trys.pop();continue;default:if((Z=Q.trys,!(Z=Z.length>0&&Z[Z.length-1]))&&(Y[0]===6||Y[0]===2)){Q=0;continue}if(Y[0]===3&&(!Z||Y[1]>Z[0]&&Y[1]<Z[3])){Q.label=Y[1];break}if(Y[0]===6&&Q.label<Z[1]){Q.label=Z[1],Z=Y;break}if(Z&&Q.label<Z[2]){Q.label=Z[2],Q.ops.push(Y);break}if(Z[2])Q.ops.pop();Q.trys.pop();continue}Y=J.call($,Q)}catch(U){Y=[6,U],X=0}finally{W=Z=0}if(Y[0]&5)throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}}function Z2($,J,Q,W){if(W===void 0)W=Q;$[W]=J[Q]}function G2($,J){for(var Q in $)if(Q!=="default"&&!J.hasOwnProperty(Q))J[Q]=$[Q]}function LQ($){var J=typeof Symbol==="function"&&Symbol.iterator,Q=J&&$[J],W=0;if(Q)return Q.call($);if($&&typeof $.length==="number")return{next:function(){if($&&W>=$.length)$=void 0;return{value:$&&$[W++],done:!$}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function $G($,J){var Q=typeof Symbol==="function"&&$[Symbol.iterator];if(!Q)return $;var W=Q.call($),X,Z=[],K;try{while((J===void 0||J-- >0)&&!(X=W.next()).done)Z.push(X.value)}catch(G){K={error:G}}finally{try{if(X&&!X.done&&(Q=W.return))Q.call(W)}finally{if(K)throw K.error}}return Z}function K2(){for(var $=[],J=0;J<arguments.length;J++)$=$.concat($G(arguments[J]));return $}function Y2(){for(var $=0,J=0,Q=arguments.length;J<Q;J++)$+=arguments[J].length;for(var W=Array($),X=0,J=0;J<Q;J++)for(var Z=arguments[J],K=0,G=Z.length;K<G;K++,X++)W[X]=Z[K];return W}function f8($){return this instanceof f8?(this.v=$,this):new f8($)}function F2($,J,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=Q.apply($,J||[]),X,Z=[];return X={},K("next"),K("throw"),K("return"),X[Symbol.asyncIterator]=function(){return this},X;function K(z){if(W[z])X[z]=function(I){return new Promise(function(B,L){Z.push([z,I,B,L])>1||G(z,I)})}}function G(z,I){try{F(W[z](I))}catch(B){V(Z[0][3],B)}}function F(z){z.value instanceof f8?Promise.resolve(z.value.v).then(Y,U):V(Z[0][2],z)}function Y(z){G("next",z)}function U(z){G("throw",z)}function V(z,I){if(z(I),Z.shift(),Z.length)G(Z[0][0],Z[0][1])}}function z2($){var J,Q;return J={},W("next"),W("throw",function(X){throw X}),W("return"),J[Symbol.iterator]=function(){return this},J;function W(X,Z){J[X]=$[X]?function(K){return(Q=!Q)?{value:f8($[X](K)),done:X==="return"}:Z?Z(K):K}:Z}}function U2($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=$[Symbol.asyncIterator],Q;return J?J.call($):($=typeof LQ==="function"?LQ($):$[Symbol.iterator](),Q={},W("next"),W("throw"),W("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function W(Z){Q[Z]=$[Z]&&function(K){return new Promise(function(G,F){K=$[Z](K),X(G,F,K.done,K.value)})}}function X(Z,K,G,F){Promise.resolve(F).then(function(Y){Z({value:Y,done:G})},K)}}function V2($,J){if(Object.defineProperty)Object.defineProperty($,"raw",{value:J});else $.raw=J;return $}function I2($){if($&&$.__esModule)return $;var J={};if($!=null){for(var Q in $)if(Object.hasOwnProperty.call($,Q))J[Q]=$[Q]}return J.default=$,J}function B2($){return $&&$.__esModule?$:{default:$}}function L2($,J){if(!J.has($))throw new TypeError("attempted to get private field on non-instance");return J.get($)}function M2($,J,Q){if(!J.has($))throw new TypeError("attempted to set private field on non-instance");return J.set($,Q),Q}var IQ,BQ;var qQ=N0(()=>{/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */IQ=function($,J){return IQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,W){Q.__proto__=W}||function(Q,W){for(var X in W)if(W.hasOwnProperty(X))Q[X]=W[X]},IQ($,J)},BQ=function(){return BQ=Object.assign||function $(J){for(var Q,W=1,X=arguments.length;W<X;W++){Q=arguments[W];for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z))J[Z]=Q[Z]}return J},BQ.apply(this,arguments)}});var ZG=M((WG)=>{Object.defineProperty(WG,"__esModule",{value:!0});WG.AwsCrc32c=void 0;var JG=(qQ(),a(MQ)),wQ=Y0(),QG=HQ(),q2=function(){function $(){this.crc32c=new QG.Crc32c}return $.prototype.update=function(J){if((0,wQ.isEmptyData)(J))return;this.crc32c.update((0,wQ.convertToBuffer)(J))},$.prototype.digest=function(){return JG.__awaiter(this,void 0,void 0,function(){return JG.__generator(this,function(J){return[2,(0,wQ.numToUint8)(this.crc32c.digest())]})})},$.prototype.reset=function(){this.crc32c=new QG.Crc32c},$}();WG.AwsCrc32c=q2});var HQ=M((CQ)=>{var C2=function($){return new GG().update($).digest()};Object.defineProperty(CQ,"__esModule",{value:!0});CQ.AwsCrc32c=CQ.Crc32c=CQ.crc32c=void 0;var w2=(qQ(),a(MQ)),H2=Y0();CQ.crc32c=C2;var GG=function(){function $(){this.checksum=4294967295}return $.prototype.update=function(J){var Q,W;try{for(var X=w2.__values(J),Z=X.next();!Z.done;Z=X.next()){var K=Z.value;this.checksum=this.checksum>>>8^T2[(this.checksum^K)&255]}}catch(G){Q={error:G}}finally{try{if(Z&&!Z.done&&(W=X.return))W.call(X)}finally{if(Q)throw Q.error}}return this},$.prototype.digest=function(){return(this.checksum^4294967295)>>>0},$}();CQ.Crc32c=GG;var R2=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],T2=(0,H2.uint32ArrayFrom)(R2),A2=ZG();Object.defineProperty(CQ,"AwsCrc32c",{enumerable:!0,get:function(){return A2.AwsCrc32c}})});var RQ=M((E2,IG)=>{E2.serialize=function($){return $&&typeof $.toJSON==="function"?$.toJSON():$}});var MG=M((KS,LG)=>{var BG=RQ().serialize;LG.exports=function $(J,Q){if(Q=BG(Q),Q===null||typeof Q!=="object"||Array.isArray(Q))return Q;if(J=BG(J),J===null||typeof J!=="object"||Array.isArray(J))J={};var W=Object.keys(Q);for(var X=0;X<W.length;X++){var Z=W[X];if(Z==="__proto__"||Z==="constructor"||Z==="prototype")return J;if(Q[Z]===null){if(J.hasOwnProperty(Z))delete J[Z]}else J[Z]=$(J[Z],Q[Z])}return J}});var wG=M((YS,qG)=>{qG.exports=function $(J,Q){if(J===Q)return!0;if(J&&Q&&typeof J=="object"&&typeof Q=="object"){if(J.constructor!==Q.constructor)return!1;var W,X,Z;if(Array.isArray(J)){if(W=J.length,W!=Q.length)return!1;for(X=W;X--!==0;)if(!$(J[X],Q[X]))return!1;return!0}if(J.constructor===RegExp)return J.source===Q.source&&J.flags===Q.flags;if(J.valueOf!==Object.prototype.valueOf)return J.valueOf()===Q.valueOf();if(J.toString!==Object.prototype.toString)return J.toString()===Q.toString();if(Z=Object.keys(J),W=Z.length,W!==Object.keys(Q).length)return!1;for(X=W;X--!==0;)if(!Object.prototype.hasOwnProperty.call(Q,Z[X]))return!1;for(X=W;X--!==0;){var K=Z[X];if(!$(J[K],Q[K]))return!1}return!0}return J!==J&&Q!==Q}});var CG=M((FS,HG)=>{var _2=function($,J){if($.length!==J.length)return!1;for(var Q=0;Q<$.length;Q++)if(!k2(J[Q],$[Q]))return!1;return!0},k2=wG(),l1=RQ().serialize;HG.exports=function $(J,Q){if(J=l1(J),Q=l1(Q),J===null||Q===null||typeof J!=="object"||typeof Q!=="object"||Array.isArray(J)!==Array.isArray(Q))return Q;if(Array.isArray(J)){if(!_2(J,Q))return Q;return}var W={},X=Object.keys(J),Z=Object.keys(Q),K,G,F={};for(G=0;G<Z.length;G++)if(K=Z[G],X.indexOf(K)===-1)F[K]=!0,W[K]=l1(Q[K]);var Y={};for(G=0;G<X.length;G++)if(K=X[G],Z.indexOf(K)===-1)Y[K]=!0,W[K]=null;else if(J[K]!==null&&typeof J[K]==="object"){var U=$(J[K],Q[K]);if(U!==void 0)W[K]=U}else if(J[K]!==Q[K])W[K]=l1(Q[K]);return Object.keys(W).length>0?W:void 0}});var TG=M((zS,RG)=>{RG.exports=function $(J,Q){if(J===null||Q===null||typeof J!=="object"||typeof Q!=="object"||Array.isArray(J)!==Array.isArray(Q))return Q;var W=JSON.parse(JSON.stringify(J));return Object.keys(Q).forEach(function(X){if(J[X]!==void 0)W[X]=$(J[X],Q[X]);else W[X]=Q[X]}),W}});var d1;(function($){$.HEADER="header",$.QUERY="query"})(d1||(d1={}));var k0;(function($){$.HTTP="http",$.HTTPS="https"})(k0||(k0={}));var s1;(function($){$[$.HEADER=0]="HEADER",$[$.TRAILER=1]="TRAILER"})(s1||(s1={}));var r1;(function($){$.HTTP_0_9="http/0.9",$.HTTP_1_0="http/1.0",$.TDS_8_0="tds/8.0"})(r1||(r1={}));var kG=function($){return Object.keys($).reduce((J,Q)=>{const W=$[Q];return{...J,[Q]:Array.isArray(W)?[...W]:W}},{})};class O{constructor($){this.method=$.method||"GET",this.hostname=$.hostname||"localhost",this.port=$.port,this.query=$.query||{},this.headers=$.headers||{},this.body=$.body,this.protocol=$.protocol?$.protocol.slice(-1)!==":"?`${$.protocol}:`:$.protocol:"https:",this.path=$.path?$.path.charAt(0)!=="/"?`/${$.path}`:$.path:"/",this.username=$.username,this.password=$.password,this.fragment=$.fragment}static isInstance($){if(!$)return!1;const J=$;return("method"in J)&&("protocol"in J)&&("hostname"in J)&&("path"in J)&&typeof J.query==="object"&&typeof J.headers==="object"}clone(){const $=new O({...this,headers:{...this.headers}});if($.query)$.query=kG($.query);return $}}class $0{constructor($){this.statusCode=$.statusCode,this.reason=$.reason,this.headers=$.headers||{},this.body=$.body}static isInstance($){if(!$)return!1;const J=$;return typeof J.statusCode==="number"&&typeof J.headers==="object"}}function _G($){return(J)=>async(Q)=>{const{request:W}=Q;return J({...Q,request:W})}}var fG={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},EQ=($)=>({applyToStack:(J)=>{J.add(_G($),fG)}});function NQ($){return $}var PG=($)=>(J)=>async(Q)=>{if(!O.isInstance(Q.request))return J(Q);const{request:W}=Q,{handlerProtocol:X=""}=$.requestHandler.metadata||{};if(X.indexOf("h2")>=0&&!W.headers[":authority"])delete W.headers.host,W.headers[":authority"]="";else if(!W.headers.host){let Z=W.hostname;if(W.port!=null)Z+=`:${W.port}`;W.headers.host=Z}return J(Q)},hG={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},kQ=($)=>({applyToStack:(J)=>{J.add(PG($),hG)}});var gG=()=>($,J)=>async(Q)=>{try{const W=await $(Q),{clientName:X,commandName:Z,logger:K,dynamoDbDocumentClientOptions:G={}}=J,{overrideInputFilterSensitiveLog:F,overrideOutputFilterSensitiveLog:Y}=G,U=F??J.inputFilterSensitiveLog,V=Y??J.outputFilterSensitiveLog,{$metadata:z,...I}=W.output;return K?.info?.({clientName:X,commandName:Z,input:U(Q.input),output:V(I),metadata:z}),W}catch(W){const{clientName:X,commandName:Z,logger:K,dynamoDbDocumentClientOptions:G={}}=J,{overrideInputFilterSensitiveLog:F}=G,Y=F??J.inputFilterSensitiveLog;throw K?.error?.({clientName:X,commandName:Z,input:Y(Q.input),error:W,metadata:W.$metadata}),W}},vG={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},_Q=($)=>({applyToStack:(J)=>{J.add(gG(),vG)}});var fQ="X-Amzn-Trace-Id",yG="AWS_LAMBDA_FUNCTION_NAME",bG="_X_AMZN_TRACE_ID",xG=($)=>(J)=>async(Q)=>{const{request:W}=Q;if(!O.isInstance(W)||$.runtime!=="node"||W.headers.hasOwnProperty(fQ))return J(Q);const X=process.env[yG],Z=process.env[bG],K=(G)=>typeof G==="string"&&G.length>0;if(K(X)&&K(Z))W.headers[fQ]=Z;return J({...Q,request:W})},mG={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},PQ=($)=>({applyToStack:(J)=>{J.add(xG($),mG)}});function cG(){return($,J)=>async(Q)=>{const{request:W}=Q;if(O.isInstance(W)){if(!W.headers[lG])if(typeof J?.logger?.warn==="function")J.logger.warn("Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.");else console.warn("Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.")}return $({...Q})}}var lG="content-length",dG={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},hQ=($)=>({applyToStack:(J)=>{J.add(cG(),dG)}});var gQ=($)=>({...$,forcePathStyle:$.forcePathStyle??!1,useAccelerateEndpoint:$.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:$.disableMultiregionAccessPoints??!1});var vQ=($)=>typeof $==="string"&&$.indexOf("arn:")===0&&$.split(":").length>=6;function sG(){return($)=>async(J)=>{const{input:{Bucket:Q}}=J;if(typeof Q==="string"&&!vQ(Q)&&Q.indexOf("/")>=0){const W=new Error(`Bucket name shouldn't contain '/', received '${Q}'`);throw W.name="InvalidBucketName",W}return $({...J})}}var rG={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},yQ=($)=>({applyToStack:(J)=>{J.add(sG(),rG)}});var y8=($,J,Q)=>{let W,X,Z,K=!1;const G=async()=>{if(!X)X=$();try{W=await X,Z=!0,K=!1}finally{X=void 0}return W};if(J===void 0)return async(F)=>{if(!Z||F?.forceRefresh)W=await G();return W};return async(F)=>{if(!Z||F?.forceRefresh)W=await G();if(K)return W;if(Q&&!Q(W))return K=!0,W;if(J(W))return await G(),W;return W}};var TW=G0(W8(),1);function LW($){if($.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const J=new Uint8Array($.length/2);for(let Q=0;Q<$.length;Q+=2){const W=$.slice(Q,Q+2).toLowerCase();if(W in t1)J[Q/2]=t1[W];else throw new Error(`Cannot decode unrecognized sequence ${W} as hexadecimal`)}return J}function P($){let J="";for(let Q=0;Q<$.byteLength;Q++)J+=BW[$[Q]];return J}var BW={},t1={};for(let $=0;$<256;$++){let J=$.toString(16).toLowerCase();if(J.length===1)J=`0${J}`;BW[$]=J,t1[J]=$}var MW=function($){for(let J=0;J<8;J++)$[J]^=255;for(let J=7;J>-1;J--)if($[J]++,$[J]!==0)break};class d0{constructor($){if(this.bytes=$,$.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber($){if($>9223372036854776000||$<-9223372036854776000)throw new Error(`${$} is too large (or, if negative, too small) to represent as an Int64`);const J=new Uint8Array(8);for(let Q=7,W=Math.abs(Math.round($));Q>-1&&W>0;Q--,W/=256)J[Q]=W;if($<0)MW(J);return new d0(J)}valueOf(){const $=this.bytes.slice(0),J=$[0]&128;if(J)MW($);return parseInt(P($),16)*(J?-1:1)}toString(){return String(this.valueOf())}}class X8{constructor($,J){this.toUtf8=$,this.fromUtf8=J}format($){const J=[];for(let X of Object.keys($)){const Z=this.fromUtf8(X);J.push(Uint8Array.from([Z.byteLength]),Z,this.formatHeaderValue($[X]))}const Q=new Uint8Array(J.reduce((X,Z)=>X+Z.byteLength,0));let W=0;for(let X of J)Q.set(X,W),W+=X.byteLength;return Q}formatHeaderValue($){switch($.type){case"boolean":return Uint8Array.from([$.value?0:1]);case"byte":return Uint8Array.from([2,$.value]);case"short":const J=new DataView(new ArrayBuffer(3));return J.setUint8(0,3),J.setInt16(1,$.value,!1),new Uint8Array(J.buffer);case"integer":const Q=new DataView(new ArrayBuffer(5));return Q.setUint8(0,4),Q.setInt32(1,$.value,!1),new Uint8Array(Q.buffer);case"long":const W=new Uint8Array(9);return W[0]=5,W.set($.value.bytes,1),W;case"binary":const X=new DataView(new ArrayBuffer(3+$.value.byteLength));X.setUint8(0,6),X.setUint16(1,$.value.byteLength,!1);const Z=new Uint8Array(X.buffer);return Z.set($.value,3),Z;case"string":const K=this.fromUtf8($.value),G=new DataView(new ArrayBuffer(3+K.byteLength));G.setUint8(0,7),G.setUint16(1,K.byteLength,!1);const F=new Uint8Array(G.buffer);return F.set(K,3),F;case"timestamp":const Y=new Uint8Array(9);return Y[0]=8,Y.set(d0.fromNumber($.value.valueOf()).bytes,1),Y;case"uuid":if(!n9.test($.value))throw new Error(`Invalid UUID received: ${$.value}`);const U=new Uint8Array(17);return U[0]=9,U.set(LW($.value.replace(/\-/g,"")),1),U}}parse($){const J={};let Q=0;while(Q<$.byteLength){const W=$.getUint8(Q++),X=this.toUtf8(new Uint8Array($.buffer,$.byteOffset+Q,W));switch(Q+=W,$.getUint8(Q++)){case 0:J[X]={type:wW,value:!0};break;case 1:J[X]={type:wW,value:!1};break;case 2:J[X]={type:l9,value:$.getInt8(Q++)};break;case 3:J[X]={type:c9,value:$.getInt16(Q,!1)},Q+=2;break;case 4:J[X]={type:d9,value:$.getInt32(Q,!1)},Q+=4;break;case 5:J[X]={type:s9,value:new d0(new Uint8Array($.buffer,$.byteOffset+Q,8))},Q+=8;break;case 6:const Z=$.getUint16(Q,!1);Q+=2,J[X]={type:r9,value:new Uint8Array($.buffer,$.byteOffset+Q,Z)},Q+=Z;break;case 7:const K=$.getUint16(Q,!1);Q+=2,J[X]={type:i9,value:this.toUtf8(new Uint8Array($.buffer,$.byteOffset+Q,K))},Q+=K;break;case 8:J[X]={type:p9,value:new Date(new d0(new Uint8Array($.buffer,$.byteOffset+Q,8)).valueOf())},Q+=8;break;case 9:const G=new Uint8Array($.buffer,$.byteOffset+Q,16);Q+=16,J[X]={type:a9,value:`${P(G.subarray(0,4))}-${P(G.subarray(4,6))}-${P(G.subarray(6,8))}-${P(G.subarray(8,10))}-${P(G.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return J}}var qW;(function($){$[$.boolTrue=0]="boolTrue",$[$.boolFalse=1]="boolFalse",$[$.byte=2]="byte",$[$.short=3]="short",$[$.integer=4]="integer",$[$.long=5]="long",$[$.byteArray=6]="byteArray",$[$.string=7]="string",$[$.timestamp=8]="timestamp",$[$.uuid=9]="uuid"})(qW||(qW={}));var wW="boolean",l9="byte",c9="short",d9="integer",s9="long",r9="binary",i9="string",p9="timestamp",a9="uuid",n9=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var HW=G0(W8(),1);function RW({byteLength:$,byteOffset:J,buffer:Q}){if($<u9)throw new Error("Provided message too short to accommodate event stream message overhead");const W=new DataView(Q,J,$),X=W.getUint32(0,!1);if($!==X)throw new Error("Reported message length does not match received message length");const Z=W.getUint32(CW,!1),K=W.getUint32(L0,!1),G=W.getUint32($-_0,!1),F=new HW.Crc32().update(new Uint8Array(Q,J,L0));if(K!==F.digest())throw new Error(`The prelude checksum specified in the message (${K}) does not match the calculated CRC32 checksum (${F.digest()})`);if(F.update(new Uint8Array(Q,J+L0,$-(L0+_0))),G!==F.digest())throw new Error(`The message checksum (${F.digest()}) did not match the expected value of ${G}`);return{headers:new DataView(Q,J+L0+_0,Z),body:new Uint8Array(Q,J+L0+_0+Z,X-Z-(L0+_0+_0))}}var CW=4,L0=CW*2,_0=4,u9=L0+_0*2;class $${constructor($,J){this.headerMarshaller=new X8($,J),this.messageBuffer=[],this.isEndOfStream=!1}feed($){this.messageBuffer.push(this.decode($))}endOfStream(){this.isEndOfStream=!0}getMessage(){const $=this.messageBuffer.pop(),J=this.isEndOfStream;return{getMessage(){return $},isEndOfStream(){return J}}}getAvailableMessages(){const $=this.messageBuffer;this.messageBuffer=[];const J=this.isEndOfStream;return{getMessages(){return $},isEndOfStream(){return J}}}encode({headers:$,body:J}){const Q=this.headerMarshaller.format($),W=Q.byteLength+J.byteLength+16,X=new Uint8Array(W),Z=new DataView(X.buffer,X.byteOffset,X.byteLength),K=new TW.Crc32;return Z.setUint32(0,W,!1),Z.setUint32(4,Q.byteLength,!1),Z.setUint32(8,K.update(X.subarray(0,8)).digest(),!1),X.set(Q,12),X.set(J,Q.byteLength+12),Z.setUint32(W-4,K.update(X.subarray(8,W-4)).digest(),!1),X}decode($){const{headers:J,body:Q}=RW($);return{headers:this.headerMarshaller.parse(J),body:Q}}formatHeaders($){return this.headerMarshaller.format($)}}class J${constructor($){this.options=$}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let $ of this.options.inputStream)yield this.options.decoder.decode($)}}class Q${constructor($){this.options=$}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let $ of this.options.messageStream)yield this.options.encoder.encode($);if(this.options.includeEndFrame)yield new Uint8Array(0)}}class W${constructor($){this.options=$}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let $ of this.options.messageStream){const J=await this.options.deserializer($);if(J===void 0)continue;yield J}}}class X${constructor($){this.options=$}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let $ of this.options.inputStream)yield this.options.serializer($)}}var g=($)=>{if(typeof $==="function")return $;const J=Promise.resolve($);return()=>J};var M0=($)=>(new TextEncoder()).encode($);var J0=($)=>{if(typeof $==="string")return M0($);if(ArrayBuffer.isView($))return new Uint8Array($.buffer,$.byteOffset,$.byteLength/Uint8Array.BYTES_PER_ELEMENT);return new Uint8Array($)};var q0=($)=>new TextDecoder("utf-8").decode($);var AW="X-Amz-Algorithm",OW="X-Amz-Credential",jW="X-Amz-Date",DW="X-Amz-SignedHeaders",SW="X-Amz-Expires",EW="X-Amz-Signature",NW="X-Amz-Security-Token";var kW="authorization",Z$="X-Amz-Date".toLowerCase();var _W=["authorization",Z$,"date"],fW="X-Amz-Signature".toLowerCase(),Z8="x-amz-content-sha256",PW="X-Amz-Security-Token".toLowerCase();var hW={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},gW=/^proxy-/,vW=/^sec-/;var b8="AWS4-HMAC-SHA256";var yW="AWS4-HMAC-SHA256-PAYLOAD",bW="UNSIGNED-PAYLOAD",xW=50,G$="aws4_request",mW=604800;var x8={},K$=[],m8=($,J,Q)=>`${$}/${J}/${Q}/${G$}`,cW=async($,J,Q,W,X)=>{const Z=await lW($,J.secretAccessKey,J.accessKeyId),K=`${Q}:${W}:${X}:${P(Z)}:${J.sessionToken}`;if(K in x8)return x8[K];K$.push(K);while(K$.length>xW)delete x8[K$.shift()];let G=`AWS4${J.secretAccessKey}`;for(let F of[Q,W,X,G$])G=await lW($,G,F);return x8[K]=G};var lW=($,J,Q)=>{const W=new $(J);return W.update(J0(Q)),W.digest()};var l8=({headers:$},J,Q)=>{const W={};for(let X of Object.keys($).sort()){if($[X]==void 0)continue;const Z=X.toLowerCase();if((Z in hW)||J?.has(Z)||gW.test(Z)||vW.test(Z)){if(!Q||Q&&!Q.has(Z))continue}W[Z]=$[X].trim().replace(/\s+/g," ")}return W};var Q0=($)=>encodeURIComponent($).replace(/[!'()*]/g,o9),o9=($)=>`%${$.charCodeAt(0).toString(16).toUpperCase()}`;var Y$=({query:$={}})=>{const J=[],Q={};for(let W of Object.keys($).sort()){if(W.toLowerCase()===fW)continue;J.push(W);const X=$[W];if(typeof X==="string")Q[W]=`${Q0(W)}=${Q0(X)}`;else if(Array.isArray(X))Q[W]=X.slice(0).sort().reduce((Z,K)=>Z.concat([`${Q0(W)}=${Q0(K)}`]),[]).join("&")}return J.map((W)=>Q[W]).filter((W)=>W).join("&")};var c8=($)=>typeof ArrayBuffer==="function"&&$ instanceof ArrayBuffer||Object.prototype.toString.call($)==="[object ArrayBuffer]";var G8=async({headers:$,body:J},Q)=>{for(let W of Object.keys($))if(W.toLowerCase()===Z8)return $[W];if(J==void 0)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";else if(typeof J==="string"||ArrayBuffer.isView(J)||c8(J)){const W=new Q;return W.update(J0(J)),P(await W.digest())}return bW};var dW=($,J)=>{$=$.toLowerCase();for(let Q of Object.keys(J))if($===Q.toLowerCase())return!0;return!1};var d8=({headers:$,query:J,...Q})=>({...Q,headers:{...$},query:J?e9(J):void 0}),e9=($)=>Object.keys($).reduce((J,Q)=>{const W=$[Q];return{...J,[Q]:Array.isArray(W)?[...W]:W}},{});var F$=($,J={})=>{const{headers:Q,query:W={}}=typeof $.clone==="function"?$.clone():d8($);for(let X of Object.keys(Q)){const Z=X.toLowerCase();if(Z.slice(0,6)==="x-amz-"&&!J.unhoistableHeaders?.has(Z))W[X]=Q[X],delete Q[X]}return{...$,headers:Q,query:W}};var s8=($)=>{$=typeof $.clone==="function"?$.clone():d8($);for(let J of Object.keys($.headers))if(_W.indexOf(J.toLowerCase())>-1)delete $.headers[J];return $};var sW=($)=>t9($).toISOString().replace(/\.\d{3}Z$/,"Z"),t9=($)=>{if(typeof $==="number")return new Date($*1000);if(typeof $==="string"){if(Number($))return new Date(Number($)*1000);return new Date($)}return $};class s0{constructor({applyChecksum:$,credentials:J,region:Q,service:W,sha256:X,uriEscapePath:Z=!0}){this.headerMarshaller=new X8(q0,M0),this.service=W,this.sha256=X,this.uriEscapePath=Z,this.applyChecksum=typeof $==="boolean"?$:!0,this.regionProvider=g(Q),this.credentialProvider=g(J)}async presign($,J={}){const{signingDate:Q=new Date,expiresIn:W=3600,unsignableHeaders:X,unhoistableHeaders:Z,signableHeaders:K,signingRegion:G,signingService:F}=J,Y=await this.credentialProvider();this.validateResolvedCredentials(Y);const U=G??await this.regionProvider(),{longDate:V,shortDate:z}=r8(Q);if(W>mW)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const I=m8(z,U,F??this.service),B=F$(s8($),{unhoistableHeaders:Z});if(Y.sessionToken)B.query[NW]=Y.sessionToken;B.query[AW]=b8,B.query[OW]=`${Y.accessKeyId}/${I}`,B.query[jW]=V,B.query[SW]=W.toString(10);const L=l8(B,X,K);return B.query[DW]=rW(L),B.query[EW]=await this.getSignature(V,I,this.getSigningKey(Y,U,z,F),this.createCanonicalRequest(B,L,await G8($,this.sha256))),B}async sign($,J){if(typeof $==="string")return this.signString($,J);else if($.headers&&$.payload)return this.signEvent($,J);else if($.message)return this.signMessage($,J);else return this.signRequest($,J)}async signEvent({headers:$,payload:J},{signingDate:Q=new Date,priorSignature:W,signingRegion:X,signingService:Z}){const K=X??await this.regionProvider(),{shortDate:G,longDate:F}=r8(Q),Y=m8(G,K,Z??this.service),U=await G8({headers:{},body:J},this.sha256),V=new this.sha256;V.update($);const z=P(await V.digest()),I=[yW,F,Y,W,z,U].join("\n");return this.signString(I,{signingDate:Q,signingRegion:K,signingService:Z})}async signMessage($,{signingDate:J=new Date,signingRegion:Q,signingService:W}){return this.signEvent({headers:this.headerMarshaller.format($.message.headers),payload:$.message.body},{signingDate:J,signingRegion:Q,signingService:W,priorSignature:$.priorSignature}).then((Z)=>{return{message:$.message,signature:Z}})}async signString($,{signingDate:J=new Date,signingRegion:Q,signingService:W}={}){const X=await this.credentialProvider();this.validateResolvedCredentials(X);const Z=Q??await this.regionProvider(),{shortDate:K}=r8(J),G=new this.sha256(await this.getSigningKey(X,Z,K,W));return G.update(J0($)),P(await G.digest())}async signRequest($,{signingDate:J=new Date,signableHeaders:Q,unsignableHeaders:W,signingRegion:X,signingService:Z}={}){const K=await this.credentialProvider();this.validateResolvedCredentials(K);const G=X??await this.regionProvider(),F=s8($),{longDate:Y,shortDate:U}=r8(J),V=m8(U,G,Z??this.service);if(F.headers[Z$]=Y,K.sessionToken)F.headers[PW]=K.sessionToken;const z=await G8(F,this.sha256);if(!dW(Z8,F.headers)&&this.applyChecksum)F.headers[Z8]=z;const I=l8(F,W,Q),B=await this.getSignature(Y,V,this.getSigningKey(K,G,U,Z),this.createCanonicalRequest(F,I,z));return F.headers[kW]=`${b8} `+`Credential=${K.accessKeyId}/${V}, `+`SignedHeaders=${rW(I)}, `+`Signature=${B}`,F}createCanonicalRequest($,J,Q){const W=Object.keys(J).sort();return`${$.method}
${this.getCanonicalPath($)}
${Y$($)}
${W.map((X)=>`${X}:${J[X]}`).join("\n")}

${W.join(";")}
${Q}`}async createStringToSign($,J,Q){const W=new this.sha256;W.update(J0(Q));const X=await W.digest();return`${b8}
${$}
${J}
${P(X)}`}getCanonicalPath({path:$}){if(this.uriEscapePath){const J=[];for(let X of $.split("/")){if(X?.length===0)continue;if(X===".")continue;if(X==="..")J.pop();else J.push(X)}const Q=`${$?.startsWith("/")?"/":""}${J.join("/")}${J.length>0&&$?.endsWith("/")?"/":""}`;return encodeURIComponent(Q).replace(/%2F/g,"/")}return $}async getSignature($,J,Q,W){const X=await this.createStringToSign($,J,W),Z=new this.sha256(await Q);return Z.update(J0(X)),P(await Z.digest())}getSigningKey($,J,Q,W){return cW(this.sha256,$,Q,J,W||this.service)}validateResolvedCredentials($){if(typeof $!=="object"||typeof $.accessKeyId!=="string"||typeof $.secretAccessKey!=="string")throw new Error("Resolved credential object is not valid")}}var r8=($)=>{const J=sW($).replace(/[\-:]/g,"");return{longDate:J,shortDate:J.slice(0,8)}},rW=($)=>Object.keys($).sort().join(";");var $7=300000,iW=($)=>{const J=$.credentials?J7($.credentials):$.credentialDefaultProvider($),{signingEscapePath:Q=!0,systemClockOffset:W=$.systemClockOffset||0,sha256:X}=$;let Z;if($.signer)Z=g($.signer);else if($.regionInfoProvider)Z=()=>g($.region)().then(async(K)=>[await $.regionInfoProvider(K,{useFipsEndpoint:await $.useFipsEndpoint(),useDualstackEndpoint:await $.useDualstackEndpoint()})||{},K]).then(([K,G])=>{const{signingRegion:F,signingService:Y}=K;$.signingRegion=$.signingRegion||F||G,$.signingName=$.signingName||Y||$.serviceId;const U={...$,credentials:J,region:$.signingRegion,service:$.signingName,sha256:X,uriEscapePath:Q};return new($.signerConstructor||s0)(U)});else Z=async(K)=>{K=Object.assign({},{name:"sigv4",signingName:$.signingName||$.defaultSigningName,signingRegion:await g($.region)(),properties:{}},K);const{signingRegion:G,signingName:F}=K;$.signingRegion=$.signingRegion||G,$.signingName=$.signingName||F||$.serviceId;const Y={...$,credentials:J,region:$.signingRegion,service:$.signingName,sha256:X,uriEscapePath:Q};return new($.signerConstructor||s0)(Y)};return{...$,systemClockOffset:W,signingEscapePath:Q,credentials:J,signer:Z}};var J7=($)=>{if(typeof $==="function")return y8($,(J)=>J.expiration!==void 0&&J.expiration.getTime()-Date.now()<$7,(J)=>J.expiration!==void 0);return g($)};var i8=($)=>new Date(Date.now()+$);var pW=($,J)=>Math.abs(i8(J).getTime()-$)>=300000;var z$=($,J)=>{const Q=Date.parse($);if(pW(Q,J))return Q-Date.now();return J};var Q7=($)=>(J,Q)=>async function(W){if(!O.isInstance(W.request))return J(W);const X=Q.endpointV2?.properties?.authSchemes?.[0],Z=X?.name==="sigv4a"?X?.signingRegionSet?.join(","):void 0,K=await $.signer(X),G=await J({...W,request:await K.sign(W.request,{signingDate:i8($.systemClockOffset),signingRegion:Z||Q.signing_region,signingService:Q.signing_service})}).catch((Y)=>{const U=Y.ServerTime??aW(Y.$response);if(U)$.systemClockOffset=z$(U,$.systemClockOffset);throw Y}),F=aW(G.response);if(F)$.systemClockOffset=z$(F,$.systemClockOffset);return G},aW=($)=>$0.isInstance($)?$.headers?.date??$.headers?.Date:void 0,W7={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},nW=($)=>({applyToStack:(J)=>{J.addRelativeTo(Q7($),W7)}});function uW($){return{...$,customUserAgent:typeof $.customUserAgent==="string"?[[$.customUserAgent]]:$.customUserAgent}}var U$={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"};var oW=U$,eW="",Z7=($)=>{const{partitions:J}=oW;for(let W of J){const{regions:X,outputs:Z}=W;for(let[K,G]of Object.entries(X))if(K===$)return{...Z,...G}}for(let W of J){const{regionRegex:X,outputs:Z}=W;if(new RegExp(X).test($))return{...Z}}const Q=J.find((W)=>W.id==="aws");if(!Q)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...Q.outputs}},tW=($,J="")=>{oW=$,eW=J},G7=()=>{tW(U$,"")},V$=()=>eW;var K7=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),p8=($)=>K7.test($)||$.startsWith("[")&&$.endsWith("]");var F0="endpoints";function n($){if(typeof $!=="object"||$==null)return $;if("ref"in $)return`\$${n($.ref)}`;if("fn"in $)return`${$.fn}(${($.argv||[]).map(n).join(", ")})`;return JSON.stringify($,null,2)}class S extends Error{constructor($){super($);this.name="EndpointError"}}var M$={};K0(M$,{uriEncode:()=>{{return M7}},substring:()=>{{return L7}},stringEquals:()=>{{return B7}},parseURL:()=>{{return I7}},not:()=>{{return V7}},isValidHostLabel:()=>{{return a8}},isSet:()=>{{return U7}},getAttr:()=>{{return B$}},booleanEquals:()=>{{return z7}},aws:()=>{{return I$}}});var I$={};K0(I$,{useDefaultPartitionInfo:()=>{{return G7}},setPartitionInfo:()=>{{return tW}},partition:()=>{{return Z7}},parseArn:()=>{{return F7}},isVirtualHostableS3Bucket:()=>{{return $5}},getUserAgentPrefix:()=>{{return V$}}});var Y7=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),a8=($,J=!1)=>{if(!J)return Y7.test($);const Q=$.split(".");for(let W of Q)if(!a8(W))return!1;return!0};var $5=($,J=!1)=>{if(J){for(let Q of $.split("."))if(!$5(Q))return!1;return!0}if(!a8($))return!1;if($.length<3||$.length>63)return!1;if($!==$.toLowerCase())return!1;if(p8($))return!1;return!0};var F7=($)=>{const J=$.split(":");if(J.length<6)return null;const[Q,W,X,Z,K,...G]=J;if(Q!=="arn"||W===""||X===""||G[0]==="")return null;return{partition:W,service:X,region:Z,accountId:K,resourceId:G[0].includes("/")?G[0].split("/"):G}};var z7=($,J)=>$===J;var J5=($)=>{const J=$.split("."),Q=[];for(let W of J){const X=W.indexOf("[");if(X!==-1){if(W.indexOf("]")!==W.length-1)throw new S(`Path: '${$}' does not end with ']'`);const Z=W.slice(X+1,-1);if(Number.isNaN(parseInt(Z)))throw new S(`Invalid array index: '${Z}' in path: '${$}'`);if(X!==0)Q.push(W.slice(0,X));Q.push(Z)}else Q.push(W)}return Q};var B$=($,J)=>J5(J).reduce((Q,W)=>{if(typeof Q!=="object")throw new S(`Index '${W}' in '${J}' not found in '${JSON.stringify($)}'`);else if(Array.isArray(Q))return Q[parseInt(W)];return Q[W]},$);var U7=($)=>$!=null;var V7=($)=>!$;var Q5;(function($){$.AAAA="AAAA",$.A="A"})(Q5||(Q5={}));var L$={[k0.HTTP]:80,[k0.HTTPS]:443},I7=($)=>{const J=(()=>{try{if($ instanceof URL)return $;if(typeof $==="object"&&("hostname"in $)){const{hostname:z,port:I,protocol:B="",path:L="",query:q={}}=$,E=new URL(`${B}//${z}${I?`:${I}`:""}${L}`);return E.search=Object.entries(q).map(([X0,E0])=>`${X0}=${E0}`).join("&"),E}return new URL($)}catch(z){return null}})();if(!J)return console.error(`Unable to parse ${JSON.stringify($)} as a whatwg URL.`),null;const Q=J.href,{host:W,hostname:X,pathname:Z,protocol:K,search:G}=J;if(G)return null;const F=K.slice(0,-1);if(!Object.values(k0).includes(F))return null;const Y=p8(X),U=Q.includes(`${W}:${L$[F]}`)||typeof $==="string"&&$.includes(`${W}:${L$[F]}`),V=`${W}${U?`:${L$[F]}`:""}`;return{scheme:F,authority:V,path:Z,normalizedPath:Z.endsWith("/")?Z:`${Z}/`,isIp:Y}};var B7=($,J)=>$===J;var L7=($,J,Q,W)=>{if(J>=Q||$.length<Q)return null;if(!W)return $.substring(J,Q);return $.substring($.length-Q,$.length-J)};var M7=($)=>encodeURIComponent($).replace(/[!*'()]/g,(J)=>`%${J.charCodeAt(0).toString(16).toUpperCase()}`);var n8=($,J)=>{const Q=[],W={...J.endpointParams,...J.referenceRecord};let X=0;while(X<$.length){const Z=$.indexOf("{",X);if(Z===-1){Q.push($.slice(X));break}Q.push($.slice(X,Z));const K=$.indexOf("}",Z);if(K===-1){Q.push($.slice(Z));break}if($[Z+1]==="{"&&$[K+1]==="}")Q.push($.slice(Z+1,K)),X=K+2;const G=$.substring(Z+1,K);if(G.includes("#")){const[F,Y]=G.split("#");Q.push(B$(W[F],Y))}else Q.push(W[G]);X=K+1}return Q.join("")};var W5=({ref:$},J)=>{return{...J.endpointParams,...J.referenceRecord}[$]};var w0=($,J,Q)=>{if(typeof $==="string")return n8($,Q);else if($.fn)return u8($,Q);else if($.ref)return W5($,Q);throw new S(`'${J}': ${String($)} is not a string, function or reference.`)};var u8=({fn:$,argv:J},Q)=>{const W=J.map((X)=>["boolean","number"].includes(typeof X)?X:w0(X,"arg",Q));return $.split(".").reduce((X,Z)=>X[Z],M$)(...W)};var X5=({assign:$,...J},Q)=>{if($&&($ in Q.referenceRecord))throw new S(`'${$}' is already defined in Reference Record.`);const W=u8(J,Q);return Q.logger?.debug?.(F0,`evaluateCondition: ${n(J)} = ${n(W)}`),{result:W===""?!0:!!W,...$!=null&&{toAssign:{name:$,value:W}}}};var r0=($=[],J)=>{const Q={};for(let W of $){const{result:X,toAssign:Z}=X5(W,{...J,referenceRecord:{...J.referenceRecord,...Q}});if(!X)return{result:X};if(Z)Q[Z.name]=Z.value,J.logger?.debug?.(F0,`assign: ${Z.name} := ${n(Z.value)}`)}return{result:!0,referenceRecord:Q}};var Z5=($,J)=>Object.entries($).reduce((Q,[W,X])=>({...Q,[W]:X.map((Z)=>{const K=w0(Z,"Header value entry",J);if(typeof K!=="string")throw new S(`Header '${W}' value '${K}' is not a string`);return K})}),{});var q$=($,J)=>{if(Array.isArray($))return $.map((Q)=>q$(Q,J));switch(typeof $){case"string":return n8($,J);case"object":if($===null)throw new S(`Unexpected endpoint property: ${$}`);return o8($,J);case"boolean":return $;default:throw new S(`Unexpected endpoint property type: ${typeof $}`)}};var o8=($,J)=>Object.entries($).reduce((Q,[W,X])=>({...Q,[W]:q$(X,J)}),{});var G5=($,J)=>{const Q=w0($,"Endpoint URL",J);if(typeof Q==="string")try{return new URL(Q)}catch(W){throw console.error(`Failed to construct URL with ${Q}`,W),W}throw new S(`Endpoint URL must be a string, got ${typeof Q}`)};var K5=($,J)=>{const{conditions:Q,endpoint:W}=$,{result:X,referenceRecord:Z}=r0(Q,J);if(!X)return;const K={...J,referenceRecord:{...J.referenceRecord,...Z}},{url:G,properties:F,headers:Y}=W;return J.logger?.debug?.(F0,`Resolving endpoint from template: ${n(W)}`),{...Y!=null&&{headers:Z5(Y,K)},...F!=null&&{properties:o8(F,K)},url:G5(G,K)}};var Y5=($,J)=>{const{conditions:Q,error:W}=$,{result:X,referenceRecord:Z}=r0(Q,J);if(!X)return;throw new S(w0(W,"Error",{...J,referenceRecord:{...J.referenceRecord,...Z}}))};var F5=($,J)=>{const{conditions:Q,rules:W}=$,{result:X,referenceRecord:Z}=r0(Q,J);if(!X)return;return e8(W,{...J,referenceRecord:{...J.referenceRecord,...Z}})};var e8=($,J)=>{for(let Q of $)if(Q.type==="endpoint"){const W=K5(Q,J);if(W)return W}else if(Q.type==="error")Y5(Q,J);else if(Q.type==="tree"){const W=F5(Q,J);if(W)return W}else throw new S(`Unknown endpoint rule: ${Q}`);throw new S("Rules evaluation failed")};var z5=($,J)=>{const{endpointParams:Q,logger:W}=J,{parameters:X,rules:Z}=$;J.logger?.debug?.(`${F0} Initial EndpointParams: ${n(Q)}`);const K=Object.entries(X).filter(([,Y])=>Y.default!=null).map(([Y,U])=>[Y,U.default]);if(K.length>0)for(let[Y,U]of K)Q[Y]=Q[Y]??U;const G=Object.entries(X).filter(([,Y])=>Y.required).map(([Y])=>Y);for(let Y of G)if(Q[Y]==null)throw new S(`Missing required parameter: '${Y}'`);const F=e8(Z,{endpointParams:Q,logger:W,referenceRecord:{}});if(J.endpointParams?.Endpoint)try{const Y=new URL(J.endpointParams.Endpoint),{protocol:U,port:V}=Y;F.url.protocol=U,F.url.port=V}catch(Y){}return J.logger?.debug?.(`${F0} Resolved endpoint: ${n(F)}`),F};var w$="user-agent",t8="x-amz-user-agent",H$=" ",$1="/",U5=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,V5=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,C$="-";var q7=($)=>(J,Q)=>async(W)=>{const{request:X}=W;if(!O.isInstance(X))return J(W);const{headers:Z}=X,K=Q?.userAgent?.map(R$)||[],G=(await $.defaultUserAgentProvider()).map(R$),F=$?.customUserAgent?.map(R$)||[],Y=V$(),U=(Y?[Y]:[]).concat([...G,...K,...F]).join(H$),V=[...G.filter((z)=>z.startsWith("aws-sdk-")),...F].join(H$);if($.runtime!=="browser"){if(V)Z[t8]=Z[t8]?`${Z[w$]} ${V}`:V;Z[w$]=U}else Z[t8]=U;return J({...W,request:X})},R$=($)=>{const J=$[0].split($1).map((K)=>K.replace(U5,C$)).join($1),Q=$[1]?.replace(V5,C$),W=J.indexOf($1),X=J.substring(0,W);let Z=J.substring(W+1);if(X==="api")Z=Z.toLowerCase();return[X,Z,Q].filter((K)=>K&&K.length>0).reduce((K,G,F)=>{switch(F){case 0:return G;case 1:return`${K}/${G}`;default:return`${K}#${G}`}},"")},w7={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},I5=($)=>({applyToStack:(J)=>{J.add(q7($),w7)}});var J1;(function($){$.ENV="env",$.CONFIG="shared config entry"})(J1||(J1={}));var B5=!1;var L5=!1;var Q1=($)=>typeof $==="string"&&($.startsWith("fips-")||$.endsWith("-fips"));var T$=($)=>Q1($)?["fips-aws-global","aws-fips"].includes($)?"us-east-1":$.replace(/fips-(dkr-|prod-)?|-fips/,""):$;var M5=($)=>{const{region:J,useFipsEndpoint:Q}=$;if(!J)throw new Error("Region is missing");return{...$,region:async()=>{if(typeof J==="string")return T$(J);const W=await J();return T$(W)},useFipsEndpoint:async()=>{const W=typeof J==="string"?J:await J();if(Q1(W))return!0;return typeof Q!=="function"?Promise.resolve(!!Q):Q()}}};var q5=($)=>({...$,eventStreamMarshaller:$.eventStreamSerdeProvider($)});function C7($){return(J)=>async(Q)=>{const W=Q.request;if(O.isInstance(W)){const{body:X,headers:Z}=W;if(X&&Object.keys(Z).map((K)=>K.toLowerCase()).indexOf(w5)===-1)try{const K=$(X);W.headers={...W.headers,[w5]:String(K)}}catch(K){}}return J({...Q,request:W})}}var w5="content-length",R7={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},H5=($)=>({applyToStack:(J)=>{J.add(C7($.bodyLengthChecker),R7)}});var C5=async($)=>{const J=$?.Bucket||"";if(typeof $.Bucket==="string")$.Bucket=J.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"));if(D7(J)){if($.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else if(!j7(J)||J.indexOf(".")!==-1&&!String($.Endpoint).startsWith("http:")||J.toLowerCase()!==J||J.length<3)$.ForcePathStyle=!0;if($.DisableMultiRegionAccessPoints)$.disableMultiRegionAccessPoints=!0,$.DisableMRAP=!0;return $},T7=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,A7=/(\d+\.){3}\d+/,O7=/\.\./;var j7=($)=>T7.test($)&&!A7.test($)&&!O7.test($),D7=($)=>{const[J,Q,W,X,Z,K]=$.split(":"),G=J==="arn"&&$.split(":").length>=6,F=[J,Q,W,Z,K].filter(Boolean).length===5;if(G&&!F)throw new Error(`Invalid ARN: ${$} was an invalid ARN.`);return J==="arn"&&!!Q&&!!W&&!!Z&&!!K};var R5=($,J,Q)=>{const W=async()=>{const X=Q[$]??Q[J];if(typeof X==="function")return X();return X};if($==="endpoint"||J==="endpoint")return async()=>{const X=await W();if(X&&typeof X==="object"){if("url"in X)return X.url.href;if("hostname"in X){const{protocol:Z,hostname:K,port:G,path:F}=X;return`${Z}//${K}${G?":"+G:""}${F}`}}return X};return W};var T5=async($,J,Q,W)=>{const X=await S7($,J,Q);if(typeof Q.endpointProvider!=="function")throw new Error("config.endpointProvider is not set.");return Q.endpointProvider(X,W)},S7=async($,J,Q)=>{const W={},X=J?.getEndpointParameterInstructions?.()||{};for(let[Z,K]of Object.entries(X))switch(K.type){case"staticContextParams":W[Z]=K.value;break;case"contextParams":W[Z]=$[K.name];break;case"clientContextParams":case"builtInParams":W[Z]=await R5(K.name,Z,Q)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(K))}if(Object.keys(X).length===0)Object.assign(W,Q);if(String(Q.serviceId).toLowerCase()==="s3")await C5(W);return W};function A5($){const J={};if($=$.replace(/^\?/,""),$)for(let Q of $.split("&")){let[W,X=null]=Q.split("=");if(W=decodeURIComponent(W),X)X=decodeURIComponent(X);if(!(W in J))J[W]=X;else if(Array.isArray(J[W]))J[W].push(X);else J[W]=[J[W],X]}return J}var i0=($)=>{if(typeof $==="string")return i0(new URL($));const{hostname:J,pathname:Q,port:W,protocol:X,search:Z}=$;let K;if(Z)K=A5(Z);return{hostname:J,port:W?parseInt(W):void 0,protocol:X,path:Q,query:K}};var O5=($)=>{if(typeof $==="object"){if("url"in $)return i0($.url);return $}return i0($)};var j5=({config:$,instructions:J})=>{return(Q,W)=>async(X)=>{const Z=await T5(X.input,{getEndpointParameterInstructions(){return J}},{...$},W);W.endpointV2=Z,W.authSchemes=Z.properties?.authSchemes;const K=W.authSchemes?.[0];if(K)W.signing_region=K.signingRegion,W.signing_service=K.signingName;return Q({...X})}};var D5=($,J)=>(Q,W)=>async(X)=>{const{response:Z}=await Q(X);try{const K=await J(Z,$);return{response:Z,output:K}}catch(K){if(Object.defineProperty(K,"$response",{value:Z}),!("$metadata"in K))K.message+="\n  Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";throw K}};var S5=($,J)=>(Q,W)=>async(X)=>{const Z=W.endpointV2?.url&&$.urlParser?async()=>$.urlParser(W.endpointV2.url):$.endpoint;if(!Z)throw new Error("No valid endpoint provider available.");const K=await J(X.input,{...$,endpoint:Z});return Q({...X,request:K})};function H0($,J,Q){return{applyToStack:(W)=>{W.add(D5($,Q),E7),W.add(S5($,J),A$)}}}var E7={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},A$={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};var N7={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:A$.name},C0=($,J)=>({applyToStack:(Q)=>{Q.addRelativeTo(j5({config:$,instructions:J}),N7)}});var E5=($)=>{const J=$.tls??!0,{endpoint:Q}=$,W=Q!=null?async()=>O5(await g(Q)()):void 0;return{...$,endpoint:W,tls:J,isCustomEndpoint:!!Q,useDualstackEndpoint:g($.useDualstackEndpoint??!1),useFipsEndpoint:g($.useFipsEndpoint??!1)}};var e;(function($){$.STANDARD="standard",$.ADAPTIVE="adaptive"})(e||(e={}));var R0=3,O$=e.STANDARD;var N5=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],k5=["TimeoutError","RequestTimeout","RequestTimeoutException"],_5=[500,502,503,504],f5=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"];var p0=($)=>$.$metadata?.httpStatusCode===429||N5.includes($.name)||$.$retryable?.throttling==!0,W1=($)=>k5.includes($.name)||f5.includes($?.code||"")||_5.includes($.$metadata?.httpStatusCode||0),P5=($)=>{if($.$metadata?.httpStatusCode!==void 0){const J=$.$metadata.httpStatusCode;if(500<=J&&J<=599&&!W1($))return!0;return!1}return!1};class X1{constructor($){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=$?.beta??0.7,this.minCapacity=$?.minCapacity??1,this.minFillRate=$?.minFillRate??0.5,this.scaleConstant=$?.scaleConstant??0.4,this.smooth=$?.smooth??0.8;const J=this.getCurrentTimeInSeconds();this.lastThrottleTime=J,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1000}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket($){if(!this.enabled)return;if(this.refillTokenBucket(),$>this.currentCapacity){const J=($-this.currentCapacity)/this.fillRate*1000;await new Promise((Q)=>setTimeout(Q,J))}this.currentCapacity=this.currentCapacity-$}refillTokenBucket(){const $=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=$;return}const J=($-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+J),this.lastTimestamp=$}updateClientSendingRate($){let J;if(this.updateMeasuredRate(),p0($)){const W=!this.enabled?this.measuredTxRate:Math.min(this.measuredTxRate,this.fillRate);this.lastMaxRate=W,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),J=this.cubicThrottle(W),this.enableTokenBucket()}else this.calculateTimeWindow(),J=this.cubicSuccess(this.getCurrentTimeInSeconds());const Q=Math.min(J,2*this.measuredTxRate);this.updateTokenBucketRate(Q)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,0.3333333333333333))}cubicThrottle($){return this.getPrecise($*this.beta)}cubicSuccess($){return this.getPrecise(this.scaleConstant*Math.pow($-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate($){this.refillTokenBucket(),this.fillRate=Math.max($,this.minFillRate),this.maxCapacity=Math.max($,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const $=this.getCurrentTimeInSeconds(),J=Math.floor($*2)/2;if(this.requestCount++,J>this.lastTxRateBucket){const Q=this.requestCount/(J-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(Q*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=J}}getPrecise($){return parseFloat($.toFixed(8))}}var f0=100,K8=20000,j$=500,Z1=500,D$=5,S$=10,E$=1,G1="amz-sdk-invocation-id",K1="amz-sdk-request";var h5=()=>{let $=f0;return{computeNextBackoffDelay:(W)=>{return Math.floor(Math.min(K8,Math.random()*2**W*$))},setDelayBase:(W)=>{$=W}}};var N$=({retryDelay:$,retryCount:J,retryCost:Q})=>{return{getRetryCount:()=>J,getRetryDelay:()=>Math.min(K8,$),getRetryCost:()=>Q}};class a0{constructor($){this.maxAttempts=$,this.mode=e.STANDARD,this.capacity=Z1,this.retryBackoffStrategy=h5(),this.maxAttemptsProvider=typeof $==="function"?$:async()=>$}async acquireInitialRetryToken($){return N$({retryDelay:f0,retryCount:0})}async refreshRetryTokenForRetry($,J){const Q=await this.getMaxAttempts();if(this.shouldRetry($,J,Q)){const W=J.errorType;this.retryBackoffStrategy.setDelayBase(W==="THROTTLING"?j$:f0);const X=this.retryBackoffStrategy.computeNextBackoffDelay($.getRetryCount()),Z=J.retryAfterHint?Math.max(J.retryAfterHint.getTime()-Date.now()||0,X):X,K=this.getCapacityCost(W);return this.capacity-=K,N$({retryDelay:Z,retryCount:$.getRetryCount()+1,retryCost:K})}throw new Error("No retry token available")}recordSuccess($){this.capacity=Math.max(Z1,this.capacity+($.getRetryCost()??E$))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch($){return console.warn(`Max attempts provider could not resolve. Using default of ${R0}`),R0}}shouldRetry($,J,Q){return $.getRetryCount()+1<Q&&this.capacity>=this.getCapacityCost(J.errorType)&&this.isRetryableError(J.errorType)}getCapacityCost($){return $==="TRANSIENT"?S$:D$}isRetryableError($){return $==="THROTTLING"||$==="TRANSIENT"}}class k${constructor($,J){this.maxAttemptsProvider=$,this.mode=e.ADAPTIVE;const{rateLimiter:Q}=J??{};this.rateLimiter=Q??new X1,this.standardRetryStrategy=new a0($)}async acquireInitialRetryToken($){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken($)}async refreshRetryTokenForRetry($,J){return this.rateLimiter.updateClientSendingRate(J),this.standardRetryStrategy.refreshRetryTokenForRetry($,J)}recordSuccess($){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess($)}}var Y1,k7=new Uint8Array(16);function _$(){if(!Y1){if(Y1=typeof crypto!=="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!=="undefined"&&typeof msCrypto.getRandomValues==="function"&&msCrypto.getRandomValues.bind(msCrypto),!Y1)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}return Y1(k7)}var g5=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;var _7=function($){return typeof $==="string"&&g5.test($)},v5=_7;var f7=function($){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Q=(v[$[J+0]]+v[$[J+1]]+v[$[J+2]]+v[$[J+3]]+"-"+v[$[J+4]]+v[$[J+5]]+"-"+v[$[J+6]]+v[$[J+7]]+"-"+v[$[J+8]]+v[$[J+9]]+"-"+v[$[J+10]]+v[$[J+11]]+v[$[J+12]]+v[$[J+13]]+v[$[J+14]]+v[$[J+15]]).toLowerCase();if(!v5(Q))throw TypeError("Stringified UUID is invalid");return Q},v=[];for(F1=0;F1<256;++F1)v.push((F1+256).toString(16).substr(1));var F1,y5=f7;var P7=function($,J,Q){$=$||{};var W=$.random||($.rng||_$)();if(W[6]=W[6]&15|64,W[8]=W[8]&63|128,J){Q=Q||0;for(var X=0;X<16;++X)J[Q+X]=W[X];return J}return y5(W)},f$=P7;var P$=($)=>{if($ instanceof Error)return $;if($ instanceof Object)return Object.assign(new Error,$);if(typeof $==="string")return new Error($);return new Error(`AWS SDK error wrapper for ${$}`)};var b5=($)=>{const{retryStrategy:J}=$,Q=g($.maxAttempts??R0);return{...$,maxAttempts:Q,retryStrategy:async()=>{if(J)return J;if(await g($.retryMode)()===e.ADAPTIVE)return new k$(Q);return new a0(Q)}}};var h7=($)=>(J,Q)=>async(W)=>{let X=await $.retryStrategy();const Z=await $.maxAttempts();if(g7(X)){X=X;let K=await X.acquireInitialRetryToken(Q.partition_id),G=new Error,F=0,Y=0;const{request:U}=W;if(O.isInstance(U))U.headers[G1]=f$();while(!0)try{if(O.isInstance(U))U.headers[K1]=`attempt=${F+1}; max=${Z}`;const{response:V,output:z}=await J(W);return X.recordSuccess(K),z.$metadata.attempts=F+1,z.$metadata.totalRetryDelay=Y,{response:V,output:z}}catch(V){const z=v7(V);G=P$(V);try{K=await X.refreshRetryTokenForRetry(K,z)}catch(B){if(!G.$metadata)G.$metadata={};throw G.$metadata.attempts=F+1,G.$metadata.totalRetryDelay=Y,G}F=K.getRetryCount();const I=K.getRetryDelay();Y+=I,await new Promise((B)=>setTimeout(B,I))}}else{if(X=X,X?.mode)Q.userAgent=[...Q.userAgent||[],["cfg/retry-mode",X.mode]];return X.retry(J,W)}},g7=($)=>typeof $.acquireInitialRetryToken!=="undefined"&&typeof $.refreshRetryTokenForRetry!=="undefined"&&typeof $.recordSuccess!=="undefined",v7=($)=>{const J={errorType:y7($)},Q=x7($.$response);if(Q)J.retryAfterHint=Q;return J},y7=($)=>{if(p0($))return"THROTTLING";if(W1($))return"TRANSIENT";if(P5($))return"SERVER_ERROR";return"CLIENT_ERROR"},b7={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},x5=($)=>({applyToStack:(J)=>{J.add(h7($),b7)}}),x7=($)=>{if(!$0.isInstance($))return;const J=Object.keys($.headers).find((Z)=>Z.toLowerCase()==="retry-after");if(!J)return;const Q=$.headers[J],W=Number(Q);if(!Number.isNaN(W))return new Date(W*1000);return new Date(Q)};class h${trace(){}debug(){}info(){}warn(){}error(){}}var n0=()=>{let $=[],J=[];const Q=new Set,W=(U)=>U.sort((V,z)=>m5[z.step]-m5[V.step]||l5[z.priority||"normal"]-l5[V.priority||"normal"]),X=(U)=>{let V=!1;const z=(I)=>{if(I.name&&I.name===U)return V=!0,Q.delete(U),!1;return!0};return $=$.filter(z),J=J.filter(z),V},Z=(U)=>{let V=!1;const z=(I)=>{if(I.middleware===U){if(V=!0,I.name)Q.delete(I.name);return!1}return!0};return $=$.filter(z),J=J.filter(z),V},K=(U)=>{return $.forEach((V)=>{U.add(V.middleware,{...V})}),J.forEach((V)=>{U.addRelativeTo(V.middleware,{...V})}),U},G=(U)=>{const V=[];return U.before.forEach((z)=>{if(z.before.length===0&&z.after.length===0)V.push(z);else V.push(...G(z))}),V.push(U),U.after.reverse().forEach((z)=>{if(z.before.length===0&&z.after.length===0)V.push(z);else V.push(...G(z))}),V},F=(U=!1)=>{const V=[],z=[],I={};return $.forEach((L)=>{const q={...L,before:[],after:[]};if(q.name)I[q.name]=q;V.push(q)}),J.forEach((L)=>{const q={...L,before:[],after:[]};if(q.name)I[q.name]=q;z.push(q)}),z.forEach((L)=>{if(L.toMiddleware){const q=I[L.toMiddleware];if(q===void 0){if(U)return;throw new Error(`${L.toMiddleware} is not found when adding ${L.name||"anonymous"} middleware ${L.relation} ${L.toMiddleware}`)}if(L.relation==="after")q.after.push(L);if(L.relation==="before")q.before.push(L)}}),W(V).map(G).reduce((L,q)=>{return L.push(...q),L},[])},Y={add:(U,V={})=>{const{name:z,override:I}=V,B={step:"initialize",priority:"normal",middleware:U,...V};if(z){if(Q.has(z)){if(!I)throw new Error(`Duplicate middleware name '${z}'`);const L=$.findIndex((E)=>E.name===z),q=$[L];if(q.step!==B.step||q.priority!==B.priority)throw new Error(`"${z}" middleware with ${q.priority} priority in ${q.step} step cannot be `+`overridden by same-name middleware with ${B.priority} priority in ${B.step} step.`);$.splice(L,1)}Q.add(z)}$.push(B)},addRelativeTo:(U,V)=>{const{name:z,override:I}=V,B={middleware:U,...V};if(z){if(Q.has(z)){if(!I)throw new Error(`Duplicate middleware name '${z}'`);const L=J.findIndex((E)=>E.name===z),q=J[L];if(q.toMiddleware!==B.toMiddleware||q.relation!==B.relation)throw new Error(`"${z}" middleware ${q.relation} "${q.toMiddleware}" middleware cannot be overridden `+`by same-name middleware ${B.relation} "${B.toMiddleware}" middleware.`);J.splice(L,1)}Q.add(z)}J.push(B)},clone:()=>K(n0()),use:(U)=>{U.applyToStack(Y)},remove:(U)=>{if(typeof U==="string")return X(U);else return Z(U)},removeByTag:(U)=>{let V=!1;const z=(I)=>{const{tags:B,name:L}=I;if(B&&B.includes(U)){if(L)Q.delete(L);return V=!0,!1}return!0};return $=$.filter(z),J=J.filter(z),V},concat:(U)=>{const V=K(n0());return V.use(U),V},applyToStack:K,identify:()=>{return F(!0).map((U)=>{return U.name+": "+(U.tags||[]).join(",")})},resolve:(U,V)=>{for(let z of F().map((I)=>I.middleware).reverse())U=z(U,V);return U}};return Y},m5={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},l5={high:3,normal:2,low:1};class g${constructor($){this.middlewareStack=n0(),this.config=$}send($,J,Q){const W=typeof J!=="function"?J:void 0,X=typeof J==="function"?J:Q,Z=$.resolveMiddleware(this.middlewareStack,this.config,W);if(X)Z($).then((K)=>X(null,K.output),(K)=>X(K)).catch(()=>{});else return Z($).then((K)=>K.output)}destroy(){if(this.config.requestHandler.destroy)this.config.requestHandler.destroy()}}var z0={},P0=new Array(64);for(let $=0,J="A".charCodeAt(0),Q="Z".charCodeAt(0);$+J<=Q;$++){const W=String.fromCharCode($+J);z0[W]=$,P0[$]=W}for(let $=0,J="a".charCodeAt(0),Q="z".charCodeAt(0);$+J<=Q;$++){const W=String.fromCharCode($+J),X=$+26;z0[W]=X,P0[X]=W}for(let $=0;$<10;$++){z0[$.toString(10)]=$+52;const J=$.toString(10),Q=$+52;z0[J]=Q,P0[Q]=J}z0["+"]=62;P0[62]="+";z0["/"]=63;P0[63]="/";var T0=6,h0=8,c5=63;var u0=($)=>{let J=$.length/4*3;if($.slice(-2)==="==")J-=2;else if($.slice(-1)==="=")J--;const Q=new ArrayBuffer(J),W=new DataView(Q);for(let X=0;X<$.length;X+=4){let Z=0,K=0;for(let Y=X,U=X+3;Y<=U;Y++)if($[Y]!=="="){if(!($[Y]in z0))throw new TypeError(`Invalid character ${$[Y]} in base64 string.`);Z|=z0[$[Y]]<<(U-Y)*T0,K+=T0}else Z>>=T0;const G=X/4*3;Z>>=K%h0;const F=Math.floor(K/h0);for(let Y=0;Y<F;Y++){const U=(F-Y-1)*h0;W.setUint8(G+Y,(Z&255<<U)>>U)}}return new Uint8Array(Q)};function o0($){let J="";for(let Q=0;Q<$.length;Q+=3){let W=0,X=0;for(let K=Q,G=Math.min(Q+3,$.length);K<G;K++)W|=$[K]<<(G-K-1)*h0,X+=h0;const Z=Math.ceil(X/T0);W<<=Z*T0-X;for(let K=1;K<=Z;K++){const G=(Z-K)*T0;J+=P0[(W&c5<<G)>>G]}J+="==".slice(0,4-Z)}return J}function d5($,J="utf-8"){if(J==="base64")return o0($);return q0($)}function s5($,J){if(J==="base64")return U0.mutate(u0($));return U0.mutate(M0($))}class U0 extends Uint8Array{static fromString($,J="utf-8"){switch(typeof $){case"string":return s5($,J);default:throw new Error(`Unsupported conversion from ${typeof $} to Uint8ArrayBlobAdapter.`)}}static mutate($){return Object.setPrototypeOf($,U0.prototype),$}transformToString($="utf-8"){return d5(this,$)}}var r5=($,J)=>{const{base64Encoder:Q,bodyLengthChecker:W,checksumAlgorithmFn:X,checksumLocationName:Z,streamHasher:K}=J,G=Q!==void 0&&W!==void 0&&X!==void 0&&Z!==void 0&&K!==void 0,F=G?K(X,$):void 0,Y=$.getReader();return new ReadableStream({async pull(U){const{value:V,done:z}=await Y.read();if(z){if(U.enqueue("0\r\n"),G){const I=Q(await F);U.enqueue(`${Z}:${I}\r\n`),U.enqueue("\r\n")}U.close()}else U.enqueue(`${(W(V)||0).toString(16)}\r\n${V}\r\n`)}})};function i5($){const J=[];for(let Q of Object.keys($).sort()){const W=$[Q];if(Q=Q0(Q),Array.isArray(W))for(let X=0,Z=W.length;X<Z;X++)J.push(`${Q}=${Q0(W[X])}`);else{let X=Q;if(W||typeof W==="string")X+=`=${Q0(W)}`;J.push(X)}}return J.join("&")}function p5($=0){return new Promise((J,Q)=>{if($)setTimeout(()=>{const W=new Error(`Request did not complete within ${$} ms`);W.name="TimeoutError",Q(W)},$)})}class v${constructor($){if(typeof $==="function")this.configProvider=$().then((J)=>J||{});else this.config=$??{},this.configProvider=Promise.resolve(this.config)}destroy(){}async handle($,{abortSignal:J}={}){if(!this.config)this.config=await this.configProvider;const Q=this.config.requestTimeout;if(J?.aborted){const I=new Error("Request aborted");return I.name="AbortError",Promise.reject(I)}let W=$.path;const X=i5($.query||{});if(X)W+=`?${X}`;if($.fragment)W+=`#${$.fragment}`;let Z="";if($.username!=null||$.password!=null){const I=$.username??"",B=$.password??"";Z=`${I}:${B}@`}const{port:K,method:G}=$,F=`${$.protocol}//${Z}${$.hostname}${K?`:${K}`:""}${W}`,U={body:G==="GET"||G==="HEAD"?void 0:$.body,headers:new Headers($.headers),method:G};if(typeof AbortController!=="undefined")U.signal=J;const V=new Request(F,U),z=[fetch(V).then((I)=>{const B=I.headers,L={};for(let E of B.entries())L[E[0]]=E[1];if(I.body==null)return I.blob().then((E)=>({response:new $0({headers:L,reason:I.statusText,statusCode:I.status,body:E})}));return{response:new $0({headers:L,reason:I.statusText,statusCode:I.status,body:I.body})}}),p5(Q)];if(J)z.push(new Promise((I,B)=>{J.onabort=()=>{const L=new Error("Request aborted");L.name="AbortError",B(L)}}));return Promise.race(z)}}async function m7($){const J=await c7($),Q=u0(J);return new Uint8Array(Q)}async function l7($){let J=new Uint8Array(0);const Q=$.getReader();let W=!1;while(!W){const{done:X,value:Z}=await Q.read();if(Z){const K=J;J=new Uint8Array(K.length+Z.length),J.set(K),J.set(Z,K.length)}W=X}return J}var c7=function($){return new Promise((J,Q)=>{const W=new FileReader;W.onloadend=()=>{if(W.readyState!==2)return Q(new Error("Reader aborted too early"));const X=W.result??"",Z=X.indexOf(","),K=Z>-1?Z+1:X.length;J(X.substring(K))},W.onabort=()=>Q(new Error("Read aborted")),W.onerror=()=>Q(W.error),W.readAsDataURL($)})},z1=($)=>{if(typeof Blob==="function"&&$ instanceof Blob)return m7($);return l7($)};var a5="The stream has already been transformed.",o5=($)=>{if(!n5($)&&!u5($)){const X=$?.__proto__?.constructor?.name||$;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${X}`)}let J=!1;const Q=async()=>{if(J)throw new Error(a5);return J=!0,await z1($)},W=(X)=>{if(typeof X.stream!=="function")throw new Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return X.stream()};return Object.assign($,{transformToByteArray:Q,transformToString:async(X)=>{const Z=await Q();if(X==="base64")return o0(Z);else if(X==="hex")return P(Z);else if(X===void 0||X==="utf8"||X==="utf-8")return q0(Z);else if(typeof TextDecoder==="function")return new TextDecoder(X).decode(Z);else throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(J)throw new Error(a5);if(J=!0,n5($))return W($);else if(u5($))return $;else throw new Error(`Cannot transform payload to web stream, got ${$}`)}})},n5=($)=>typeof Blob==="function"&&$ instanceof Blob,u5=($)=>typeof ReadableStream==="function"&&$ instanceof ReadableStream;var U1=async($=new Uint8Array,J)=>{if($ instanceof Uint8Array)return U0.mutate($);if(!$)return U0.mutate(new Uint8Array);const Q=J.streamCollector($);return U0.mutate(await Q)};class V0{constructor(){this.middlewareStack=n0()}}var A0="***SensitiveInformation***";var I0=($)=>{switch($){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${$}"`)}};var d7=($)=>{if($===null||$===void 0)return;if(typeof $==="string"){const J=parseFloat($);if(!Number.isNaN(J)){if(String(J)!==String($))G6.warn(Z6(`Expected number but observed string: ${$}`));return J}}if(typeof $==="number")return $;throw new TypeError(`Expected number, got ${typeof $}: ${$}`)},s7=Math.ceil(340282346638528860000000000000000000000),e5=($)=>{const J=d7($);if(J!==void 0&&!Number.isNaN(J)&&J!==Infinity&&J!==(-Infinity)){if(Math.abs(J)>s7)throw new TypeError(`Expected 32-bit float, got ${$}`)}return J},y$=($)=>{if($===null||$===void 0)return;if(Number.isInteger($)&&!Number.isNaN($))return $;throw new TypeError(`Expected integer, got ${typeof $}: ${$}`)};var t5=($)=>b$($,32),$6=($)=>b$($,16),J6=($)=>b$($,8),b$=($,J)=>{const Q=y$($);if(Q!==void 0&&r7(Q,J)!==Q)throw new TypeError(`Expected ${J}-bit integer, got ${$}`);return Q},r7=($,J)=>{switch(J){case 32:return Int32Array.of($)[0];case 16:return Int16Array.of($)[0];case 8:return Int8Array.of($)[0]}},O0=($,J)=>{if($===null||$===void 0){if(J)throw new TypeError(`Expected a non-null value for ${J}`);throw new TypeError("Expected a non-null value")}return $},Q6=($)=>{if($===null||$===void 0)return;if(typeof $==="object"&&!Array.isArray($))return $;const J=Array.isArray($)?"array":typeof $;throw new TypeError(`Expected object, got ${J}: ${$}`)},N=($)=>{if($===null||$===void 0)return;if(typeof $==="string")return $;if(["boolean","number","bigint"].includes(typeof $))return G6.warn(Z6(`Expected string, got ${typeof $}: ${$}`)),String($);throw new TypeError(`Expected string, got ${typeof $}: ${$}`)};var W6=($)=>{if(typeof $=="string")return e5(Y8($));return e5($)},i7=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Y8=($)=>{const J=$.match(i7);if(J===null||J[0].length!==$.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat($)};var x$=($)=>{if(typeof $==="string")return y$(Y8($));return y$($)};var F8=($)=>{if(typeof $==="string")return t5(Y8($));return t5($)},z8=($)=>{if(typeof $==="string")return $6(Y8($));return $6($)},X6=($)=>{if(typeof $==="string")return J6(Y8($));return J6($)},Z6=($)=>{return String(new TypeError($).stack||$).split("\n").slice(0,5).filter((J)=>!J.includes("stackTraceWarning")).join("\n")},G6={warn:console.warn};function V8($){const J=$.getUTCFullYear(),Q=$.getUTCMonth(),W=$.getUTCDay(),X=$.getUTCDate(),Z=$.getUTCHours(),K=$.getUTCMinutes(),G=$.getUTCSeconds(),F=X<10?`0${X}`:`${X}`,Y=Z<10?`0${Z}`:`${Z}`,U=K<10?`0${K}`:`${K}`,V=G<10?`0${G}`:`${G}`;return`${p7[W]}, ${F} ${l$[Q]} ${J} ${Y}:${U}:${V} GMT`}var p7=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l$=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],nR=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var a7=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),I8=($)=>{if($===null||$===void 0)return;if(typeof $!=="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const J=a7.exec($);if(!J)throw new TypeError("Invalid RFC-3339 date-time value");const[Q,W,X,Z,K,G,F,Y,U]=J,V=z8(U8(W)),z=j0(X,"month",1,12),I=j0(Z,"day",1,31),B=V1(V,z,I,{hours:K,minutes:G,seconds:F,fractionalMilliseconds:Y});if(U.toUpperCase()!="Z")B.setTime(B.getTime()-ZK(U));return B},n7=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),u7=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),o7=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),c$=($)=>{if($===null||$===void 0)return;if(typeof $!=="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let J=n7.exec($);if(J){const[Q,W,X,Z,K,G,F,Y]=J;return V1(z8(U8(Z)),m$(X),j0(W,"day",1,31),{hours:K,minutes:G,seconds:F,fractionalMilliseconds:Y})}if(J=u7.exec($),J){const[Q,W,X,Z,K,G,F,Y]=J;return $K(V1(e7(Z),m$(X),j0(W,"day",1,31),{hours:K,minutes:G,seconds:F,fractionalMilliseconds:Y}))}if(J=o7.exec($),J){const[Q,W,X,Z,K,G,F,Y]=J;return V1(z8(U8(Y)),m$(W),j0(X.trimLeft(),"day",1,31),{hours:Z,minutes:K,seconds:G,fractionalMilliseconds:F})}throw new TypeError("Invalid RFC-7231 date-time value")};var V1=($,J,Q,W)=>{const X=J-1;return QK($,X,Q),new Date(Date.UTC($,X,Q,j0(W.hours,"hour",0,23),j0(W.minutes,"minute",0,59),j0(W.seconds,"seconds",0,60),XK(W.fractionalMilliseconds)))},e7=($)=>{const J=(new Date()).getUTCFullYear(),Q=Math.floor(J/100)*100+z8(U8($));if(Q<J)return Q+100;return Q},t7=1576800000000,$K=($)=>{if($.getTime()-(new Date()).getTime()>t7)return new Date(Date.UTC($.getUTCFullYear()-100,$.getUTCMonth(),$.getUTCDate(),$.getUTCHours(),$.getUTCMinutes(),$.getUTCSeconds(),$.getUTCMilliseconds()));return $},m$=($)=>{const J=l$.indexOf($);if(J<0)throw new TypeError(`Invalid month: ${$}`);return J+1},JK=[31,28,31,30,31,30,31,31,30,31,30,31],QK=($,J,Q)=>{let W=JK[J];if(J===1&&WK($))W=29;if(Q>W)throw new TypeError(`Invalid day for ${l$[J]} in ${$}: ${Q}`)},WK=($)=>{return $%4===0&&($%100!==0||$%400===0)},j0=($,J,Q,W)=>{const X=X6(U8($));if(X<Q||X>W)throw new TypeError(`${J} must be between ${Q} and ${W}, inclusive`);return X},XK=($)=>{if($===null||$===void 0)return 0;return W6("0."+$)*1000},ZK=($)=>{const J=$[0];let Q=1;if(J=="+")Q=1;else if(J=="-")Q=-1;else throw new TypeError(`Offset direction, ${J}, must be "+" or "-"`);const W=Number($.substring(1,3)),X=Number($.substring(4,6));return Q*(W*60+X)*60*1000},U8=($)=>{let J=0;while(J<$.length-1&&$.charAt(J)==="0")J++;if(J===0)return $;return $.slice(J)};class I1 extends Error{constructor($){super($.message);Object.setPrototypeOf(this,I1.prototype),this.name=$.name,this.$fault=$.$fault,this.$metadata=$.$metadata}}var B8=($,J={})=>{Object.entries(J).filter(([,W])=>W!==void 0).forEach(([W,X])=>{if($[W]==void 0||$[W]==="")$[W]=X});const Q=$.message||$.Message||"UnknownError";return $.message=Q,delete $.Message,$};var GK=({output:$,parsedBody:J,exceptionCtor:Q,errorCode:W})=>{const X=KK($),Z=X.httpStatusCode?X.httpStatusCode+"":void 0,K=new Q({name:J?.code||J?.Code||W||Z||"UnknownError",$fault:"client",$metadata:X});throw B8(K,J)},K6=($)=>{return({output:J,parsedBody:Q,errorCode:W})=>{GK({output:J,parsedBody:Q,exceptionCtor:$,errorCode:W})}},KK=($)=>({httpStatusCode:$.statusCode,requestId:$.headers["x-amzn-requestid"]??$.headers["x-amzn-request-id"]??$.headers["x-amz-request-id"],extendedRequestId:$.headers["x-amz-id-2"],cfId:$.headers["x-amz-cf-id"]});var Y6=($)=>{switch($){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:30000};default:return{}}};function d$($){return encodeURIComponent($).replace(/[!'()*]/g,function(J){return"%"+J.charCodeAt(0).toString(16).toUpperCase()})}var L8=($)=>Array.isArray($)?$:[$];var s$=($)=>{for(let Q in $)if($.hasOwnProperty(Q)&&$[Q]["#text"]!==void 0)$[Q]=$[Q]["#text"];else if(typeof $[Q]==="object"&&$[Q]!==null)$[Q]=s$($[Q]);return $};var r$=function(){const $=Object.getPrototypeOf(this).constructor,Q=new(Function.bind.apply(String,[null,...arguments]));return Object.setPrototypeOf(Q,$.prototype),Q};r$.prototype=Object.create(String.prototype,{constructor:{value:r$,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(r$,String);function y($,J,Q){let W,X,Z;if(typeof J==="undefined"&&typeof Q==="undefined")W={},Z=$;else if(W=$,typeof J==="function")return X=J,Z=Q,YK(W,X,Z);else Z=J;for(let K of Object.keys(Z)){if(!Array.isArray(Z[K])){W[K]=Z[K];continue}FK(W,null,Z,K)}return W}var YK=($,J,Q)=>{return y($,Object.entries(Q).reduce((W,[X,Z])=>{if(Array.isArray(Z))W[X]=Z;else if(typeof Z==="function")W[X]=[J,Z()];else W[X]=[J,Z];return W},{}))},FK=($,J,Q,W)=>{if(J!==null){let K=Q[W];if(typeof K==="function")K=[,K];const[G=zK,F=UK,Y=W]=K;if(typeof G==="function"&&G(J[Y])||typeof G!=="function"&&!!G)$[W]=F(J[Y]);return}let[X,Z]=Q[W];if(typeof Z==="function"){let K;const G=X===void 0&&(K=Z())!=null,F=typeof X==="function"&&!!X(void 0)||typeof X!=="function"&&!!X;if(G)$[W]=K;else if(F)$[W]=Z()}else{const K=X===void 0&&Z!=null,G=typeof X==="function"&&!!X(Z)||typeof X!=="function"&&!!X;if(K||G)$[W]=Z}},zK=($)=>$!=null,UK=($)=>$;var D0=($,J,Q,W,X,Z)=>{if(J!=null&&J[Q]!==void 0){const K=W();if(K.length<=0)throw new Error("Empty value provided for input HTTP label: "+Q+".");$=$.replace(X,Z?K.split("/").map((G)=>d$(G)).join("/"):d$(K))}else throw new Error("No value provided for input HTTP label: "+Q+".");return $};var F6=($)=>{return{...$,useFipsEndpoint:$.useFipsEndpoint??!1,useDualstackEndpoint:$.useDualstackEndpoint??!1,useAccelerateEndpoint:$.useAccelerateEndpoint??!1,useGlobalEndpoint:$.useGlobalEndpoint??!1,disableMultiregionAccessPoints:$.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}};var z6={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.370.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js","test:unit":"ts-mocha test/**/*.spec.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.370.0","@aws-sdk/credential-provider-node":"3.370.0","@aws-sdk/hash-blob-browser":"3.370.0","@aws-sdk/hash-stream-node":"3.370.0","@aws-sdk/md5-js":"3.370.0","@aws-sdk/middleware-bucket-endpoint":"3.370.0","@aws-sdk/middleware-expect-continue":"3.370.0","@aws-sdk/middleware-flexible-checksums":"3.370.0","@aws-sdk/middleware-host-header":"3.370.0","@aws-sdk/middleware-location-constraint":"3.370.0","@aws-sdk/middleware-logger":"3.370.0","@aws-sdk/middleware-recursion-detection":"3.370.0","@aws-sdk/middleware-sdk-s3":"3.370.0","@aws-sdk/middleware-signing":"3.370.0","@aws-sdk/middleware-ssec":"3.370.0","@aws-sdk/middleware-user-agent":"3.370.0","@aws-sdk/signature-v4-multi-region":"3.370.0","@aws-sdk/types":"3.370.0","@aws-sdk/util-endpoints":"3.370.0","@aws-sdk/util-user-agent-browser":"3.370.0","@aws-sdk/util-user-agent-node":"3.370.0","@aws-sdk/xml-builder":"3.310.0","@smithy/config-resolver":"^1.0.1","@smithy/eventstream-serde-browser":"^1.0.1","@smithy/eventstream-serde-config-resolver":"^1.0.1","@smithy/eventstream-serde-node":"^1.0.1","@smithy/fetch-http-handler":"^1.0.1","@smithy/hash-node":"^1.0.1","@smithy/invalid-dependency":"^1.0.1","@smithy/middleware-content-length":"^1.0.1","@smithy/middleware-endpoint":"^1.0.2","@smithy/middleware-retry":"^1.0.3","@smithy/middleware-serde":"^1.0.1","@smithy/middleware-stack":"^1.0.1","@smithy/node-config-provider":"^1.0.1","@smithy/node-http-handler":"^1.0.2","@smithy/protocol-http":"^1.1.0","@smithy/smithy-client":"^1.0.3","@smithy/types":"^1.1.0","@smithy/url-parser":"^1.0.1","@smithy/util-base64":"^1.0.1","@smithy/util-body-length-browser":"^1.0.1","@smithy/util-body-length-node":"^1.0.1","@smithy/util-defaults-mode-browser":"^1.0.1","@smithy/util-defaults-mode-node":"^1.0.1","@smithy/util-retry":"^1.0.3","@smithy/util-stream":"^1.0.1","@smithy/util-utf8":"^1.0.1","@smithy/util-waiter":"^1.0.1","fast-xml-parser":"4.2.5",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^1.0.1","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var $Z=G0(t6(),1),JZ=G0(k4(),1);function _4($,J,Q=1048576){return new Promise((W,X)=>{const Z=new FileReader;Z.addEventListener("error",X),Z.addEventListener("abort",X);const K=$.size;let G=0;function F(){if(G>=K){W();return}Z.readAsArrayBuffer($.slice(G,Math.min(K,G+Q)))}Z.addEventListener("load",(Y)=>{const U=Y.target.result;J(new Uint8Array(U)),G+=U.byteLength,F()}),F()})}var f4=async function $(J,Q){const W=new J;return await _4(Q,(X)=>{W.update(X)}),W.digest()};var NJ=($)=>(new TextEncoder()).encode($);var B0=64,P4=16,h4=[1732584193,4023233417,2562383102,271733878];var H1=function($,J,Q,W,X,Z){return J=(J+$&4294967295)+(W+Z&4294967295)&4294967295,(J<<X|J>>>32-X)+Q&4294967295},b=function($,J,Q,W,X,Z,K){return H1(J&Q|~J&W,$,J,X,Z,K)},x=function($,J,Q,W,X,Z,K){return H1(J&W|Q&~W,$,J,X,Z,K)},m=function($,J,Q,W,X,Z,K){return H1(J^Q^W,$,J,X,Z,K)},l=function($,J,Q,W,X,Z,K){return H1(Q^(J|~W),$,J,X,Z,K)},Qz=function($){if(typeof $==="string")return $.length===0;return $.byteLength===0},Wz=function($){if(typeof $==="string")return NJ($);if(ArrayBuffer.isView($))return new Uint8Array($.buffer,$.byteOffset,$.byteLength/Uint8Array.BYTES_PER_ELEMENT);return new Uint8Array($)};class kJ{constructor(){this.reset()}update($){if(Qz($))return;else if(this.finished)throw new Error("Attempted to update an already finished hash.");const J=Wz($);let Q=0,{byteLength:W}=J;this.bytesHashed+=W;while(W>0)if(this.buffer.setUint8(this.bufferLength++,J[Q++]),W--,this.bufferLength===B0)this.hashBuffer(),this.bufferLength=0}async digest(){if(!this.finished){const{buffer:J,bufferLength:Q,bytesHashed:W}=this,X=W*8;if(J.setUint8(this.bufferLength++,128),Q%B0>=B0-8){for(let Z=this.bufferLength;Z<B0;Z++)J.setUint8(Z,0);this.hashBuffer(),this.bufferLength=0}for(let Z=this.bufferLength;Z<B0-8;Z++)J.setUint8(Z,0);J.setUint32(B0-8,X>>>0,!0),J.setUint32(B0-4,Math.floor(X/4294967296),!0),this.hashBuffer(),this.finished=!0}const $=new DataView(new ArrayBuffer(P4));for(let J=0;J<4;J++)$.setUint32(J*4,this.state[J],!0);return new Uint8Array($.buffer,$.byteOffset,$.byteLength)}hashBuffer(){const{buffer:$,state:J}=this;let Q=J[0],W=J[1],X=J[2],Z=J[3];Q=b(Q,W,X,Z,$.getUint32(0,!0),7,3614090360),Z=b(Z,Q,W,X,$.getUint32(4,!0),12,3905402710),X=b(X,Z,Q,W,$.getUint32(8,!0),17,606105819),W=b(W,X,Z,Q,$.getUint32(12,!0),22,3250441966),Q=b(Q,W,X,Z,$.getUint32(16,!0),7,4118548399),Z=b(Z,Q,W,X,$.getUint32(20,!0),12,1200080426),X=b(X,Z,Q,W,$.getUint32(24,!0),17,2821735955),W=b(W,X,Z,Q,$.getUint32(28,!0),22,4249261313),Q=b(Q,W,X,Z,$.getUint32(32,!0),7,1770035416),Z=b(Z,Q,W,X,$.getUint32(36,!0),12,2336552879),X=b(X,Z,Q,W,$.getUint32(40,!0),17,4294925233),W=b(W,X,Z,Q,$.getUint32(44,!0),22,2304563134),Q=b(Q,W,X,Z,$.getUint32(48,!0),7,1804603682),Z=b(Z,Q,W,X,$.getUint32(52,!0),12,4254626195),X=b(X,Z,Q,W,$.getUint32(56,!0),17,2792965006),W=b(W,X,Z,Q,$.getUint32(60,!0),22,1236535329),Q=x(Q,W,X,Z,$.getUint32(4,!0),5,4129170786),Z=x(Z,Q,W,X,$.getUint32(24,!0),9,3225465664),X=x(X,Z,Q,W,$.getUint32(44,!0),14,643717713),W=x(W,X,Z,Q,$.getUint32(0,!0),20,3921069994),Q=x(Q,W,X,Z,$.getUint32(20,!0),5,3593408605),Z=x(Z,Q,W,X,$.getUint32(40,!0),9,38016083),X=x(X,Z,Q,W,$.getUint32(60,!0),14,3634488961),W=x(W,X,Z,Q,$.getUint32(16,!0),20,3889429448),Q=x(Q,W,X,Z,$.getUint32(36,!0),5,568446438),Z=x(Z,Q,W,X,$.getUint32(56,!0),9,3275163606),X=x(X,Z,Q,W,$.getUint32(12,!0),14,4107603335),W=x(W,X,Z,Q,$.getUint32(32,!0),20,1163531501),Q=x(Q,W,X,Z,$.getUint32(52,!0),5,2850285829),Z=x(Z,Q,W,X,$.getUint32(8,!0),9,4243563512),X=x(X,Z,Q,W,$.getUint32(28,!0),14,1735328473),W=x(W,X,Z,Q,$.getUint32(48,!0),20,2368359562),Q=m(Q,W,X,Z,$.getUint32(20,!0),4,4294588738),Z=m(Z,Q,W,X,$.getUint32(32,!0),11,2272392833),X=m(X,Z,Q,W,$.getUint32(44,!0),16,1839030562),W=m(W,X,Z,Q,$.getUint32(56,!0),23,4259657740),Q=m(Q,W,X,Z,$.getUint32(4,!0),4,2763975236),Z=m(Z,Q,W,X,$.getUint32(16,!0),11,1272893353),X=m(X,Z,Q,W,$.getUint32(28,!0),16,4139469664),W=m(W,X,Z,Q,$.getUint32(40,!0),23,3200236656),Q=m(Q,W,X,Z,$.getUint32(52,!0),4,681279174),Z=m(Z,Q,W,X,$.getUint32(0,!0),11,3936430074),X=m(X,Z,Q,W,$.getUint32(12,!0),16,3572445317),W=m(W,X,Z,Q,$.getUint32(24,!0),23,76029189),Q=m(Q,W,X,Z,$.getUint32(36,!0),4,3654602809),Z=m(Z,Q,W,X,$.getUint32(48,!0),11,3873151461),X=m(X,Z,Q,W,$.getUint32(60,!0),16,530742520),W=m(W,X,Z,Q,$.getUint32(8,!0),23,3299628645),Q=l(Q,W,X,Z,$.getUint32(0,!0),6,4096336452),Z=l(Z,Q,W,X,$.getUint32(28,!0),10,1126891415),X=l(X,Z,Q,W,$.getUint32(56,!0),15,2878612391),W=l(W,X,Z,Q,$.getUint32(20,!0),21,4237533241),Q=l(Q,W,X,Z,$.getUint32(48,!0),6,1700485571),Z=l(Z,Q,W,X,$.getUint32(12,!0),10,2399980690),X=l(X,Z,Q,W,$.getUint32(40,!0),15,4293915773),W=l(W,X,Z,Q,$.getUint32(4,!0),21,2240044497),Q=l(Q,W,X,Z,$.getUint32(32,!0),6,1873313359),Z=l(Z,Q,W,X,$.getUint32(60,!0),10,4264355552),X=l(X,Z,Q,W,$.getUint32(24,!0),15,2734768916),W=l(W,X,Z,Q,$.getUint32(52,!0),21,1309151649),Q=l(Q,W,X,Z,$.getUint32(16,!0),6,4149444226),Z=l(Z,Q,W,X,$.getUint32(44,!0),10,3174756917),X=l(X,Z,Q,W,$.getUint32(8,!0),15,718787259),W=l(W,X,Z,Q,$.getUint32(36,!0),21,3951481745),J[0]=Q+J[0]&4294967295,J[1]=W+J[1]&4294967295,J[2]=X+J[2]&4294967295,J[3]=Z+J[3]&4294967295}reset(){this.state=Uint32Array.from(h4),this.buffer=new DataView(new ArrayBuffer(B0)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}var g4=G0(fJ(),1),v4=({serviceId:$,clientVersion:J})=>async()=>{const Q=typeof window!=="undefined"&&window?.navigator?.userAgent?g4.default.parse(window.navigator.userAgent):void 0,W=[["aws-sdk-js",J],["ua","2.0"],[`os/${Q?.os?.name||"other"}`,Q?.os?.version],["lang/js"],["md/browser",`${Q?.browser?.name??"unknown"}_${Q?.browser?.version??"unknown"}`]];if($)W.push([`api/${$}`,J]);return W};function y4($){let J=0,Q=0,W=null,X=null;const Z=(G)=>{if(typeof G!=="number")throw new Error("Attempted to allocate an event message where size was not a number: "+G);J=G,Q=4,W=new Uint8Array(G),new DataView(W.buffer).setUint32(0,G,!1)},K=async function*(){const G=$[Symbol.asyncIterator]();while(!0){const{value:F,done:Y}=await G.next();if(Y){if(!J)return;else if(J===Q)yield W;else throw new Error("Truncated event message received.");return}const U=F.length;let V=0;while(V<U){if(!W){const I=U-V;if(!X)X=new Uint8Array(4);const B=Math.min(4-Q,I);if(X.set(F.slice(V,V+B),Q),Q+=B,V+=B,Q<4)break;Z(new DataView(X.buffer).getUint32(0,!1)),X=null}const z=Math.min(J-Q,U-V);if(W.set(F.slice(V,V+z),Q),Q+=z,V+=z,J&&J===Q)yield W,W=null,J=0,Q=0}}};return{[Symbol.asyncIterator]:K}}function b4($,J){return async function(Q){const{value:W}=Q.headers[":message-type"];if(W==="error"){const X=new Error(Q.headers[":error-message"].value||"UnknownError");throw X.name=Q.headers[":error-code"].value,X}else if(W==="exception"){const X=Q.headers[":exception-type"].value,Z={[X]:Q},K=await $(Z);if(K.$unknown){const G=new Error(J(Q.body));throw G.name=X,G}throw K[X]}else if(W==="event"){const X={[Q.headers[":event-type"].value]:Q},Z=await $(X);if(Z.$unknown)return;return Z}else throw Error(`Unrecognizable event type: ${Q.headers[":event-type"].value}`)}}class C1{constructor({utf8Encoder:$,utf8Decoder:J}){this.eventStreamCodec=new $$($,J),this.utfEncoder=$}deserialize($,J){const Q=y4($);return new W$({messageStream:new J$({inputStream:Q,decoder:this.eventStreamCodec}),deserializer:b4(J,this.utfEncoder)})}serialize($,J){return new Q$({messageStream:new X$({inputStream:$,serializer:J}),encoder:this.eventStreamCodec,includeEndFrame:!0})}}var x4=($)=>({[Symbol.asyncIterator]:async function*(){const J=$.getReader();try{while(!0){const{done:Q,value:W}=await J.read();if(Q)return;yield W}}finally{J.releaseLock()}}}),m4=($)=>{const J=$[Symbol.asyncIterator]();return new ReadableStream({async pull(Q){const{done:W,value:X}=await J.next();if(W)return Q.close();Q.enqueue(X)}})};class PJ{constructor({utf8Encoder:$,utf8Decoder:J}){this.universalMarshaller=new C1({utf8Decoder:J,utf8Encoder:$})}deserialize($,J){const Q=Xz($)?x4($):$;return this.universalMarshaller.deserialize(Q,J)}serialize($,J){const Q=this.universalMarshaller.serialize($,J);return typeof ReadableStream==="function"?m4(Q):Q}}var Xz=($)=>typeof ReadableStream==="function"&&$ instanceof ReadableStream;var l4=($)=>new PJ($);var c4=($)=>()=>Promise.reject($);var d4=($)=>{if(typeof $==="string"){let J=$.length;for(let Q=J-1;Q>=0;Q--){const W=$.charCodeAt(Q);if(W>127&&W<=2047)J++;else if(W>2047&&W<=65535)J+=2;if(W>=56320&&W<=57343)Q--}return J}else if(typeof $.byteLength==="number")return $.byteLength;else if(typeof $.size==="number")return $.size;throw new Error(`Body Length computation failed for ${$}`)};class hJ{constructor($){this.sigv4Signer=new s0($),this.signerOptions=$}async sign($,J={}){if(J.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign($,J)}return this.sigv4Signer.sign($,J)}async presign($,J={}){if(J.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign($,J)}return this.sigv4Signer.presign($,J)}getSigv4aSigner(){if(!this.sigv4aSigner){let $;try{if($=typeof require==="function"&&(() => { throw (new Error(`Cannot require module "@aws-sdk/signature-v4-crt"`)); } )().CrtSignerV4,typeof $!=="function")throw new Error}catch(J){throw J.message=`${J.message}\nPlease check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. \n`+"For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt",J}this.sigv4aSigner=new $({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}}var gJ={["required"]:!1,["type"]:"String"},j8={["required"]:!0,default:!1,["type"]:"Boolean"},R1={["required"]:!1,["type"]:"Boolean"},sX={["fn"]:"isSet",["argv"]:[{["ref"]:"Bucket"}]},W0={["ref"]:"Bucket"},s4={["ref"]:"hardwareType"},r4={["conditions"]:[{["fn"]:"not",["argv"]:[{["fn"]:"isSet",["argv"]:[{["ref"]:"Endpoint"}]}]}],["error"]:"Expected a endpoint to be specified but no endpoint was found",["type"]:"error"},w={["fn"]:"not",["argv"]:[{["fn"]:"isSet",["argv"]:[{["ref"]:"Endpoint"}]}]},H={["fn"]:"isSet",["argv"]:[{["ref"]:"Endpoint"}]},A={["fn"]:"parseURL",["argv"]:[{["ref"]:"Endpoint"}],["assign"]:"url"},T1={["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3-outposts",["signingRegion"]:"{Region}"}]},_={},i4={["ref"]:"ForcePathStyle"},p4={["conditions"]:[{["fn"]:"uriEncode",["argv"]:[W0],["assign"]:"uri_encoded_bucket"}],["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},H],["error"]:"Cannot set dual-stack in combination with a custom endpoint.",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"aws.partition",["argv"]:[{["ref"]:"Region"}],["assign"]:"partitionResult"}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"Accelerate"},!1]}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!0]}],["type"]:"tree",["rules"]:[{["endpoint"]:{["url"]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"}]},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!1]}],["endpoint"]:{["url"]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},H,A,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},H,A,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},H,A,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!0]}],["type"]:"tree",["rules"]:[{["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"}]},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},H,A,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!1]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!0]}],["type"]:"tree",["rules"]:[{["endpoint"]:{["url"]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"}]},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!1]}],["endpoint"]:{["url"]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!0]}],["type"]:"tree",["rules"]:[{["endpoint"]:{["url"]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"}]},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!1]}],["endpoint"]:{["url"]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},H,A,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},H,A,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},H,A,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!0]}],["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"us-east-1"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"},{["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"}]},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},H,A,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!1]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!0]}],["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"us-east-1"]}],["endpoint"]:{["url"]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"},{["endpoint"]:{["url"]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"}]},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!1]}],["endpoint"]:{["url"]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"}]}]},{["error"]:"Path-style addressing cannot be used with S3 Accelerate",["type"]:"error"}]}]},{["error"]:"A valid partition could not be determined",["type"]:"error"}]}]},j={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},h={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"Accelerate"},!1]},D={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},R={["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},c={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!0]},s={["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},d={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!1]},T={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},C={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},y0={["error"]:"A valid partition could not be determined",["type"]:"error"},vJ={["conditions"]:[D,{["fn"]:"stringEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[{["ref"]:"partitionResult"},"name"]},"aws-cn"]}],["error"]:"Partition does not support FIPS",["type"]:"error"},Zz={["fn"]:"stringEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[{["ref"]:"partitionResult"},"name"]},"aws-cn"]},t={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"Accelerate"},!0]},a4={["conditions"]:[j,D,h,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},n4={["url"]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},u4={["conditions"]:[T,D,h,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},o4={["url"]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},e4={["conditions"]:[j,C,t,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},t4={["url"]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},$X={["conditions"]:[j,C,h,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},JX={["url"]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},QX={["conditions"]:[T,C,h,H,A,{["fn"]:"booleanEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[{["ref"]:"url"},"isIp"]},!0]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},WX={["fn"]:"booleanEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[{["ref"]:"url"},"isIp"]},!0]},$Q={["ref"]:"url"},XX={["conditions"]:[T,C,h,H,A,{["fn"]:"booleanEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[$Q,"isIp"]},!1]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},ZX={["fn"]:"booleanEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[$Q,"isIp"]},!1]},yJ={["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",["properties"]:s,["headers"]:{}},tJ={["url"]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",["properties"]:s,["headers"]:{}},GX={["endpoint"]:tJ,["type"]:"endpoint"},KX={["conditions"]:[T,C,t,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},bJ={["url"]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},YX={["conditions"]:[T,C,h,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://{Bucket}.s3.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},FX={["url"]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},A1={["error"]:"Invalid region: region was not a valid DNS name.",["type"]:"error"},i={["ref"]:"bucketArn"},rX={["ref"]:"arnType"},xJ={["fn"]:"getAttr",["argv"]:[i,"service"]},JQ={["ref"]:"accessPointName"},zX={["conditions"]:[j],["error"]:"S3 Object Lambda does not support Dual-stack",["type"]:"error"},UX={["conditions"]:[t],["error"]:"S3 Object Lambda does not support S3 Accelerate",["type"]:"error"},VX={["conditions"]:[{["fn"]:"isSet",["argv"]:[{["ref"]:"DisableAccessPoints"}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"DisableAccessPoints"},!0]}],["error"]:"Access points are not supported for this operation",["type"]:"error"},mJ={["conditions"]:[{["fn"]:"isSet",["argv"]:[{["ref"]:"UseArnRegion"}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseArnRegion"},!1]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[i,"region"]},"{Region}"]}]}],["error"]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",["type"]:"error"},QQ={["fn"]:"getAttr",["argv"]:[{["ref"]:"bucketPartition"},"name"]},iX={["fn"]:"getAttr",["argv"]:[i,"accountId"]},IX={["conditions"]:[D,{["fn"]:"stringEquals",["argv"]:[QQ,"aws-cn"]}],["error"]:"Partition does not support FIPS",["type"]:"error"},lJ={["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3-object-lambda",["signingRegion"]:"{bucketArn#region}"}]},BX={["error"]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",["type"]:"error"},cJ={["error"]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",["type"]:"error"},dJ={["error"]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",["type"]:"error"},sJ={["error"]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",["type"]:"error"},LX={["error"]:"Could not load partition for ARN region `{bucketArn#region}`",["type"]:"error"},MX={["error"]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",["type"]:"error"},qX={["error"]:"Invalid ARN: bucket ARN is missing a region",["type"]:"error"},wX={["error"]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",["type"]:"error"},D8={["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{bucketArn#region}"}]},HX={["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3-outposts",["signingRegion"]:"{bucketArn#region}"}]},CX={["ref"]:"UseObjectLambdaEndpoint"},rJ={["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3-object-lambda",["signingRegion"]:"{Region}"}]},RX={["conditions"]:[D,j,H,A,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#path}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},pX={["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#path}",["properties"]:s,["headers"]:{}},["type"]:"endpoint"},S8={["url"]:"{url#scheme}://{url#authority}{url#path}",["properties"]:s,["headers"]:{}},TX={["conditions"]:[D,j,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},AX={["url"]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},OX={["conditions"]:[D,T,H,A,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#path}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},jX={["conditions"]:[D,T,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},DX={["url"]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},SX={["conditions"]:[C,j,H,A,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#path}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},EX={["conditions"]:[C,j,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},NX={["url"]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},kX={["conditions"]:[C,T,H,A,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#path}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},_X={["conditions"]:[C,T,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},fX={["url"]:"https://s3.{Region}.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},j1=[{["ref"]:"Region"}],Gz=[W0],PX=[{["fn"]:"isValidHostLabel",["argv"]:[{["ref"]:"outpostId"},!1]}],hX=[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"regionPrefix"},"beta"]}],Kz=[{["ref"]:"Endpoint"}],E8=[H,A],gX=[sX],vX=[{["fn"]:"aws.parseArn",["argv"]:[W0]}],Yz=[j,H],b0=[{["fn"]:"aws.partition",["argv"]:j1,["assign"]:"partitionResult"}],e0=[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"us-east-1"]}],yX=[{["fn"]:"isValidHostLabel",["argv"]:[{["ref"]:"Region"},!1]}],iJ=[{["fn"]:"stringEquals",["argv"]:[rX,"accesspoint"]}],bX=[{["fn"]:"getAttr",["argv"]:[i,"resourceId[1]"],["assign"]:"accessPointName"},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[JQ,""]}]}],Fz=[i,"resourceId[1]"],xX=[j],pJ=[t],aJ=[{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[i,"region"]},""]}]}],mX=[{["fn"]:"not",["argv"]:[{["fn"]:"isSet",["argv"]:[{["fn"]:"getAttr",["argv"]:[i,"resourceId[2]"]}]}]}],zz=[i,"resourceId[2]"],nJ=[{["fn"]:"aws.partition",["argv"]:[{["fn"]:"getAttr",["argv"]:[i,"region"]}],["assign"]:"bucketPartition"}],lX=[{["fn"]:"stringEquals",["argv"]:[QQ,{["fn"]:"getAttr",["argv"]:[{["ref"]:"partitionResult"},"name"]}]}],uJ=[{["fn"]:"isValidHostLabel",["argv"]:[{["fn"]:"getAttr",["argv"]:[i,"region"]},!0]}],oJ=[{["fn"]:"isValidHostLabel",["argv"]:[iX,!1]}],cX=[{["fn"]:"isValidHostLabel",["argv"]:[JQ,!1]}],O1=[D],dX=[{["fn"]:"isValidHostLabel",["argv"]:[{["ref"]:"Region"},!0]}],eJ=[pX],Uz={version:"1.0",parameters:{Bucket:gJ,Region:gJ,UseFIPS:j8,UseDualStack:j8,Endpoint:gJ,ForcePathStyle:R1,Accelerate:j8,UseGlobalEndpoint:j8,UseObjectLambdaEndpoint:R1,DisableAccessPoints:R1,DisableMultiRegionAccessPoints:j8,UseArnRegion:R1},["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"isSet",["argv"]:j1}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[sX,{["fn"]:"substring",["argv"]:[W0,49,50,!0],["assign"]:"hardwareType"},{["fn"]:"substring",["argv"]:[W0,8,12,!0],["assign"]:"regionPrefix"},{["fn"]:"substring",["argv"]:[W0,0,7,!0],["assign"]:"abbaSuffix"},{["fn"]:"substring",["argv"]:[W0,32,49,!0],["assign"]:"outpostId"},{["fn"]:"aws.partition",["argv"]:j1,["assign"]:"regionPartition"},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"abbaSuffix"},"--op-s3"]}],["type"]:"tree",["rules"]:[{["conditions"]:PX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[s4,"e"]}],["type"]:"tree",["rules"]:[{["conditions"]:hX,["type"]:"tree",["rules"]:[r4,{["conditions"]:E8,endpoint:{["url"]:"https://{Bucket}.ec2.{url#authority}",["properties"]:T1,["headers"]:_},["type"]:"endpoint"}]},{endpoint:{["url"]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",["properties"]:T1,["headers"]:_},["type"]:"endpoint"}]},{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[s4,"o"]}],["type"]:"tree",["rules"]:[{["conditions"]:hX,["type"]:"tree",["rules"]:[r4,{["conditions"]:E8,endpoint:{["url"]:"https://{Bucket}.op-{outpostId}.{url#authority}",["properties"]:T1,["headers"]:_},["type"]:"endpoint"}]},{endpoint:{["url"]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",["properties"]:T1,["headers"]:_},["type"]:"endpoint"}]},{error:"Unrecognized hardware type: \"Expected hardware type o or e but got {hardwareType}\"",["type"]:"error"}]}]},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",["type"]:"error"}]},{["conditions"]:gX,["type"]:"tree",["rules"]:[{["conditions"]:[H,{["fn"]:"not",["argv"]:[{["fn"]:"isSet",["argv"]:[{["fn"]:"parseURL",["argv"]:Kz}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"isSet",["argv"]:[i4]},{["fn"]:"booleanEquals",["argv"]:[i4,!0]}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:vX,error:"Path-style addressing cannot be used with ARN buckets",["type"]:"error"},p4]}]},{["conditions"]:[{["fn"]:"aws.isVirtualHostableS3Bucket",["argv"]:[W0,!1]}],["type"]:"tree",["rules"]:[{["conditions"]:b0,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:yX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[vJ,{["type"]:"tree",["rules"]:[{["conditions"]:[t,D],error:"Accelerate cannot be used with FIPS",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[t,Zz],error:"S3 Accelerate cannot be used in this region",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[H,j],error:"Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[H,D],error:"Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[H,t],error:"Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",["type"]:"error"},{["type"]:"tree",["rules"]:[a4,a4,{["conditions"]:[j,D,h,w,R,c],["type"]:"tree",["rules"]:[{endpoint:n4,["type"]:"endpoint"}]},{["conditions"]:[j,D,h,w,R,d],endpoint:n4,["type"]:"endpoint"},u4,u4,{["conditions"]:[T,D,h,w,R,c],["type"]:"tree",["rules"]:[{endpoint:o4,["type"]:"endpoint"}]},{["conditions"]:[T,D,h,w,R,d],endpoint:o4,["type"]:"endpoint"},e4,e4,{["conditions"]:[j,C,t,w,R,c],["type"]:"tree",["rules"]:[{endpoint:t4,["type"]:"endpoint"}]},{["conditions"]:[j,C,t,w,R,d],endpoint:t4,["type"]:"endpoint"},$X,$X,{["conditions"]:[j,C,h,w,R,c],["type"]:"tree",["rules"]:[{endpoint:JX,["type"]:"endpoint"}]},{["conditions"]:[j,C,h,w,R,d],endpoint:JX,["type"]:"endpoint"},QX,XX,QX,XX,{["conditions"]:[T,C,h,H,A,WX,R,c],["type"]:"tree",["rules"]:[{["conditions"]:e0,endpoint:yJ,["type"]:"endpoint"},{endpoint:yJ,["type"]:"endpoint"}]},{["conditions"]:[T,C,h,H,A,ZX,R,c],["type"]:"tree",["rules"]:[{["conditions"]:e0,endpoint:tJ,["type"]:"endpoint"},GX]},{["conditions"]:[T,C,h,H,A,WX,R,d],endpoint:yJ,["type"]:"endpoint"},{["conditions"]:[T,C,h,H,A,ZX,R,d],endpoint:tJ,["type"]:"endpoint"},KX,KX,{["conditions"]:[T,C,t,w,R,c],["type"]:"tree",["rules"]:[{["conditions"]:e0,endpoint:bJ,["type"]:"endpoint"},{endpoint:bJ,["type"]:"endpoint"}]},{["conditions"]:[T,C,t,w,R,d],endpoint:bJ,["type"]:"endpoint"},YX,YX,{["conditions"]:[T,C,h,w,R,c],["type"]:"tree",["rules"]:[{["conditions"]:e0,endpoint:{["url"]:"https://{Bucket}.s3.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:_},["type"]:"endpoint"},{endpoint:FX,["type"]:"endpoint"}]},{["conditions"]:[T,C,h,w,R,d],endpoint:FX,["type"]:"endpoint"}]}]}]}]}]}]}]}]},A1]}]},y0]},{["conditions"]:[H,A,{["fn"]:"stringEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[$Q,"scheme"]},"http"]},{["fn"]:"aws.isVirtualHostableS3Bucket",["argv"]:[W0,!0]},C,T,h],["type"]:"tree",["rules"]:[{["conditions"]:b0,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:yX,["type"]:"tree",["rules"]:[GX]},A1]}]},y0]},{["conditions"]:[{["fn"]:"aws.parseArn",["argv"]:Gz,["assign"]:"bucketArn"}],["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"getAttr",["argv"]:[i,"resourceId[0]"],["assign"]:"arnType"},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[rX,""]}]}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[xJ,"s3-object-lambda"]}],["type"]:"tree",["rules"]:[{["conditions"]:iJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:bX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[zX,{["type"]:"tree",["rules"]:[UX,{["type"]:"tree",["rules"]:[{["conditions"]:aJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[VX,{["type"]:"tree",["rules"]:[{["conditions"]:mX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[mJ,{["type"]:"tree",["rules"]:[{["conditions"]:nJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:b0,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:lX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:uJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[iX,""]}],error:"Invalid ARN: Missing account id",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:oJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:cX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[IX,{["type"]:"tree",["rules"]:[{["conditions"]:E8,endpoint:{["url"]:"{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",["properties"]:lJ,["headers"]:_},["type"]:"endpoint"},{["conditions"]:O1,endpoint:{["url"]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",["properties"]:lJ,["headers"]:_},["type"]:"endpoint"},{endpoint:{["url"]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",["properties"]:lJ,["headers"]:_},["type"]:"endpoint"}]}]}]},BX]}]},cJ]}]}]},dJ]}]},sJ]}]},y0]}]},LX]}]}]},MX]}]}]},qX]}]}]}]},wX]}]},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",["type"]:"error"}]},{["conditions"]:iJ,["type"]:"tree",["rules"]:[{["conditions"]:bX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:aJ,["type"]:"tree",["rules"]:[{["conditions"]:iJ,["type"]:"tree",["rules"]:[{["conditions"]:aJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[VX,{["type"]:"tree",["rules"]:[{["conditions"]:mX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[mJ,{["type"]:"tree",["rules"]:[{["conditions"]:nJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:b0,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[QQ,"{partitionResult#name}"]}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:uJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[xJ,"s3"]}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:oJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:cX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:pJ,error:"Access Points do not support S3 Accelerate",["type"]:"error"},{["type"]:"tree",["rules"]:[IX,{["type"]:"tree",["rules"]:[{["conditions"]:Yz,error:"DualStack cannot be combined with a Host override (PrivateLink)",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[D,j],endpoint:{["url"]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",["properties"]:D8,["headers"]:_},["type"]:"endpoint"},{["conditions"]:[D,T],endpoint:{["url"]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",["properties"]:D8,["headers"]:_},["type"]:"endpoint"},{["conditions"]:[C,j],endpoint:{["url"]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",["properties"]:D8,["headers"]:_},["type"]:"endpoint"},{["conditions"]:[C,T,H,A],endpoint:{["url"]:"{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",["properties"]:D8,["headers"]:_},["type"]:"endpoint"},{["conditions"]:[C,T],endpoint:{["url"]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",["properties"]:D8,["headers"]:_},["type"]:"endpoint"}]}]}]}]}]},BX]}]},cJ]}]},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",["type"]:"error"}]}]},dJ]}]},sJ]}]},y0]}]},LX]}]}]},MX]}]}]},qX]}]},{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"isValidHostLabel",["argv"]:[JQ,!0]}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:xX,error:"S3 MRAP does not support dual-stack",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:O1,error:"S3 MRAP does not support FIPS",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:pJ,error:"S3 MRAP does not support S3 Accelerate",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"aws.partition",["argv"]:j1,["assign"]:"mrapPartition"}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[{["ref"]:"mrapPartition"},"name"]},{["fn"]:"getAttr",["argv"]:[i,"partition"]}]}],["type"]:"tree",["rules"]:[{endpoint:{["url"]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,name:"sigv4a",["signingName"]:"s3",signingRegionSet:["*"]}]},["headers"]:_},["type"]:"endpoint"}]},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",["type"]:"error"}]}]},{error:"{Region} was not a valid region",["type"]:"error"}]}]}]}]}]}]},{error:"Invalid Access Point Name",["type"]:"error"}]}]}]},wX]},{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[xJ,"s3-outposts"]}],["type"]:"tree",["rules"]:[{["conditions"]:xX,error:"S3 Outposts does not support Dual-stack",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:O1,error:"S3 Outposts does not support FIPS",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:pJ,error:"S3 Outposts does not support S3 Accelerate",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"isSet",["argv"]:[{["fn"]:"getAttr",["argv"]:[i,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"getAttr",["argv"]:Fz,["assign"]:"outpostId"}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:PX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[mJ,{["type"]:"tree",["rules"]:[{["conditions"]:nJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:b0,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:lX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:uJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:oJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"getAttr",["argv"]:zz,["assign"]:"outpostType"}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"getAttr",["argv"]:[i,"resourceId[3]"],["assign"]:"accessPointName"}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"outpostType"},"accesspoint"]}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:E8,endpoint:{["url"]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",["properties"]:HX,["headers"]:_},["type"]:"endpoint"},{endpoint:{["url"]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",["properties"]:HX,["headers"]:_},["type"]:"endpoint"}]}]},{error:"Expected an outpost type `accesspoint`, found {outpostType}",["type"]:"error"}]}]},{error:"Invalid ARN: expected an access point name",["type"]:"error"}]}]},{error:"Invalid ARN: Expected a 4-component resource",["type"]:"error"}]}]},cJ]}]},dJ]}]},sJ]}]},y0]}]},{error:"Could not load partition for ARN region {bucketArn#region}",["type"]:"error"}]}]}]},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",["type"]:"error"}]}]},{error:"Invalid ARN: The Outpost Id was not set",["type"]:"error"}]}]}]}]}]},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",["type"]:"error"}]}]},{error:"Invalid ARN: No ARN type specified",["type"]:"error"}]},{["conditions"]:[{["fn"]:"substring",["argv"]:[W0,0,4,!1],["assign"]:"arnPrefix"},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"arnPrefix"},"arn:"]},{["fn"]:"not",["argv"]:[{["fn"]:"isSet",["argv"]:vX}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",["type"]:"error"},p4]}]},{["conditions"]:[{["fn"]:"isSet",["argv"]:[CX]},{["fn"]:"booleanEquals",["argv"]:[CX,!0]}],["type"]:"tree",["rules"]:[{["conditions"]:b0,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:dX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[zX,{["type"]:"tree",["rules"]:[UX,{["type"]:"tree",["rules"]:[vJ,{["type"]:"tree",["rules"]:[{["conditions"]:E8,endpoint:{["url"]:"{url#scheme}://{url#authority}{url#path}",["properties"]:rJ,["headers"]:_},["type"]:"endpoint"},{["conditions"]:O1,endpoint:{["url"]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",["properties"]:rJ,["headers"]:_},["type"]:"endpoint"},{endpoint:{["url"]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",["properties"]:rJ,["headers"]:_},["type"]:"endpoint"}]}]}]}]}]},A1]}]},y0]},{["conditions"]:[{["fn"]:"not",["argv"]:gX}],["type"]:"tree",["rules"]:[{["conditions"]:b0,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:dX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[vJ,{["type"]:"tree",["rules"]:[RX,RX,{["conditions"]:[D,j,H,A,R,c],["type"]:"tree",["rules"]:eJ},{["conditions"]:[D,j,H,A,R,d],endpoint:S8,["type"]:"endpoint"},TX,TX,{["conditions"]:[D,j,w,R,c],["type"]:"tree",["rules"]:[{endpoint:AX,["type"]:"endpoint"}]},{["conditions"]:[D,j,w,R,d],endpoint:AX,["type"]:"endpoint"},OX,OX,{["conditions"]:[D,T,H,A,R,c],["type"]:"tree",["rules"]:eJ},{["conditions"]:[D,T,H,A,R,d],endpoint:S8,["type"]:"endpoint"},jX,jX,{["conditions"]:[D,T,w,R,c],["type"]:"tree",["rules"]:[{endpoint:DX,["type"]:"endpoint"}]},{["conditions"]:[D,T,w,R,d],endpoint:DX,["type"]:"endpoint"},SX,SX,{["conditions"]:[C,j,H,A,R,c],["type"]:"tree",["rules"]:eJ},{["conditions"]:[C,j,H,A,R,d],endpoint:S8,["type"]:"endpoint"},EX,EX,{["conditions"]:[C,j,w,R,c],["type"]:"tree",["rules"]:[{endpoint:NX,["type"]:"endpoint"}]},{["conditions"]:[C,j,w,R,d],endpoint:NX,["type"]:"endpoint"},kX,kX,{["conditions"]:[C,T,H,A,R,c],["type"]:"tree",["rules"]:[{["conditions"]:e0,endpoint:S8,["type"]:"endpoint"},pX]},{["conditions"]:[C,T,H,A,R,d],endpoint:S8,["type"]:"endpoint"},_X,_X,{["conditions"]:[C,T,w,R,c],["type"]:"tree",["rules"]:[{["conditions"]:e0,endpoint:{["url"]:"https://s3.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:_},["type"]:"endpoint"},{endpoint:fX,["type"]:"endpoint"}]},{["conditions"]:[C,T,w,R,d],endpoint:fX,["type"]:"endpoint"}]}]}]},A1]}]},y0]}]}]},{error:"A region must be set when sending requests to S3.",["type"]:"error"}]}]},aX=Uz;var nX=($,J={})=>{return z5(aX,{endpointParams:$,logger:J.logger})};var uX=($)=>({apiVersion:"2006-03-01",base64Decoder:$?.base64Decoder??u0,base64Encoder:$?.base64Encoder??o0,disableHostPrefix:$?.disableHostPrefix??!1,endpointProvider:$?.endpointProvider??nX,getAwsChunkedEncodingStream:$?.getAwsChunkedEncodingStream??r5,logger:$?.logger??new h$,sdkStreamMixin:$?.sdkStreamMixin??o5,serviceId:$?.serviceId??"S3",signerConstructor:$?.signerConstructor??hJ,signingEscapePath:$?.signingEscapePath??!1,urlParser:$?.urlParser??i0,useArnRegion:$?.useArnRegion??!1,utf8Decoder:$?.utf8Decoder??M0,utf8Encoder:$?.utf8Encoder??q0});var eX=G0(fJ(),1);var oX=["in-region","cross-region","mobile","standard","legacy"];var tX=({defaultsMode:$}={})=>y8(async()=>{const J=typeof $==="function"?await $():$;switch(J?.toLowerCase()){case"auto":return Promise.resolve(Vz()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(J?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${oX.join(", ")}, got ${J}`)}}),Vz=()=>{const J=(typeof window!=="undefined"&&window?.navigator?.userAgent?eX.default.parse(window.navigator.userAgent):void 0)?.platform?.type;return J==="tablet"||J==="mobile"};var QZ=($)=>{const J=tX($),Q=()=>J().then(Y6),W=uX($);return{...W,...$,runtime:"browser",defaultsMode:J,bodyLengthChecker:$?.bodyLengthChecker??d4,credentialDefaultProvider:$?.credentialDefaultProvider??((X)=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:$?.defaultUserAgentProvider??v4({serviceId:W.serviceId,clientVersion:z6.version}),eventStreamSerdeProvider:$?.eventStreamSerdeProvider??l4,maxAttempts:$?.maxAttempts??R0,md5:$?.md5??kJ,region:$?.region??c4("Region is missing"),requestHandler:$?.requestHandler??new v$(Q),retryMode:$?.retryMode??(async()=>(await Q()).retryMode||O$),sha1:$?.sha1??$Z.Sha1,sha256:$?.sha256??JZ.Sha256,streamCollector:$?.streamCollector??z1,streamHasher:$?.streamHasher??f4,useDualstackEndpoint:$?.useDualstackEndpoint??(()=>Promise.resolve(B5)),useFipsEndpoint:$?.useFipsEndpoint??(()=>Promise.resolve(L5))}};class WQ extends g${constructor($){const J=QZ($),Q=F6(J),W=M5(Q),X=E5(W),Z=b5(X),K=NQ(Z),G=iW(K),F=gQ(G),Y=uW(F),U=q5(Y);super(U);this.config=U,this.middlewareStack.use(x5(this.config)),this.middlewareStack.use(H5(this.config)),this.middlewareStack.use(kQ(this.config)),this.middlewareStack.use(_Q(this.config)),this.middlewareStack.use(PQ(this.config)),this.middlewareStack.use(nW(this.config)),this.middlewareStack.use(yQ(this.config)),this.middlewareStack.use(EQ(this.config)),this.middlewareStack.use(I5(this.config))}destroy(){super.destroy()}}var xZ=G0(hZ(),1);class m0 extends I1{constructor($){super($);Object.setPrototypeOf(this,m0.prototype)}}var FQ;(function($){$.visit=(J,Q)=>{if(J.Prefix!==void 0)return Q.Prefix(J.Prefix);if(J.Tag!==void 0)return Q.Tag(J.Tag);if(J.And!==void 0)return Q.And(J.And);return Q._(J.$unknown[0],J.$unknown[1])}})(FQ||(FQ={}));var zQ;(function($){$.visit=(J,Q)=>{if(J.Prefix!==void 0)return Q.Prefix(J.Prefix);if(J.Tag!==void 0)return Q.Tag(J.Tag);if(J.ObjectSizeGreaterThan!==void 0)return Q.ObjectSizeGreaterThan(J.ObjectSizeGreaterThan);if(J.ObjectSizeLessThan!==void 0)return Q.ObjectSizeLessThan(J.ObjectSizeLessThan);if(J.And!==void 0)return Q.And(J.And);return Q._(J.$unknown[0],J.$unknown[1])}})(zQ||(zQ={}));var UQ;(function($){$.visit=(J,Q)=>{if(J.Prefix!==void 0)return Q.Prefix(J.Prefix);if(J.Tag!==void 0)return Q.Tag(J.Tag);if(J.AccessPointArn!==void 0)return Q.AccessPointArn(J.AccessPointArn);if(J.And!==void 0)return Q.And(J.And);return Q._(J.$unknown[0],J.$unknown[1])}})(UQ||(UQ={}));var VQ;(function($){$.visit=(J,Q)=>{if(J.Prefix!==void 0)return Q.Prefix(J.Prefix);if(J.Tag!==void 0)return Q.Tag(J.Tag);if(J.And!==void 0)return Q.And(J.And);return Q._(J.$unknown[0],J.$unknown[1])}})(VQ||(VQ={}));class S1 extends m0{constructor($){super({name:"InvalidObjectState",$fault:"client",...$});this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,S1.prototype),this.StorageClass=$.StorageClass,this.AccessTier=$.AccessTier}}class E1 extends m0{constructor($){super({name:"NoSuchKey",$fault:"client",...$});this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,E1.prototype)}}var gZ=($)=>({...$,...$.SSEKMSKeyId&&{SSEKMSKeyId:A0}}),vZ=($)=>({...$,...$.SSECustomerKey&&{SSECustomerKey:A0}});var yZ=($)=>({...$,...$.SSEKMSKeyId&&{SSEKMSKeyId:A0},...$.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:A0}}),bZ=($)=>({...$,...$.SSECustomerKey&&{SSECustomerKey:A0},...$.SSEKMSKeyId&&{SSEKMSKeyId:A0},...$.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:A0}});var mZ=async($,J)=>{const{hostname:Q,protocol:W="https",port:X,path:Z}=await J.endpoint(),K=y({},o,{"x-amz-mfa":$.MFA,"x-amz-request-payer":$.RequestPayer,"x-amz-bypass-governance-retention":[()=>o($.BypassGovernanceRetention),()=>$.BypassGovernanceRetention.toString()],"x-amz-expected-bucket-owner":$.ExpectedBucketOwner});let G=`${Z?.endsWith("/")?Z.slice(0,-1):Z||""}`+"/{Key+}";G=D0(G,$,"Bucket",()=>$.Bucket,"{Bucket}",!1),G=D0(G,$,"Key",()=>$.Key,"{Key+}",!0);const F=y({"x-id":[,"DeleteObject"],versionId:[,$.VersionId]});let Y;return new O({protocol:W,hostname:Q,port:X,method:"DELETE",headers:K,path:G,query:F,body:Y})};var lZ=async($,J)=>{const{hostname:Q,protocol:W="https",port:X,path:Z}=await J.endpoint(),K=y({},o,{"if-match":$.IfMatch,"if-modified-since":[()=>o($.IfModifiedSince),()=>V8($.IfModifiedSince).toString()],"if-none-match":$.IfNoneMatch,"if-unmodified-since":[()=>o($.IfUnmodifiedSince),()=>V8($.IfUnmodifiedSince).toString()],range:$.Range,"x-amz-server-side-encryption-customer-algorithm":$.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":$.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":$.SSECustomerKeyMD5,"x-amz-request-payer":$.RequestPayer,"x-amz-expected-bucket-owner":$.ExpectedBucketOwner,"x-amz-checksum-mode":$.ChecksumMode});let G=`${Z?.endsWith("/")?Z.slice(0,-1):Z||""}`+"/{Key+}";G=D0(G,$,"Bucket",()=>$.Bucket,"{Bucket}",!1),G=D0(G,$,"Key",()=>$.Key,"{Key+}",!0);const F=y({"x-id":[,"GetObject"],"response-cache-control":[,$.ResponseCacheControl],"response-content-disposition":[,$.ResponseContentDisposition],"response-content-encoding":[,$.ResponseContentEncoding],"response-content-language":[,$.ResponseContentLanguage],"response-content-type":[,$.ResponseContentType],"response-expires":[()=>$.ResponseExpires!==void 0,()=>V8($.ResponseExpires).toString()],versionId:[,$.VersionId],partNumber:[()=>$.PartNumber!==void 0,()=>$.PartNumber.toString()]});let Y;return new O({protocol:W,hostname:Q,port:X,method:"GET",headers:K,path:G,query:F,body:Y})};var cZ=async($,J)=>{const{hostname:Q,protocol:W="https",port:X,path:Z}=await J.endpoint(),K=y({},o,{"x-amz-expected-bucket-owner":$.ExpectedBucketOwner,"x-amz-request-payer":$.RequestPayer,"x-amz-optional-object-attributes":[()=>o($.OptionalObjectAttributes),()=>($.OptionalObjectAttributes||[]).map((U)=>U).join(", ")]});let G=`${Z?.endsWith("/")?Z.slice(0,-1):Z||""}`+"/";G=D0(G,$,"Bucket",()=>$.Bucket,"{Bucket}",!1);const F=y({versions:[,""],delimiter:[,$.Delimiter],"encoding-type":[,$.EncodingType],"key-marker":[,$.KeyMarker],"max-keys":[()=>$.MaxKeys!==void 0,()=>$.MaxKeys.toString()],prefix:[,$.Prefix],"version-id-marker":[,$.VersionIdMarker]});let Y;return new O({protocol:W,hostname:Q,port:X,method:"GET",headers:K,path:G,query:F,body:Y})};var dZ=async($,J)=>{const{hostname:Q,protocol:W="https",port:X,path:Z}=await J.endpoint(),K=y({},o,{"content-type":$.ContentType||"application/octet-stream","x-amz-acl":$.ACL,"cache-control":$.CacheControl,"content-disposition":$.ContentDisposition,"content-encoding":$.ContentEncoding,"content-language":$.ContentLanguage,"content-length":[()=>o($.ContentLength),()=>$.ContentLength.toString()],"content-md5":$.ContentMD5,"x-amz-sdk-checksum-algorithm":$.ChecksumAlgorithm,"x-amz-checksum-crc32":$.ChecksumCRC32,"x-amz-checksum-crc32c":$.ChecksumCRC32C,"x-amz-checksum-sha1":$.ChecksumSHA1,"x-amz-checksum-sha256":$.ChecksumSHA256,expires:[()=>o($.Expires),()=>V8($.Expires).toString()],"x-amz-grant-full-control":$.GrantFullControl,"x-amz-grant-read":$.GrantRead,"x-amz-grant-read-acp":$.GrantReadACP,"x-amz-grant-write-acp":$.GrantWriteACP,"x-amz-server-side-encryption":$.ServerSideEncryption,"x-amz-storage-class":$.StorageClass,"x-amz-website-redirect-location":$.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":$.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":$.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":$.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":$.SSEKMSKeyId,"x-amz-server-side-encryption-context":$.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>o($.BucketKeyEnabled),()=>$.BucketKeyEnabled.toString()],"x-amz-request-payer":$.RequestPayer,"x-amz-tagging":$.Tagging,"x-amz-object-lock-mode":$.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>o($.ObjectLockRetainUntilDate),()=>($.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":$.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":$.ExpectedBucketOwner,...$.Metadata!==void 0&&Object.keys($.Metadata).reduce((V,z)=>{return V[`x-amz-meta-${z.toLowerCase()}`]=$.Metadata[z],V},{})});let G=`${Z?.endsWith("/")?Z.slice(0,-1):Z||""}`+"/{Key+}";G=D0(G,$,"Bucket",()=>$.Bucket,"{Bucket}",!1),G=D0(G,$,"Key",()=>$.Key,"{Key+}",!0);const F=y({"x-id":[,"PutObject"]});let Y;if($.Body!==void 0)Y=$.Body;let U;if($.Body!==void 0)U=$.Body,Y=U;return new O({protocol:W,hostname:Q,port:X,method:"PUT",headers:K,path:G,query:F,body:Y})};var sZ=async($,J)=>{if($.statusCode!==204&&$.statusCode>=300)return g3($,J);const Q=y({$metadata:t0($),DeleteMarker:[()=>$.headers["x-amz-delete-marker"]!==void 0,()=>I0($.headers["x-amz-delete-marker"])],VersionId:[,$.headers["x-amz-version-id"]],RequestCharged:[,$.headers["x-amz-request-charged"]]});return await U1($.body,J),Q},g3=async($,J)=>{const Q={...$,body:await k1($.body,J)},W=_1($,Q.body),X=Q.body;return N1({output:$,parsedBody:X,errorCode:W})};var rZ=async($,J)=>{if($.statusCode!==200&&$.statusCode>=300)return v3($,J);const Q=y({$metadata:t0($),DeleteMarker:[()=>$.headers["x-amz-delete-marker"]!==void 0,()=>I0($.headers["x-amz-delete-marker"])],AcceptRanges:[,$.headers["accept-ranges"]],Expiration:[,$.headers["x-amz-expiration"]],Restore:[,$.headers["x-amz-restore"]],LastModified:[()=>$.headers["last-modified"]!==void 0,()=>O0(c$($.headers["last-modified"]))],ContentLength:[()=>$.headers["content-length"]!==void 0,()=>x$($.headers["content-length"])],ETag:[,$.headers.etag],ChecksumCRC32:[,$.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,$.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,$.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,$.headers["x-amz-checksum-sha256"]],MissingMeta:[()=>$.headers["x-amz-missing-meta"]!==void 0,()=>F8($.headers["x-amz-missing-meta"])],VersionId:[,$.headers["x-amz-version-id"]],CacheControl:[,$.headers["cache-control"]],ContentDisposition:[,$.headers["content-disposition"]],ContentEncoding:[,$.headers["content-encoding"]],ContentLanguage:[,$.headers["content-language"]],ContentRange:[,$.headers["content-range"]],ContentType:[,$.headers["content-type"]],Expires:[()=>$.headers.expires!==void 0,()=>O0(c$($.headers.expires))],WebsiteRedirectLocation:[,$.headers["x-amz-website-redirect-location"]],ServerSideEncryption:[,$.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,$.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,$.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,$.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>$.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>I0($.headers["x-amz-server-side-encryption-bucket-key-enabled"])],StorageClass:[,$.headers["x-amz-storage-class"]],RequestCharged:[,$.headers["x-amz-request-charged"]],ReplicationStatus:[,$.headers["x-amz-replication-status"]],PartsCount:[()=>$.headers["x-amz-mp-parts-count"]!==void 0,()=>F8($.headers["x-amz-mp-parts-count"])],TagCount:[()=>$.headers["x-amz-tagging-count"]!==void 0,()=>F8($.headers["x-amz-tagging-count"])],ObjectLockMode:[,$.headers["x-amz-object-lock-mode"]],ObjectLockRetainUntilDate:[()=>$.headers["x-amz-object-lock-retain-until-date"]!==void 0,()=>O0(I8($.headers["x-amz-object-lock-retain-until-date"]))],ObjectLockLegalHoldStatus:[,$.headers["x-amz-object-lock-legal-hold"]],Metadata:[,Object.keys($.headers).filter((X)=>X.startsWith("x-amz-meta-")).reduce((X,Z)=>{return X[Z.substring(11)]=$.headers[Z],X},{})]}),W=$.body;return J.sdkStreamMixin(W),Q.Body=W,Q},v3=async($,J)=>{const Q={...$,body:await k1($.body,J)},W=_1($,Q.body);switch(W){case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await x3(Q,J);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await m3(Q,J);default:const X=Q.body;return N1({output:$,parsedBody:X,errorCode:W})}};var iZ=async($,J)=>{if($.statusCode!==200&&$.statusCode>=300)return y3($,J);const Q=y({$metadata:t0($),RequestCharged:[,$.headers["x-amz-request-charged"]]}),W=O0(Q6(await nZ($.body,J)),"body");if(W.CommonPrefixes==="")Q.CommonPrefixes=[];else if(W.CommonPrefixes!==void 0)Q.CommonPrefixes=d3(L8(W.CommonPrefixes),J);if(W.DeleteMarker==="")Q.DeleteMarkers=[];else if(W.DeleteMarker!==void 0)Q.DeleteMarkers=r3(L8(W.DeleteMarker),J);if(W.Delimiter!==void 0)Q.Delimiter=N(W.Delimiter);if(W.EncodingType!==void 0)Q.EncodingType=N(W.EncodingType);if(W.IsTruncated!==void 0)Q.IsTruncated=I0(W.IsTruncated);if(W.KeyMarker!==void 0)Q.KeyMarker=N(W.KeyMarker);if(W.MaxKeys!==void 0)Q.MaxKeys=F8(W.MaxKeys);if(W.Name!==void 0)Q.Name=N(W.Name);if(W.NextKeyMarker!==void 0)Q.NextKeyMarker=N(W.NextKeyMarker);if(W.NextVersionIdMarker!==void 0)Q.NextVersionIdMarker=N(W.NextVersionIdMarker);if(W.Prefix!==void 0)Q.Prefix=N(W.Prefix);if(W.VersionIdMarker!==void 0)Q.VersionIdMarker=N(W.VersionIdMarker);if(W.Version==="")Q.Versions=[];else if(W.Version!==void 0)Q.Versions=p3(L8(W.Version),J);return Q},y3=async($,J)=>{const Q={...$,body:await k1($.body,J)},W=_1($,Q.body),X=Q.body;return N1({output:$,parsedBody:X,errorCode:W})};var pZ=async($,J)=>{if($.statusCode!==200&&$.statusCode>=300)return b3($,J);const Q=y({$metadata:t0($),Expiration:[,$.headers["x-amz-expiration"]],ETag:[,$.headers.etag],ChecksumCRC32:[,$.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,$.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,$.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,$.headers["x-amz-checksum-sha256"]],ServerSideEncryption:[,$.headers["x-amz-server-side-encryption"]],VersionId:[,$.headers["x-amz-version-id"]],SSECustomerAlgorithm:[,$.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,$.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,$.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,$.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>$.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>I0($.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,$.headers["x-amz-request-charged"]]});return await U1($.body,J),Q},b3=async($,J)=>{const Q={...$,body:await k1($.body,J)},W=_1($,Q.body),X=Q.body;return N1({output:$,parsedBody:X,errorCode:W})};var N1=K6(m0);var x3=async($,J)=>{const Q=y({}),W=$.body;if(W.AccessTier!==void 0)Q.AccessTier=N(W.AccessTier);if(W.StorageClass!==void 0)Q.StorageClass=N(W.StorageClass);const X=new S1({$metadata:t0($),...Q});return B8(X,$.body)};var m3=async($,J)=>{const Q=y({}),W=$.body,X=new E1({$metadata:t0($),...Q});return B8(X,$.body)};var l3=($,J)=>{return($||[]).filter((Q)=>Q!=null).map((Q)=>{return N(Q)})},c3=($,J)=>{const Q={};if($.Prefix!==void 0)Q.Prefix=N($.Prefix);return Q},d3=($,J)=>{return($||[]).filter((Q)=>Q!=null).map((Q)=>{return c3(Q,J)})};var s3=($,J)=>{const Q={};if($.Owner!==void 0)Q.Owner=aZ($.Owner,J);if($.Key!==void 0)Q.Key=N($.Key);if($.VersionId!==void 0)Q.VersionId=N($.VersionId);if($.IsLatest!==void 0)Q.IsLatest=I0($.IsLatest);if($.LastModified!==void 0)Q.LastModified=O0(I8($.LastModified));return Q};var r3=($,J)=>{return($||[]).filter((Q)=>Q!=null).map((Q)=>{return s3(Q,J)})};var i3=($,J)=>{const Q={};if($.ETag!==void 0)Q.ETag=N($.ETag);if($.ChecksumAlgorithm==="")Q.ChecksumAlgorithm=[];else if($.ChecksumAlgorithm!==void 0)Q.ChecksumAlgorithm=l3(L8($.ChecksumAlgorithm),J);if($.Size!==void 0)Q.Size=x$($.Size);if($.StorageClass!==void 0)Q.StorageClass=N($.StorageClass);if($.Key!==void 0)Q.Key=N($.Key);if($.VersionId!==void 0)Q.VersionId=N($.VersionId);if($.IsLatest!==void 0)Q.IsLatest=I0($.IsLatest);if($.LastModified!==void 0)Q.LastModified=O0(I8($.LastModified));if($.Owner!==void 0)Q.Owner=aZ($.Owner,J);if($.RestoreStatus!==void 0)Q.RestoreStatus=a3($.RestoreStatus,J);return Q},p3=($,J)=>{return($||[]).filter((Q)=>Q!=null).map((Q)=>{return i3(Q,J)})},aZ=($,J)=>{const Q={};if($.DisplayName!==void 0)Q.DisplayName=N($.DisplayName);if($.ID!==void 0)Q.ID=N($.ID);return Q};var a3=($,J)=>{const Q={};if($.IsRestoreInProgress!==void 0)Q.IsRestoreInProgress=I0($.IsRestoreInProgress);if($.RestoreExpiryDate!==void 0)Q.RestoreExpiryDate=O0(I8($.RestoreExpiryDate));return Q};var t0=($)=>({httpStatusCode:$.statusCode,requestId:$.headers["x-amzn-requestid"]??$.headers["x-amzn-request-id"]??$.headers["x-amz-request-id"],extendedRequestId:$.headers["x-amz-id-2"],cfId:$.headers["x-amz-cf-id"]}),n3=($,J)=>U1($,J).then((Q)=>J.utf8Encoder(Q)),o=($)=>$!==void 0&&$!==null&&$!==""&&(!Object.getOwnPropertyNames($).includes("length")||$.length!=0)&&(!Object.getOwnPropertyNames($).includes("size")||$.size!=0),nZ=($,J)=>n3($,J).then((Q)=>{if(Q.length){const W=new xZ.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(F,Y)=>Y.trim()===""&&Y.includes("\n")?"":void 0});W.addEntity("#xD","\r"),W.addEntity("#10","\n");const X=W.parse(Q),Z="#text",K=Object.keys(X)[0],G=X[K];if(G[Z])G[K]=G[Z],delete G[Z];return s$(G)}return{}}),k1=async($,J)=>{const Q=await nZ($,J);if(Q.Error)Q.Error.message=Q.Error.message??Q.Error.Message;return Q},_1=($,J)=>{if(J?.Code!==void 0)return J.Code;if($.statusCode==404)return"NotFound"};function u3($){return(J)=>async(Q)=>{let W={...Q.input};const X=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let Z of X){const K=W[Z.target];if(K){const G=ArrayBuffer.isView(K)?new Uint8Array(K.buffer,K.byteOffset,K.byteLength):typeof K==="string"?$.utf8Decoder(K):new Uint8Array(K),F=$.base64Encoder(G),Y=new $.md5;Y.update(G),W={...W,[Z.target]:F,[Z.hash]:$.base64Encoder(await Y.digest())}}}return J({...Q,input:W})}}var o3={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},f1=($)=>({applyToStack:(J)=>{J.add(u3($),o3)}});class P1 extends V0{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor($){super();this.input=$}resolveMiddleware($,J,Q){this.middlewareStack.use(H0(J,this.serialize,this.deserialize)),this.middlewareStack.use(C0(J,P1.getEndpointParameterInstructions()));const W=$.concat(this.middlewareStack),{logger:X}=J,G={logger:X,clientName:"S3Client",commandName:"DeleteObjectCommand",inputFilterSensitiveLog:(Y)=>Y,outputFilterSensitiveLog:(Y)=>Y},{requestHandler:F}=J;return W.resolve((Y)=>F.handle(Y.request,Q||{}),G)}serialize($,J){return mZ($,J)}deserialize($,J){return sZ($,J)}}var k;(function($){$.MD5="MD5",$.CRC32="CRC32",$.CRC32C="CRC32C",$.SHA1="SHA1",$.SHA256="SHA256"})(k||(k={}));var uZ;(function($){$.HEADER="header",$.TRAILER="trailer"})(uZ||(uZ={}));var _8=[k.CRC32,k.CRC32C,k.SHA1,k.SHA256],oZ=[k.CRC32,k.CRC32C,k.SHA1,k.SHA256];var eZ=($,{requestChecksumRequired:J,requestAlgorithmMember:Q})=>{if(!Q||!$[Q])return J?k.MD5:void 0;const W=$[Q];if(!_8.includes(W))throw new Error(`The checksum algorithm "${W}" is not supported by the client.`+` Select one of ${_8}.`);return W};var h1=($)=>$===k.MD5?"content-md5":`x-amz-checksum-${$.toLowerCase()}`;var tZ=($,J)=>{const Q=$.toLowerCase();for(let W of Object.keys(J))if(Q===W.toLowerCase())return!0;return!1};var g1=($)=>$!==void 0&&typeof $!=="string"&&!ArrayBuffer.isView($)&&!c8($);var KG=G0(W8(),1),YG=G0(HQ(),1);var v1=($,J)=>({[k.MD5]:J.md5,[k.CRC32]:KG.AwsCrc32,[k.CRC32C]:YG.AwsCrc32c,[k.SHA1]:J.sha1,[k.SHA256]:J.sha256})[$];var y1=($,J)=>{const Q=new $;return Q.update(J0(J||"")),Q.digest()};var FG=async($,{streamHasher:J,checksumAlgorithmFn:Q,base64Encoder:W})=>{const X=g1($)?J(Q,$):y1(Q,$);return W(await X)};var zG=($=[])=>{const J=[];for(let Q of oZ){if(!$.includes(Q)||!_8.includes(Q))continue;J.push(Q)}return J};var UG=async($,{config:J,responseAlgorithms:Q})=>{const W=zG(Q),{body:X,headers:Z}=$;for(let K of W){const G=h1(K),F=Z[G];if(F){const Y=v1(K,J),{streamHasher:U,base64Encoder:V}=J,z=await FG(X,{streamHasher:U,checksumAlgorithmFn:Y,base64Encoder:V});if(z===F)break;throw new Error(`Checksum mismatch: expected "${z}" but received "${F}"`+` in response header "${G}".`)}}};var VG=($,J)=>(Q)=>async(W)=>{if(!O.isInstance(W.request))return Q(W);const{request:X}=W,{body:Z,headers:K}=X,{base64Encoder:G,streamHasher:F}=$,{input:Y,requestChecksumRequired:U,requestAlgorithmMember:V}=J,z=eZ(Y,{requestChecksumRequired:U,requestAlgorithmMember:V});let I=Z,B=K;if(z){const X0=h1(z),E0=v1(z,$);if(g1(Z)){const{getAwsChunkedEncodingStream:l0,bodyLengthChecker:g8}=$;I=l0(Z,{base64Encoder:G,bodyLengthChecker:g8,checksumLocationName:X0,checksumAlgorithmFn:E0,streamHasher:F}),B={...K,"content-encoding":K["content-encoding"]?`${K["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":K["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":X0},delete B["content-length"]}else if(!tZ(X0,K)){const l0=await y1(E0,Z);B={...K,[X0]:G(l0)}}}const L=await Q({...W,request:{...X,headers:B,body:I}}),{requestValidationModeMember:q,responseAlgorithms:E}=J;if(q&&Y[q]==="ENABLED")UG(L.response,{config:$,responseAlgorithms:E});return L};var S2={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},b1=($,J)=>({applyToStack:(Q)=>{Q.add(VG($,J),S2)}});class P8 extends V0{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor($){super();this.input=$}resolveMiddleware($,J,Q){this.middlewareStack.use(H0(J,this.serialize,this.deserialize)),this.middlewareStack.use(C0(J,P8.getEndpointParameterInstructions())),this.middlewareStack.use(f1(J)),this.middlewareStack.use(b1(J,{input:this.input,requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC32","CRC32C","SHA256","SHA1"]}));const W=$.concat(this.middlewareStack),{logger:X}=J,G={logger:X,clientName:"S3Client",commandName:"GetObjectCommand",inputFilterSensitiveLog:vZ,outputFilterSensitiveLog:gZ},{requestHandler:F}=J;return W.resolve((Y)=>F.handle(Y.request,Q||{}),G)}serialize($,J){return lZ($,J)}deserialize($,J){return rZ($,J)}}class h8 extends V0{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor($){super();this.input=$}resolveMiddleware($,J,Q){this.middlewareStack.use(H0(J,this.serialize,this.deserialize)),this.middlewareStack.use(C0(J,h8.getEndpointParameterInstructions()));const W=$.concat(this.middlewareStack),{logger:X}=J,G={logger:X,clientName:"S3Client",commandName:"ListObjectVersionsCommand",inputFilterSensitiveLog:(Y)=>Y,outputFilterSensitiveLog:(Y)=>Y},{requestHandler:F}=J;return W.resolve((Y)=>F.handle(Y.request,Q||{}),G)}serialize($,J){return cZ($,J)}deserialize($,J){return iZ($,J)}}class x1 extends V0{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor($){super();this.input=$}resolveMiddleware($,J,Q){this.middlewareStack.use(H0(J,this.serialize,this.deserialize)),this.middlewareStack.use(C0(J,x1.getEndpointParameterInstructions())),this.middlewareStack.use(hQ(J)),this.middlewareStack.use(f1(J)),this.middlewareStack.use(b1(J,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));const W=$.concat(this.middlewareStack),{logger:X}=J,G={logger:X,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:bZ,outputFilterSensitiveLog:yZ},{requestHandler:F}=J;return W.resolve((Y)=>F.handle(Y.request,Q||{}),G)}serialize($,J){return dZ($,J)}deserialize($,J){return pZ($,J)}}class m1{key;vals;keys;constructor($,J){if(this.key=$,this.vals=new Map,this.keys=new Map,J)for(let[Q,W]of J)this.set(Q,W)}set($,J){const Q=this.key($);return this.vals.set(Q,J),this.keys.set(Q,$),this}get($){return this.vals.get(this.key($))}has($){return this.vals.has(this.key($))}values(){return this.vals.values()}forEach($){return this.vals.forEach((J,Q,W)=>$(J,this.keys.get(Q)))}}var r=($)=>`${$.bucket}/${$.key}`;var c1=MG(),f2=CG(),P2=TG();var h2=($)=>{if(!$)return!1;return $.version!==void 0&&typeof $.version==="number"&&$.files!==void 0&&typeof $.files==="object"&&Object.values($.files).every((J)=>typeof J==="object"&&J.version!==void 0&&typeof J.version==="string")};class AG{ref;handler;lastVersion;constructor($,J){this.ref=$,this.handler=J}notify($,J){if($===this.lastVersion)return;else this.lastVersion=$,this.handler(J)}}class AQ{service;ref;subscribers=new Set;poller;cache;pendingWrites=new Map;writtenOperations=new Map;constructor($,J,Q){this.service=$,this.ref=J}observeVersionId($){if(console.log(`observeVersionId ${$} in ${[...this.writtenOperations.keys()]} pending ${this.pendingWrites.size}`),this.writtenOperations.has($)){console.log(`clearing pending write for observeVersionId ${$}`);const J=this.writtenOperations.get($);this.pendingWrites.delete(J),this.writtenOperations.delete($)}}async get(){return this.getLatest().then(($)=>$||this.cache?.data)}async getLatest(){try{const $=await this.service._getObject2({ref:this.ref,ifNoneMatch:this.cache?.etag});if($.$metadata.httpStatusCode===304)return;if($.data===void 0)return{version:0,files:{},update:{}};if(h2($.data)){const J=$.data,Q=await this.service.s3Client.send(new h8({Bucket:this.ref.bucket,Prefix:this.ref.key,KeyMarker:this.ref.key,VersionIdMarker:$.VersionId,MaxKeys:1}));if(Q.Versions===void 0||Q.Versions?.length==0||Q.Versions[0].VersionId===J.previous?.version&&J.previous?.version!==void 0){if(J.previous={url:r(this.ref),version:$.VersionId},this.cache={etag:$.ETag,data:J},Q.Versions&&Q.Versions[0])this.observeVersionId(Q.Versions[0].VersionId);return this.observeVersionId($.VersionId),J}else{const W=await this.service.s3Client.send(new h8({Bucket:this.ref.bucket,Prefix:this.ref.key,KeyMarker:this.ref.key,VersionIdMarker:$.VersionId,MaxKeys:10}));if(W.Versions===void 0)throw new Error("No versions returned");const X=J.previous?.version===void 0?W.Versions.length:W.Versions?.findIndex((G)=>G.VersionId===J.previous?.version);if(X===-1)throw new Error(`Can't find previous state ${J.previous?.version} in search window`);const Z=await this.service._getObject2({ref:this.ref,version:J.previous?.version});if(Z.data===void 0)throw new Error("Can't find base state");let K=Z.data;this.observeVersionId(Z.VersionId),console.log("replay state");for(let G=X-1;G>=0;G--){const F=await this.service._getObject2({ref:this.ref,version:W.Versions[G].VersionId}),Y=F.data?.update;this.observeVersionId(F.VersionId),K=c1(K,Y)}return this.observeVersionId($.VersionId),K=c1(K,$.data.update),K.previous={url:r(this.ref),version:$.VersionId},this.cache={etag:$.ETag,data:K},console.log("resolved data",JSON.stringify(K)),K}}else throw new Error("Invalid manifest")}catch($){if($.name==="NoSuchKey")return{version:0,files:{},update:{}};else throw $}}async poll(){if(this.subscriberCount===0&&this.poller)clearInterval(this.poller),this.poller=void 0;if(this.subscriberCount>0&&!this.poller)this.poller=setInterval(()=>this.poll(),1000);const $=await this.getLatest();if($===void 0)return;console.log(`POLL ${JSON.stringify($)}`),this.subscribers.forEach(async(J)=>{const Q=$.files[r(J.ref)];if(Q){console.log(`NOTIFY ${r(J.ref)} ${Q.version}`);const W=await this.service._getObject({ref:J.ref,version:Q.version});J.notify(Q.version,W)}else if(Q===null)console.log(`NOTIFY ${r(J.ref)} DELETE`),J.notify(void 0,void 0)})}async updateContent($,J){this.pendingWrites.set(J,$),console.log(`updateContent pending ${this.pendingWrites.size}`);try{const Q=await J,W=await this.get();W.update={files:{}};for(let[Z,K]of Q){const G=r(Z);if(K){const F={version:K};W.files[G]=F,W.update.files[G]=F}else delete W.files[G],W.update.files[G]=null}const X=await this.service._putObject({ref:this.ref,value:W});return this.writtenOperations.set(X.VersionId,J),this.poll(),X}catch(Q){throw console.error(Q),this.pendingWrites.delete(J),Q}}async getVersion($){return(await this.get()).files[r($)]?.version}subscribe($,J){console.log(`SUBSCRIBE ${r($)} ${this.subscriberCount+1}`);const Q=new AG($,J);return this.subscribers.add(Q),()=>this.subscribers.delete(Q)}get subscriberCount(){return this.subscribers.size}}var OG=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi;async function g2($){const J=(new TextEncoder()).encode($),Q=await crypto.subtle.digest("SHA-256",J);return btoa(String.fromCharCode(...new Uint8Array(Q)))}class v2{s3Client;config;manifests=new m1(r);defaultManifest;constructor($){this.config=$,this.s3Client=new WQ(this.config.s3Config),this.defaultManifest={bucket:$.defaultManifest?.bucket||$.defaultBucket,key:$.defaultManifest?.key||"manifest.json"}}getOrCreateManifest($){if(!this.manifests.has($))this.manifests.set($,new AQ(this,$));return this.manifests.get($)}async get($,J={}){const Q={...this.defaultManifest,...J.manifest},W=this.getOrCreateManifest(Q),X={bucket:$.bucket||this.config.defaultBucket||this.defaultManifest.bucket,key:typeof $==="string"?$:$.key};let Z=!1,K=void 0;for(let[F,Y]of W.pendingWrites)if(Y.has(X))Z=!0,K=Y.get(X);if(Z)return console.log(`get (cached) ${r(X)}`),K;const G=await W.getVersion(X);if(G===void 0)return;return this._getObject({ref:X,version:G})}async _getObject($){const J={Bucket:$.ref.bucket,Key:$.ref.key,...$.version&&{VersionId:$.version}};try{const Q=await this.s3Client.send(new P8(J));if(!Q.Body)return;else{const W=await Q.Body.transformToString("utf-8");return console.log(`GET ${$.ref.bucket}/${$.ref.key}@${$.version} => ${Q.VersionId}\n${W}`),JSON.parse(W)}}catch(Q){if(Q.name==="NoSuchKey")return;else throw Q}}async _getObject2($){const J={Bucket:$.ref.bucket,Key:$.ref.key,IfNoneMatch:$.ifNoneMatch,...$.version&&{VersionId:$.version}};try{const Q={...await this.s3Client.send(new P8(J)),data:void 0};if(Q.Body)Q.data=JSON.parse(await Q.Body.transformToString("utf-8")),console.log(`GET ${$.ref.bucket}/${$.ref.key}@${$.version} => ${Q.VersionId}\n${JSON.stringify(Q.data)}`);return Q}catch(Q){if(Q?.name==="304")return{$metadata:{httpStatusCode:304},data:void 0};else throw Q}}async delete($,J={}){return this.putAll(new Map([[$,void 0]]),J)}async put($,J,Q={}){return this.putAll(new Map([[$,J]]),Q)}async putAll($,J={}){const Q=new m1(r,[...$].map(([X,Z])=>[{bucket:X.bucket||this.config.defaultBucket||this.defaultManifest.bucket,key:typeof X==="string"?X:X.key},Z])),W=(J?.manifests||[this.defaultManifest]).map((X)=>({...this.defaultManifest,...X}));return this._putAll(Q,{manifests:W})}async _putAll($,J){const Q=new Promise(async(W)=>{const X=new Map,Z=[];$.forEach((K,G)=>{if(K!==void 0)Z.push(this._putObject({ref:G,value:K}).then((F)=>{if(F.VersionId===void 0||!F.VersionId.match(OG))throw console.error(F),Error(`Bucket ${G.bucket} is not version enabled!`);X.set(G,F.VersionId)}));else Z.push(this._deleteObject({ref:G}).then((F)=>{X.set(G,void 0)}))}),await Promise.all(Z),W(X)});await Promise.all(J.manifests.map((W)=>{return this.getOrCreateManifest(W).updateContent($,Q)}))}async _putObject($){console.log(`putObject ${r($.ref)}`);const J=JSON.stringify($.value,null,2),Q=await g2(J),W={Bucket:$.ref.bucket,Key:$.ref.key,ContentType:"application/json",Body:J,ChecksumSHA256:Q},X=await this.s3Client.send(new x1(W));return console.log(`PUT ${$.ref.bucket}/${$.ref.key} => ${X.VersionId}\n${J}`),X}async _deleteObject($){const J={Bucket:$.ref.bucket,Key:$.ref.key},Q=await this.s3Client.send(new P1(J));return console.log(`DELETE ${$.ref.bucket}/${$.ref.key} => ${Q.VersionId}`),Q}subscribe($,J,Q){const W={...this.defaultManifest,...Q?.manifest},X={key:$,bucket:Q?.bucket||this.config.defaultBucket||W.bucket},Z=this.getOrCreateManifest(W),K=Z.subscribe(X,J);return this.get(X,{manifest:W}).then((G)=>{console.log(`NOTIFY (initial) ${r(X)}`),queueMicrotask(()=>{J(G),Z.poll()})}),K}refresh(){return Promise.all([...this.manifests.values()].map(($)=>$.poll()))}get subscriberCount(){return[...this.manifests.values()].reduce(($,J)=>$+J.subscriberCount,0)}}export{v2 as MPS3};
