var NG=Object.create;var{defineProperty:Q8,getPrototypeOf:kG,getOwnPropertyNames:EQ,getOwnPropertyDescriptor:_G}=Object,NQ=Object.prototype.hasOwnProperty;var G0=($,J,Q)=>{Q=$!=null?NG(kG($)):{};const W=J||!$||!$.__esModule?Q8(Q,"default",{value:$,enumerable:!0}):Q;for(let X of EQ($))if(!NQ.call(W,X))Q8(W,X,{get:()=>$[X],enumerable:!0});return W},a=($)=>{const J=a.moduleCache??=new WeakMap;var Q=J.get($);if(Q)return Q;var W=Q8({},"__esModule",{value:!0}),X={enumerable:!1};if($&&typeof $==="object"||typeof $==="function"){for(let Z of EQ($))if(!NQ.call(W,Z))Q8(W,Z,{get:()=>$[Z],enumerable:!(X=_G($,Z))||X.enumerable})}return J.set($,W),W};var M=($,J)=>()=>(J||$((J={exports:{}}).exports,J),J.exports);var fG=($)=>{return import.meta.require($)};var K0=($,J)=>{for(var Q in J)Q8($,Q,{get:J[Q],enumerable:!0,configurable:!0,set:(W)=>J[Q]=()=>W})};var E0=($,J)=>()=>($&&(J=$($=0)),J);var n1={};K0(n1,{__values:()=>{{return a1}},__spreadArrays:()=>{{return Z9}},__spread:()=>{{return X9}},__rest:()=>{{return uG}},__read:()=>{{return lQ}},__param:()=>{{return eG}},__metadata:()=>{{return tG}},__makeTemplateObject:()=>{{return F9}},__importStar:()=>{{return z9}},__importDefault:()=>{{return V9}},__generator:()=>{{return J9}},__extends:()=>{{return nG}},__exportStar:()=>{{return W9}},__decorate:()=>{{return oG}},__createBinding:()=>{{return Q9}},__classPrivateFieldSet:()=>{{return I9}},__classPrivateFieldGet:()=>{{return U9}},__awaiter:()=>{{return $9}},__await:()=>{{return W8}},__asyncValues:()=>{{return Y9}},__asyncGenerator:()=>{{return G9}},__asyncDelegator:()=>{{return K9}},__assign:()=>{{return p1}}});function nG($,J){i1($,J);function Q(){this.constructor=$}$.prototype=J===null?Object.create(J):(Q.prototype=J.prototype,new Q)}function uG($,J){var Q={};for(var W in $)if(Object.prototype.hasOwnProperty.call($,W)&&J.indexOf(W)<0)Q[W]=$[W];if($!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var X=0,W=Object.getOwnPropertySymbols($);X<W.length;X++)if(J.indexOf(W[X])<0&&Object.prototype.propertyIsEnumerable.call($,W[X]))Q[W[X]]=$[W[X]]}return Q}function oG($,J,Q,W){var X=arguments.length,Z=X<3?J:W===null?W=Object.getOwnPropertyDescriptor(J,Q):W,K;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate($,J,Q,W);else for(var G=$.length-1;G>=0;G--)if(K=$[G])Z=(X<3?K(Z):X>3?K(J,Q,Z):K(J,Q))||Z;return X>3&&Z&&Object.defineProperty(J,Q,Z),Z}function eG($,J){return function(Q,W){J(Q,W,$)}}function tG($,J){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata($,J)}function $9($,J,Q,W){function X(Z){return Z instanceof Q?Z:new Q(function(K){K(Z)})}return new(Q||(Q=Promise))(function(Z,K){function G(V){try{Y(W.next(V))}catch(U){K(U)}}function F(V){try{Y(W.throw(V))}catch(U){K(U)}}function Y(V){V.done?Z(V.value):X(V.value).then(G,F)}Y((W=W.apply($,J||[])).next())})}function J9($,J){var Q={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},W,X,Z,K;return K={next:G(0),throw:G(1),return:G(2)},typeof Symbol==="function"&&(K[Symbol.iterator]=function(){return this}),K;function G(Y){return function(V){return F([Y,V])}}function F(Y){if(W)throw new TypeError("Generator is already executing.");while(Q)try{if(W=1,X&&(Z=Y[0]&2?X.return:Y[0]?X.throw||((Z=X.return)&&Z.call(X),0):X.next)&&!(Z=Z.call(X,Y[1])).done)return Z;if(X=0,Z)Y=[Y[0]&2,Z.value];switch(Y[0]){case 0:case 1:Z=Y;break;case 4:return Q.label++,{value:Y[1],done:!1};case 5:Q.label++,X=Y[1],Y=[0];continue;case 7:Y=Q.ops.pop(),Q.trys.pop();continue;default:if((Z=Q.trys,!(Z=Z.length>0&&Z[Z.length-1]))&&(Y[0]===6||Y[0]===2)){Q=0;continue}if(Y[0]===3&&(!Z||Y[1]>Z[0]&&Y[1]<Z[3])){Q.label=Y[1];break}if(Y[0]===6&&Q.label<Z[1]){Q.label=Z[1],Z=Y;break}if(Z&&Q.label<Z[2]){Q.label=Z[2],Q.ops.push(Y);break}if(Z[2])Q.ops.pop();Q.trys.pop();continue}Y=J.call($,Q)}catch(V){Y=[6,V],X=0}finally{W=Z=0}if(Y[0]&5)throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}}function Q9($,J,Q,W){if(W===void 0)W=Q;$[W]=J[Q]}function W9($,J){for(var Q in $)if(Q!=="default"&&!J.hasOwnProperty(Q))J[Q]=$[Q]}function a1($){var J=typeof Symbol==="function"&&Symbol.iterator,Q=J&&$[J],W=0;if(Q)return Q.call($);if($&&typeof $.length==="number")return{next:function(){if($&&W>=$.length)$=void 0;return{value:$&&$[W++],done:!$}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function lQ($,J){var Q=typeof Symbol==="function"&&$[Symbol.iterator];if(!Q)return $;var W=Q.call($),X,Z=[],K;try{while((J===void 0||J-- >0)&&!(X=W.next()).done)Z.push(X.value)}catch(G){K={error:G}}finally{try{if(X&&!X.done&&(Q=W.return))Q.call(W)}finally{if(K)throw K.error}}return Z}function X9(){for(var $=[],J=0;J<arguments.length;J++)$=$.concat(lQ(arguments[J]));return $}function Z9(){for(var $=0,J=0,Q=arguments.length;J<Q;J++)$+=arguments[J].length;for(var W=Array($),X=0,J=0;J<Q;J++)for(var Z=arguments[J],K=0,G=Z.length;K<G;K++,X++)W[X]=Z[K];return W}function W8($){return this instanceof W8?(this.v=$,this):new W8($)}function G9($,J,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=Q.apply($,J||[]),X,Z=[];return X={},K("next"),K("throw"),K("return"),X[Symbol.asyncIterator]=function(){return this},X;function K(z){if(W[z])X[z]=function(I){return new Promise(function(B,L){Z.push([z,I,B,L])>1||G(z,I)})}}function G(z,I){try{F(W[z](I))}catch(B){U(Z[0][3],B)}}function F(z){z.value instanceof W8?Promise.resolve(z.value.v).then(Y,V):U(Z[0][2],z)}function Y(z){G("next",z)}function V(z){G("throw",z)}function U(z,I){if(z(I),Z.shift(),Z.length)G(Z[0][0],Z[0][1])}}function K9($){var J,Q;return J={},W("next"),W("throw",function(X){throw X}),W("return"),J[Symbol.iterator]=function(){return this},J;function W(X,Z){J[X]=$[X]?function(K){return(Q=!Q)?{value:W8($[X](K)),done:X==="return"}:Z?Z(K):K}:Z}}function Y9($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=$[Symbol.asyncIterator],Q;return J?J.call($):($=typeof a1==="function"?a1($):$[Symbol.iterator](),Q={},W("next"),W("throw"),W("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function W(Z){Q[Z]=$[Z]&&function(K){return new Promise(function(G,F){K=$[Z](K),X(G,F,K.done,K.value)})}}function X(Z,K,G,F){Promise.resolve(F).then(function(Y){Z({value:Y,done:G})},K)}}function F9($,J){if(Object.defineProperty)Object.defineProperty($,"raw",{value:J});else $.raw=J;return $}function z9($){if($&&$.__esModule)return $;var J={};if($!=null){for(var Q in $)if(Object.hasOwnProperty.call($,Q))J[Q]=$[Q]}return J.default=$,J}function V9($){return $&&$.__esModule?$:{default:$}}function U9($,J){if(!J.has($))throw new TypeError("attempted to get private field on non-instance");return J.get($)}function I9($,J,Q){if(!J.has($))throw new TypeError("attempted to set private field on non-instance");return J.set($,Q),Q}var i1,p1;var u1=E0(()=>{/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */i1=function($,J){return i1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,W){Q.__proto__=W}||function(Q,W){for(var X in W)if(W.hasOwnProperty(X))Q[X]=W[X]},i1($,J)},p1=function(){return p1=Object.assign||function $(J){for(var Q,W=1,X=arguments.length;W<X;W++){Q=arguments[W];for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z))J[Z]=Q[Z]}return J},p1.apply(this,arguments)}});var sQ=M((cQ)=>{Object.defineProperty(cQ,"__esModule",{value:!0});cQ.toUtf8=cQ.fromUtf8=void 0;var B9=($)=>{const J=[];for(let Q=0,W=$.length;Q<W;Q++){const X=$.charCodeAt(Q);if(X<128)J.push(X);else if(X<2048)J.push(X>>6|192,X&63|128);else if(Q+1<$.length&&(X&64512)===55296&&($.charCodeAt(Q+1)&64512)===56320){const Z=65536+((X&1023)<<10)+($.charCodeAt(++Q)&1023);J.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,Z&63|128)}else J.push(X>>12|224,X>>6&63|128,X&63|128)}return Uint8Array.from(J)};cQ.fromUtf8=B9;var L9=($)=>{let J="";for(let Q=0,W=$.length;Q<W;Q++){const X=$[Q];if(X<128)J+=String.fromCharCode(X);else if(192<=X&&X<224){const Z=$[++Q];J+=String.fromCharCode((X&31)<<6|Z&63)}else if(240<=X&&X<365){const K="%"+[X,$[++Q],$[++Q],$[++Q]].map((G)=>G.toString(16)).join("%");J+=decodeURIComponent(K)}else J+=String.fromCharCode((X&15)<<12|($[++Q]&63)<<6|$[++Q]&63)}return J};cQ.toUtf8=L9});var pQ=M((rQ)=>{var q9=function($){return(new TextEncoder()).encode($)},w9=function($){return new TextDecoder("utf-8").decode($)};Object.defineProperty(rQ,"__esModule",{value:!0});rQ.toUtf8=rQ.fromUtf8=void 0;rQ.fromUtf8=q9;rQ.toUtf8=w9});var X8=M((uQ)=>{Object.defineProperty(uQ,"__esModule",{value:!0});uQ.toUtf8=uQ.fromUtf8=void 0;var aQ=sQ(),nQ=pQ(),C9=($)=>typeof TextEncoder==="function"?(0,nQ.fromUtf8)($):(0,aQ.fromUtf8)($);uQ.fromUtf8=C9;var R9=($)=>typeof TextDecoder==="function"?(0,nQ.toUtf8)($):(0,aQ.toUtf8)($);uQ.toUtf8=R9});var $W=M((eQ)=>{var j9=function($){if($ instanceof Uint8Array)return $;if(typeof $==="string")return O9($);if(ArrayBuffer.isView($))return new Uint8Array($.buffer,$.byteOffset,$.byteLength/Uint8Array.BYTES_PER_ELEMENT);return new Uint8Array($)};Object.defineProperty(eQ,"__esModule",{value:!0});eQ.convertToBuffer=void 0;var A9=X8(),O9=typeof Buffer!=="undefined"&&Buffer.from?function($){return Buffer.from($,"utf8")}:A9.fromUtf8;eQ.convertToBuffer=j9});var WW=M((JW)=>{var D9=function($){if(typeof $==="string")return $.length===0;return $.byteLength===0};Object.defineProperty(JW,"__esModule",{value:!0});JW.isEmptyData=void 0;JW.isEmptyData=D9});var GW=M((XW)=>{var S9=function($){return new Uint8Array([($&4278190080)>>24,($&16711680)>>16,($&65280)>>8,$&255])};Object.defineProperty(XW,"__esModule",{value:!0});XW.numToUint8=void 0;XW.numToUint8=S9});var FW=M((KW)=>{var E9=function($){if(!Uint32Array.from){var J=new Uint32Array($.length),Q=0;while(Q<$.length)J[Q]=$[Q],Q+=1;return J}return Uint32Array.from($)};Object.defineProperty(KW,"__esModule",{value:!0});KW.uint32ArrayFrom=void 0;KW.uint32ArrayFrom=E9});var Y0=M((d0)=>{Object.defineProperty(d0,"__esModule",{value:!0});d0.uint32ArrayFrom=d0.numToUint8=d0.isEmptyData=d0.convertToBuffer=void 0;var N9=$W();Object.defineProperty(d0,"convertToBuffer",{enumerable:!0,get:function(){return N9.convertToBuffer}});var k9=WW();Object.defineProperty(d0,"isEmptyData",{enumerable:!0,get:function(){return k9.isEmptyData}});var _9=GW();Object.defineProperty(d0,"numToUint8",{enumerable:!0,get:function(){return _9.numToUint8}});var f9=FW();Object.defineProperty(d0,"uint32ArrayFrom",{enumerable:!0,get:function(){return f9.uint32ArrayFrom}})});var BW=M((UW)=>{Object.defineProperty(UW,"__esModule",{value:!0});UW.AwsCrc32=void 0;var zW=(u1(),a(n1)),o1=Y0(),VW=Z8(),h9=function(){function $(){this.crc32=new VW.Crc32}return $.prototype.update=function(J){if((0,o1.isEmptyData)(J))return;this.crc32.update((0,o1.convertToBuffer)(J))},$.prototype.digest=function(){return zW.__awaiter(this,void 0,void 0,function(){return zW.__generator(this,function(J){return[2,(0,o1.numToUint8)(this.crc32.digest())]})})},$.prototype.reset=function(){this.crc32=new VW.Crc32},$}();UW.AwsCrc32=h9});var Z8=M((e1)=>{var y9=function($){return new LW().update($).digest()};Object.defineProperty(e1,"__esModule",{value:!0});e1.AwsCrc32=e1.Crc32=e1.crc32=void 0;var g9=(u1(),a(n1)),v9=Y0();e1.crc32=y9;var LW=function(){function $(){this.checksum=4294967295}return $.prototype.update=function(J){var Q,W;try{for(var X=g9.__values(J),Z=X.next();!Z.done;Z=X.next()){var K=Z.value;this.checksum=this.checksum>>>8^x9[(this.checksum^K)&255]}}catch(G){Q={error:G}}finally{try{if(Z&&!Z.done&&(W=X.return))W.call(X)}finally{if(Q)throw Q.error}}return this},$.prototype.digest=function(){return(this.checksum^4294967295)>>>0},$}();e1.Crc32=LW;var b9=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918000,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],x9=(0,v9.uint32ArrayFrom)(b9),m9=BW();Object.defineProperty(e1,"AwsCrc32",{enumerable:!0,get:function(){return m9.AwsCrc32}})});var B4={};K0(B4,{__values:()=>{{return a$}},__spreadArrays:()=>{{return DK}},__spread:()=>{{return jK}},__rest:()=>{{return qK}},__read:()=>{{return I4}},__param:()=>{{return HK}},__metadata:()=>{{return CK}},__makeTemplateObject:()=>{{return kK}},__importStar:()=>{{return _K}},__importDefault:()=>{{return fK}},__generator:()=>{{return TK}},__extends:()=>{{return MK}},__exportStar:()=>{{return OK}},__decorate:()=>{{return wK}},__createBinding:()=>{{return AK}},__classPrivateFieldSet:()=>{{return hK}},__classPrivateFieldGet:()=>{{return PK}},__awaiter:()=>{{return RK}},__await:()=>{{return B8}},__asyncValues:()=>{{return NK}},__asyncGenerator:()=>{{return SK}},__asyncDelegator:()=>{{return EK}},__assign:()=>{{return p$}}});function MK($,J){i$($,J);function Q(){this.constructor=$}$.prototype=J===null?Object.create(J):(Q.prototype=J.prototype,new Q)}function qK($,J){var Q={};for(var W in $)if(Object.prototype.hasOwnProperty.call($,W)&&J.indexOf(W)<0)Q[W]=$[W];if($!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var X=0,W=Object.getOwnPropertySymbols($);X<W.length;X++)if(J.indexOf(W[X])<0&&Object.prototype.propertyIsEnumerable.call($,W[X]))Q[W[X]]=$[W[X]]}return Q}function wK($,J,Q,W){var X=arguments.length,Z=X<3?J:W===null?W=Object.getOwnPropertyDescriptor(J,Q):W,K;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate($,J,Q,W);else for(var G=$.length-1;G>=0;G--)if(K=$[G])Z=(X<3?K(Z):X>3?K(J,Q,Z):K(J,Q))||Z;return X>3&&Z&&Object.defineProperty(J,Q,Z),Z}function HK($,J){return function(Q,W){J(Q,W,$)}}function CK($,J){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata($,J)}function RK($,J,Q,W){function X(Z){return Z instanceof Q?Z:new Q(function(K){K(Z)})}return new(Q||(Q=Promise))(function(Z,K){function G(V){try{Y(W.next(V))}catch(U){K(U)}}function F(V){try{Y(W.throw(V))}catch(U){K(U)}}function Y(V){V.done?Z(V.value):X(V.value).then(G,F)}Y((W=W.apply($,J||[])).next())})}function TK($,J){var Q={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},W,X,Z,K;return K={next:G(0),throw:G(1),return:G(2)},typeof Symbol==="function"&&(K[Symbol.iterator]=function(){return this}),K;function G(Y){return function(V){return F([Y,V])}}function F(Y){if(W)throw new TypeError("Generator is already executing.");while(Q)try{if(W=1,X&&(Z=Y[0]&2?X.return:Y[0]?X.throw||((Z=X.return)&&Z.call(X),0):X.next)&&!(Z=Z.call(X,Y[1])).done)return Z;if(X=0,Z)Y=[Y[0]&2,Z.value];switch(Y[0]){case 0:case 1:Z=Y;break;case 4:return Q.label++,{value:Y[1],done:!1};case 5:Q.label++,X=Y[1],Y=[0];continue;case 7:Y=Q.ops.pop(),Q.trys.pop();continue;default:if((Z=Q.trys,!(Z=Z.length>0&&Z[Z.length-1]))&&(Y[0]===6||Y[0]===2)){Q=0;continue}if(Y[0]===3&&(!Z||Y[1]>Z[0]&&Y[1]<Z[3])){Q.label=Y[1];break}if(Y[0]===6&&Q.label<Z[1]){Q.label=Z[1],Z=Y;break}if(Z&&Q.label<Z[2]){Q.label=Z[2],Q.ops.push(Y);break}if(Z[2])Q.ops.pop();Q.trys.pop();continue}Y=J.call($,Q)}catch(V){Y=[6,V],X=0}finally{W=Z=0}if(Y[0]&5)throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}}function AK($,J,Q,W){if(W===void 0)W=Q;$[W]=J[Q]}function OK($,J){for(var Q in $)if(Q!=="default"&&!J.hasOwnProperty(Q))J[Q]=$[Q]}function a$($){var J=typeof Symbol==="function"&&Symbol.iterator,Q=J&&$[J],W=0;if(Q)return Q.call($);if($&&typeof $.length==="number")return{next:function(){if($&&W>=$.length)$=void 0;return{value:$&&$[W++],done:!$}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function I4($,J){var Q=typeof Symbol==="function"&&$[Symbol.iterator];if(!Q)return $;var W=Q.call($),X,Z=[],K;try{while((J===void 0||J-- >0)&&!(X=W.next()).done)Z.push(X.value)}catch(G){K={error:G}}finally{try{if(X&&!X.done&&(Q=W.return))Q.call(W)}finally{if(K)throw K.error}}return Z}function jK(){for(var $=[],J=0;J<arguments.length;J++)$=$.concat(I4(arguments[J]));return $}function DK(){for(var $=0,J=0,Q=arguments.length;J<Q;J++)$+=arguments[J].length;for(var W=Array($),X=0,J=0;J<Q;J++)for(var Z=arguments[J],K=0,G=Z.length;K<G;K++,X++)W[X]=Z[K];return W}function B8($){return this instanceof B8?(this.v=$,this):new B8($)}function SK($,J,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=Q.apply($,J||[]),X,Z=[];return X={},K("next"),K("throw"),K("return"),X[Symbol.asyncIterator]=function(){return this},X;function K(z){if(W[z])X[z]=function(I){return new Promise(function(B,L){Z.push([z,I,B,L])>1||G(z,I)})}}function G(z,I){try{F(W[z](I))}catch(B){U(Z[0][3],B)}}function F(z){z.value instanceof B8?Promise.resolve(z.value.v).then(Y,V):U(Z[0][2],z)}function Y(z){G("next",z)}function V(z){G("throw",z)}function U(z,I){if(z(I),Z.shift(),Z.length)G(Z[0][0],Z[0][1])}}function EK($){var J,Q;return J={},W("next"),W("throw",function(X){throw X}),W("return"),J[Symbol.iterator]=function(){return this},J;function W(X,Z){J[X]=$[X]?function(K){return(Q=!Q)?{value:B8($[X](K)),done:X==="return"}:Z?Z(K):K}:Z}}function NK($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=$[Symbol.asyncIterator],Q;return J?J.call($):($=typeof a$==="function"?a$($):$[Symbol.iterator](),Q={},W("next"),W("throw"),W("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function W(Z){Q[Z]=$[Z]&&function(K){return new Promise(function(G,F){K=$[Z](K),X(G,F,K.done,K.value)})}}function X(Z,K,G,F){Promise.resolve(F).then(function(Y){Z({value:Y,done:G})},K)}}function kK($,J){if(Object.defineProperty)Object.defineProperty($,"raw",{value:J});else $.raw=J;return $}function _K($){if($&&$.__esModule)return $;var J={};if($!=null){for(var Q in $)if(Object.hasOwnProperty.call($,Q))J[Q]=$[Q]}return J.default=$,J}function fK($){return $&&$.__esModule?$:{default:$}}function PK($,J){if(!J.has($))throw new TypeError("attempted to get private field on non-instance");return J.get($)}function hK($,J,Q){if(!J.has($))throw new TypeError("attempted to set private field on non-instance");return J.set($,Q),Q}var i$,p$;var L4=E0(()=>{/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */i$=function($,J){return i$=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,W){Q.__proto__=W}||function(Q,W){for(var X in W)if(W.hasOwnProperty(X))Q[X]=W[X]},i$($,J)},p$=function(){return p$=Object.assign||function $(J){for(var Q,W=1,X=arguments.length;W<X;W++){Q=arguments[W];for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z))J[Z]=Q[Z]}return J},p$.apply(this,arguments)}});var n$=M((M4)=>{var gK=function($){if(typeof $==="string")return $.length===0;return $.byteLength===0};Object.defineProperty(M4,"__esModule",{value:!0});M4.isEmptyData=void 0;M4.isEmptyData=gK});var u$=M((w4)=>{Object.defineProperty(w4,"__esModule",{value:!0});w4.EMPTY_DATA_SHA_1=w4.SHA_1_HMAC_ALGO=w4.SHA_1_HASH=void 0;w4.SHA_1_HASH={name:"SHA-1"};w4.SHA_1_HMAC_ALGO={name:"HMAC",hash:w4.SHA_1_HASH};w4.EMPTY_DATA_SHA_1=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9])});var v0=M((R4)=>{var bK=function(){if(typeof window!=="undefined")return window;else if(typeof self!=="undefined")return self;return yK};Object.defineProperty(R4,"__esModule",{value:!0});R4.locateWindow=void 0;var yK={};R4.locateWindow=bK});var e$=M((j4)=>{var cK=function($){return new Promise(function(J,Q){var W=(0,o$.locateWindow)().msCrypto.subtle.importKey("raw",O4($),A4.SHA_1_HMAC_ALGO,!1,["sign"]);W.oncomplete=function(){if(W.result)J(W.result);Q(new Error("ImportKey completed without importing key."))},W.onerror=function(){Q(new Error("ImportKey failed to import key."))}})},O4=function($){if(typeof $==="string")return(0,mK.fromUtf8)($);if(ArrayBuffer.isView($))return new Uint8Array($.buffer,$.byteOffset,$.byteLength/Uint8Array.BYTES_PER_ELEMENT);return new Uint8Array($)};Object.defineProperty(j4,"__esModule",{value:!0});j4.Sha1=void 0;var xK=n$(),A4=u$(),mK=X8(),o$=v0(),lK=function(){function $(J){this.secret=J,this.reset()}return $.prototype.update=function(J){var Q=this;if((0,xK.isEmptyData)(J))return;this.operation=this.operation.then(function(W){return W.onerror=function(){Q.operation=Promise.reject(new Error("Error encountered updating hash"))},W.process(O4(J)),W}),this.operation.catch(function(){})},$.prototype.digest=function(){return this.operation.then(function(J){return new Promise(function(Q,W){J.onerror=function(){W(new Error("Error encountered finalizing hash"))},J.oncomplete=function(){if(J.result)Q(new Uint8Array(J.result));W(new Error("Error encountered finalizing hash"))},J.finish()})})},$.prototype.reset=function(){if(this.secret)this.operation=cK(this.secret).then(function(J){return(0,o$.locateWindow)().msCrypto.subtle.sign(A4.SHA_1_HMAC_ALGO,J)}),this.operation.catch(function(){});else this.operation=Promise.resolve((0,o$.locateWindow)().msCrypto.subtle.digest("SHA-1"))},$}();j4.Sha1=lK});var $J=M((N4)=>{var E4=function($){if(typeof $==="string")return(0,dK.fromUtf8)($);if(ArrayBuffer.isView($))return new Uint8Array($.buffer,$.byteOffset,$.byteLength/Uint8Array.BYTES_PER_ELEMENT);return new Uint8Array($)};Object.defineProperty(N4,"__esModule",{value:!0});N4.Sha1=void 0;var dK=X8(),S4=n$(),I1=u$(),t$=v0(),sK=function(){function $(J){if(this.toHash=new Uint8Array(0),J!==void 0)this.key=new Promise(function(Q,W){(0,t$.locateWindow)().crypto.subtle.importKey("raw",E4(J),I1.SHA_1_HMAC_ALGO,!1,["sign"]).then(Q,W)}),this.key.catch(function(){})}return $.prototype.update=function(J){if((0,S4.isEmptyData)(J))return;var Q=E4(J),W=new Uint8Array(this.toHash.byteLength+Q.byteLength);W.set(this.toHash,0),W.set(Q,this.toHash.byteLength),this.toHash=W},$.prototype.digest=function(){var J=this;if(this.key)return this.key.then(function(Q){return(0,t$.locateWindow)().crypto.subtle.sign(I1.SHA_1_HMAC_ALGO,Q,J.toHash).then(function(W){return new Uint8Array(W)})});if((0,S4.isEmptyData)(this.toHash))return Promise.resolve(I1.EMPTY_DATA_SHA_1);return Promise.resolve().then(function(){return(0,t$.locateWindow)().crypto.subtle.digest(I1.SHA_1_HASH,J.toHash)}).then(function(Q){return Promise.resolve(new Uint8Array(Q))})},$.prototype.reset=function(){this.toHash=new Uint8Array(0)},$}();N4.Sha1=sK});var XJ={};K0(XJ,{__values:()=>{{return WJ}},__spreadArrays:()=>{{return JY}},__spread:()=>{{return $Y}},__rest:()=>{{return iK}},__read:()=>{{return _4}},__param:()=>{{return aK}},__metadata:()=>{{return nK}},__makeTemplateObject:()=>{{return ZY}},__importStar:()=>{{return GY}},__importDefault:()=>{{return KY}},__generator:()=>{{return oK}},__extends:()=>{{return rK}},__exportStar:()=>{{return tK}},__decorate:()=>{{return pK}},__createBinding:()=>{{return eK}},__classPrivateFieldSet:()=>{{return FY}},__classPrivateFieldGet:()=>{{return YY}},__awaiter:()=>{{return uK}},__await:()=>{{return L8}},__asyncValues:()=>{{return XY}},__asyncGenerator:()=>{{return QY}},__asyncDelegator:()=>{{return WY}},__assign:()=>{{return QJ}}});function rK($,J){JJ($,J);function Q(){this.constructor=$}$.prototype=J===null?Object.create(J):(Q.prototype=J.prototype,new Q)}function iK($,J){var Q={};for(var W in $)if(Object.prototype.hasOwnProperty.call($,W)&&J.indexOf(W)<0)Q[W]=$[W];if($!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var X=0,W=Object.getOwnPropertySymbols($);X<W.length;X++)if(J.indexOf(W[X])<0&&Object.prototype.propertyIsEnumerable.call($,W[X]))Q[W[X]]=$[W[X]]}return Q}function pK($,J,Q,W){var X=arguments.length,Z=X<3?J:W===null?W=Object.getOwnPropertyDescriptor(J,Q):W,K;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate($,J,Q,W);else for(var G=$.length-1;G>=0;G--)if(K=$[G])Z=(X<3?K(Z):X>3?K(J,Q,Z):K(J,Q))||Z;return X>3&&Z&&Object.defineProperty(J,Q,Z),Z}function aK($,J){return function(Q,W){J(Q,W,$)}}function nK($,J){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata($,J)}function uK($,J,Q,W){function X(Z){return Z instanceof Q?Z:new Q(function(K){K(Z)})}return new(Q||(Q=Promise))(function(Z,K){function G(V){try{Y(W.next(V))}catch(U){K(U)}}function F(V){try{Y(W.throw(V))}catch(U){K(U)}}function Y(V){V.done?Z(V.value):X(V.value).then(G,F)}Y((W=W.apply($,J||[])).next())})}function oK($,J){var Q={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},W,X,Z,K;return K={next:G(0),throw:G(1),return:G(2)},typeof Symbol==="function"&&(K[Symbol.iterator]=function(){return this}),K;function G(Y){return function(V){return F([Y,V])}}function F(Y){if(W)throw new TypeError("Generator is already executing.");while(Q)try{if(W=1,X&&(Z=Y[0]&2?X.return:Y[0]?X.throw||((Z=X.return)&&Z.call(X),0):X.next)&&!(Z=Z.call(X,Y[1])).done)return Z;if(X=0,Z)Y=[Y[0]&2,Z.value];switch(Y[0]){case 0:case 1:Z=Y;break;case 4:return Q.label++,{value:Y[1],done:!1};case 5:Q.label++,X=Y[1],Y=[0];continue;case 7:Y=Q.ops.pop(),Q.trys.pop();continue;default:if((Z=Q.trys,!(Z=Z.length>0&&Z[Z.length-1]))&&(Y[0]===6||Y[0]===2)){Q=0;continue}if(Y[0]===3&&(!Z||Y[1]>Z[0]&&Y[1]<Z[3])){Q.label=Y[1];break}if(Y[0]===6&&Q.label<Z[1]){Q.label=Z[1],Z=Y;break}if(Z&&Q.label<Z[2]){Q.label=Z[2],Q.ops.push(Y);break}if(Z[2])Q.ops.pop();Q.trys.pop();continue}Y=J.call($,Q)}catch(V){Y=[6,V],X=0}finally{W=Z=0}if(Y[0]&5)throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}}function eK($,J,Q,W){if(W===void 0)W=Q;$[W]=J[Q]}function tK($,J){for(var Q in $)if(Q!=="default"&&!J.hasOwnProperty(Q))J[Q]=$[Q]}function WJ($){var J=typeof Symbol==="function"&&Symbol.iterator,Q=J&&$[J],W=0;if(Q)return Q.call($);if($&&typeof $.length==="number")return{next:function(){if($&&W>=$.length)$=void 0;return{value:$&&$[W++],done:!$}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function _4($,J){var Q=typeof Symbol==="function"&&$[Symbol.iterator];if(!Q)return $;var W=Q.call($),X,Z=[],K;try{while((J===void 0||J-- >0)&&!(X=W.next()).done)Z.push(X.value)}catch(G){K={error:G}}finally{try{if(X&&!X.done&&(Q=W.return))Q.call(W)}finally{if(K)throw K.error}}return Z}function $Y(){for(var $=[],J=0;J<arguments.length;J++)$=$.concat(_4(arguments[J]));return $}function JY(){for(var $=0,J=0,Q=arguments.length;J<Q;J++)$+=arguments[J].length;for(var W=Array($),X=0,J=0;J<Q;J++)for(var Z=arguments[J],K=0,G=Z.length;K<G;K++,X++)W[X]=Z[K];return W}function L8($){return this instanceof L8?(this.v=$,this):new L8($)}function QY($,J,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=Q.apply($,J||[]),X,Z=[];return X={},K("next"),K("throw"),K("return"),X[Symbol.asyncIterator]=function(){return this},X;function K(z){if(W[z])X[z]=function(I){return new Promise(function(B,L){Z.push([z,I,B,L])>1||G(z,I)})}}function G(z,I){try{F(W[z](I))}catch(B){U(Z[0][3],B)}}function F(z){z.value instanceof L8?Promise.resolve(z.value.v).then(Y,V):U(Z[0][2],z)}function Y(z){G("next",z)}function V(z){G("throw",z)}function U(z,I){if(z(I),Z.shift(),Z.length)G(Z[0][0],Z[0][1])}}function WY($){var J,Q;return J={},W("next"),W("throw",function(X){throw X}),W("return"),J[Symbol.iterator]=function(){return this},J;function W(X,Z){J[X]=$[X]?function(K){return(Q=!Q)?{value:L8($[X](K)),done:X==="return"}:Z?Z(K):K}:Z}}function XY($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=$[Symbol.asyncIterator],Q;return J?J.call($):($=typeof WJ==="function"?WJ($):$[Symbol.iterator](),Q={},W("next"),W("throw"),W("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function W(Z){Q[Z]=$[Z]&&function(K){return new Promise(function(G,F){K=$[Z](K),X(G,F,K.done,K.value)})}}function X(Z,K,G,F){Promise.resolve(F).then(function(Y){Z({value:Y,done:G})},K)}}function ZY($,J){if(Object.defineProperty)Object.defineProperty($,"raw",{value:J});else $.raw=J;return $}function GY($){if($&&$.__esModule)return $;var J={};if($!=null){for(var Q in $)if(Object.hasOwnProperty.call($,Q))J[Q]=$[Q]}return J.default=$,J}function KY($){return $&&$.__esModule?$:{default:$}}function YY($,J){if(!J.has($))throw new TypeError("attempted to get private field on non-instance");return J.get($)}function FY($,J,Q){if(!J.has($))throw new TypeError("attempted to set private field on non-instance");return J.set($,Q),Q}var JJ,QJ;var ZJ=E0(()=>{/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */JJ=function($,J){return JJ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,W){Q.__proto__=W}||function(Q,W){for(var X in W)if(W.hasOwnProperty(X))Q[X]=W[X]},JJ($,J)},QJ=function(){return QJ=Object.assign||function $(J){for(var Q,W=1,X=arguments.length;W<X;W++){Q=arguments[W];for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z))J[Z]=Q[Z]}return J},QJ.apply(this,arguments)}});var v4=M((h4)=>{var VY=function($){if(P4($)&&typeof $.crypto.subtle==="object"){var J=$.crypto.subtle;return GJ(J)}return!1},P4=function($){if(typeof $==="object"&&typeof $.crypto==="object"){var J=$.crypto.getRandomValues;return typeof J==="function"}return!1},GJ=function($){return $&&zY.every(function(J){return typeof $[J]==="function"})},UY=function($){return f4.__awaiter(this,void 0,void 0,function(){var J,Q,W;return f4.__generator(this,function(X){switch(X.label){case 0:if(!GJ($))return[2,!1];X.label=1;case 1:return X.trys.push([1,4,,5]),[4,$.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return J=X.sent(),[4,$.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},J,new Uint8Array(0))];case 3:return Q=X.sent(),[2,Q.byteLength===16];case 4:return W=X.sent(),[2,!1];case 5:return[2]}})})};Object.defineProperty(h4,"__esModule",{value:!0});h4.supportsZeroByteGCM=h4.supportsSubtleCrypto=h4.supportsSecureRandom=h4.supportsWebCrypto=void 0;var f4=(ZJ(),a(XJ)),zY=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];h4.supportsWebCrypto=VY;h4.supportsSecureRandom=P4;h4.supportsSubtleCrypto=GJ;h4.supportsZeroByteGCM=UY});var YJ=M((KJ)=>{Object.defineProperty(KJ,"__esModule",{value:!0});var MY=(ZJ(),a(XJ));MY.__exportStar(v4(),KJ)});var b4={};K0(b4,{__values:()=>{{return VJ}},__spreadArrays:()=>{{return SY}},__spread:()=>{{return DY}},__rest:()=>{{return wY}},__read:()=>{{return y4}},__param:()=>{{return CY}},__metadata:()=>{{return RY}},__makeTemplateObject:()=>{{return _Y}},__importStar:()=>{{return fY}},__importDefault:()=>{{return PY}},__generator:()=>{{return AY}},__extends:()=>{{return qY}},__exportStar:()=>{{return jY}},__decorate:()=>{{return HY}},__createBinding:()=>{{return OY}},__classPrivateFieldSet:()=>{{return gY}},__classPrivateFieldGet:()=>{{return hY}},__awaiter:()=>{{return TY}},__await:()=>{{return M8}},__asyncValues:()=>{{return kY}},__asyncGenerator:()=>{{return EY}},__asyncDelegator:()=>{{return NY}},__assign:()=>{{return zJ}}});function qY($,J){FJ($,J);function Q(){this.constructor=$}$.prototype=J===null?Object.create(J):(Q.prototype=J.prototype,new Q)}function wY($,J){var Q={};for(var W in $)if(Object.prototype.hasOwnProperty.call($,W)&&J.indexOf(W)<0)Q[W]=$[W];if($!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var X=0,W=Object.getOwnPropertySymbols($);X<W.length;X++)if(J.indexOf(W[X])<0&&Object.prototype.propertyIsEnumerable.call($,W[X]))Q[W[X]]=$[W[X]]}return Q}function HY($,J,Q,W){var X=arguments.length,Z=X<3?J:W===null?W=Object.getOwnPropertyDescriptor(J,Q):W,K;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate($,J,Q,W);else for(var G=$.length-1;G>=0;G--)if(K=$[G])Z=(X<3?K(Z):X>3?K(J,Q,Z):K(J,Q))||Z;return X>3&&Z&&Object.defineProperty(J,Q,Z),Z}function CY($,J){return function(Q,W){J(Q,W,$)}}function RY($,J){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata($,J)}function TY($,J,Q,W){function X(Z){return Z instanceof Q?Z:new Q(function(K){K(Z)})}return new(Q||(Q=Promise))(function(Z,K){function G(V){try{Y(W.next(V))}catch(U){K(U)}}function F(V){try{Y(W.throw(V))}catch(U){K(U)}}function Y(V){V.done?Z(V.value):X(V.value).then(G,F)}Y((W=W.apply($,J||[])).next())})}function AY($,J){var Q={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},W,X,Z,K;return K={next:G(0),throw:G(1),return:G(2)},typeof Symbol==="function"&&(K[Symbol.iterator]=function(){return this}),K;function G(Y){return function(V){return F([Y,V])}}function F(Y){if(W)throw new TypeError("Generator is already executing.");while(Q)try{if(W=1,X&&(Z=Y[0]&2?X.return:Y[0]?X.throw||((Z=X.return)&&Z.call(X),0):X.next)&&!(Z=Z.call(X,Y[1])).done)return Z;if(X=0,Z)Y=[Y[0]&2,Z.value];switch(Y[0]){case 0:case 1:Z=Y;break;case 4:return Q.label++,{value:Y[1],done:!1};case 5:Q.label++,X=Y[1],Y=[0];continue;case 7:Y=Q.ops.pop(),Q.trys.pop();continue;default:if((Z=Q.trys,!(Z=Z.length>0&&Z[Z.length-1]))&&(Y[0]===6||Y[0]===2)){Q=0;continue}if(Y[0]===3&&(!Z||Y[1]>Z[0]&&Y[1]<Z[3])){Q.label=Y[1];break}if(Y[0]===6&&Q.label<Z[1]){Q.label=Z[1],Z=Y;break}if(Z&&Q.label<Z[2]){Q.label=Z[2],Q.ops.push(Y);break}if(Z[2])Q.ops.pop();Q.trys.pop();continue}Y=J.call($,Q)}catch(V){Y=[6,V],X=0}finally{W=Z=0}if(Y[0]&5)throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}}function OY($,J,Q,W){if(W===void 0)W=Q;$[W]=J[Q]}function jY($,J){for(var Q in $)if(Q!=="default"&&!J.hasOwnProperty(Q))J[Q]=$[Q]}function VJ($){var J=typeof Symbol==="function"&&Symbol.iterator,Q=J&&$[J],W=0;if(Q)return Q.call($);if($&&typeof $.length==="number")return{next:function(){if($&&W>=$.length)$=void 0;return{value:$&&$[W++],done:!$}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function y4($,J){var Q=typeof Symbol==="function"&&$[Symbol.iterator];if(!Q)return $;var W=Q.call($),X,Z=[],K;try{while((J===void 0||J-- >0)&&!(X=W.next()).done)Z.push(X.value)}catch(G){K={error:G}}finally{try{if(X&&!X.done&&(Q=W.return))Q.call(W)}finally{if(K)throw K.error}}return Z}function DY(){for(var $=[],J=0;J<arguments.length;J++)$=$.concat(y4(arguments[J]));return $}function SY(){for(var $=0,J=0,Q=arguments.length;J<Q;J++)$+=arguments[J].length;for(var W=Array($),X=0,J=0;J<Q;J++)for(var Z=arguments[J],K=0,G=Z.length;K<G;K++,X++)W[X]=Z[K];return W}function M8($){return this instanceof M8?(this.v=$,this):new M8($)}function EY($,J,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=Q.apply($,J||[]),X,Z=[];return X={},K("next"),K("throw"),K("return"),X[Symbol.asyncIterator]=function(){return this},X;function K(z){if(W[z])X[z]=function(I){return new Promise(function(B,L){Z.push([z,I,B,L])>1||G(z,I)})}}function G(z,I){try{F(W[z](I))}catch(B){U(Z[0][3],B)}}function F(z){z.value instanceof M8?Promise.resolve(z.value.v).then(Y,V):U(Z[0][2],z)}function Y(z){G("next",z)}function V(z){G("throw",z)}function U(z,I){if(z(I),Z.shift(),Z.length)G(Z[0][0],Z[0][1])}}function NY($){var J,Q;return J={},W("next"),W("throw",function(X){throw X}),W("return"),J[Symbol.iterator]=function(){return this},J;function W(X,Z){J[X]=$[X]?function(K){return(Q=!Q)?{value:M8($[X](K)),done:X==="return"}:Z?Z(K):K}:Z}}function kY($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=$[Symbol.asyncIterator],Q;return J?J.call($):($=typeof VJ==="function"?VJ($):$[Symbol.iterator](),Q={},W("next"),W("throw"),W("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function W(Z){Q[Z]=$[Z]&&function(K){return new Promise(function(G,F){K=$[Z](K),X(G,F,K.done,K.value)})}}function X(Z,K,G,F){Promise.resolve(F).then(function(Y){Z({value:Y,done:G})},K)}}function _Y($,J){if(Object.defineProperty)Object.defineProperty($,"raw",{value:J});else $.raw=J;return $}function fY($){if($&&$.__esModule)return $;var J={};if($!=null){for(var Q in $)if(Object.hasOwnProperty.call($,Q))J[Q]=$[Q]}return J.default=$,J}function PY($){return $&&$.__esModule?$:{default:$}}function hY($,J){if(!J.has($))throw new TypeError("attempted to get private field on non-instance");return J.get($)}function gY($,J,Q){if(!J.has($))throw new TypeError("attempted to set private field on non-instance");return J.set($,Q),Q}var FJ,zJ;var x4=E0(()=>{/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */FJ=function($,J){return FJ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,W){Q.__proto__=W}||function(Q,W){for(var X in W)if(W.hasOwnProperty(X))Q[X]=W[X]},FJ($,J)},zJ=function(){return zJ=Object.assign||function $(J){for(var Q,W=1,X=arguments.length;W<X;W++){Q=arguments[W];for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z))J[Z]=Q[Z]}return J},zJ.apply(this,arguments)}});var l4=M((m4)=>{Object.defineProperty(m4,"__esModule",{value:!0})});var d4=M((c4)=>{Object.defineProperty(c4,"__esModule",{value:!0})});var r4=M((s4)=>{Object.defineProperty(s4,"__esModule",{value:!0})});var p4=M((i4)=>{Object.defineProperty(i4,"__esModule",{value:!0})});var u4=M((a4)=>{var yY=function($){return("MSInputMethodContext"in $)&&("msCrypto"in $)},bY=function($){if(yY($)&&$.msCrypto.subtle!==void 0){var J=$.msCrypto,Q=J.getRandomValues,W=J.subtle;return vY.map(function(X){return W[X]}).concat(Q).every(function(X){return typeof X==="function"})}return!1};Object.defineProperty(a4,"__esModule",{value:!0});a4.isMsWindow=void 0;var vY=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];a4.isMsWindow=bY});var UJ=M((y0)=>{Object.defineProperty(y0,"__esModule",{value:!0});var q8=(x4(),a(b4));q8.__exportStar(l4(),y0);q8.__exportStar(d4(),y0);q8.__exportStar(r4(),y0);q8.__exportStar(p4(),y0);q8.__exportStar(u4(),y0)});var $6=M((e4)=>{Object.defineProperty(e4,"__esModule",{value:!0});e4.Sha1=void 0;var xY=e$(),mY=$J(),lY=YJ(),cY=UJ(),o4=v0(),dY=Y0(),sY=function(){function $(J){if((0,lY.supportsWebCrypto)((0,o4.locateWindow)()))this.hash=new mY.Sha1(J);else if((0,cY.isMsWindow)((0,o4.locateWindow)()))this.hash=new xY.Sha1(J);else throw new Error("SHA1 not supported")}return $.prototype.update=function(J,Q){this.hash.update((0,dY.convertToBuffer)(J))},$.prototype.digest=function(){return this.hash.digest()},$.prototype.reset=function(){this.hash.reset()},$}();e4.Sha1=sY});var J6=M((w8)=>{Object.defineProperty(w8,"__esModule",{value:!0});w8.WebCryptoSha1=w8.Ie11Sha1=void 0;var rY=(L4(),a(B4));rY.__exportStar($6(),w8);var iY=e$();Object.defineProperty(w8,"Ie11Sha1",{enumerable:!0,get:function(){return iY.Sha1}});var pY=$J();Object.defineProperty(w8,"WebCryptoSha1",{enumerable:!0,get:function(){return pY.Sha1}})});var W6={};K0(W6,{__values:()=>{{return LJ}},__spreadArrays:()=>{{return ZF}},__spread:()=>{{return XF}},__rest:()=>{{return uY}},__read:()=>{{return Q6}},__param:()=>{{return eY}},__metadata:()=>{{return tY}},__makeTemplateObject:()=>{{return FF}},__importStar:()=>{{return zF}},__importDefault:()=>{{return VF}},__generator:()=>{{return JF}},__extends:()=>{{return nY}},__exportStar:()=>{{return WF}},__decorate:()=>{{return oY}},__createBinding:()=>{{return QF}},__classPrivateFieldSet:()=>{{return IF}},__classPrivateFieldGet:()=>{{return UF}},__awaiter:()=>{{return $F}},__await:()=>{{return H8}},__asyncValues:()=>{{return YF}},__asyncGenerator:()=>{{return GF}},__asyncDelegator:()=>{{return KF}},__assign:()=>{{return BJ}}});function nY($,J){IJ($,J);function Q(){this.constructor=$}$.prototype=J===null?Object.create(J):(Q.prototype=J.prototype,new Q)}function uY($,J){var Q={};for(var W in $)if(Object.prototype.hasOwnProperty.call($,W)&&J.indexOf(W)<0)Q[W]=$[W];if($!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var X=0,W=Object.getOwnPropertySymbols($);X<W.length;X++)if(J.indexOf(W[X])<0&&Object.prototype.propertyIsEnumerable.call($,W[X]))Q[W[X]]=$[W[X]]}return Q}function oY($,J,Q,W){var X=arguments.length,Z=X<3?J:W===null?W=Object.getOwnPropertyDescriptor(J,Q):W,K;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate($,J,Q,W);else for(var G=$.length-1;G>=0;G--)if(K=$[G])Z=(X<3?K(Z):X>3?K(J,Q,Z):K(J,Q))||Z;return X>3&&Z&&Object.defineProperty(J,Q,Z),Z}function eY($,J){return function(Q,W){J(Q,W,$)}}function tY($,J){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata($,J)}function $F($,J,Q,W){function X(Z){return Z instanceof Q?Z:new Q(function(K){K(Z)})}return new(Q||(Q=Promise))(function(Z,K){function G(V){try{Y(W.next(V))}catch(U){K(U)}}function F(V){try{Y(W.throw(V))}catch(U){K(U)}}function Y(V){V.done?Z(V.value):X(V.value).then(G,F)}Y((W=W.apply($,J||[])).next())})}function JF($,J){var Q={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},W,X,Z,K;return K={next:G(0),throw:G(1),return:G(2)},typeof Symbol==="function"&&(K[Symbol.iterator]=function(){return this}),K;function G(Y){return function(V){return F([Y,V])}}function F(Y){if(W)throw new TypeError("Generator is already executing.");while(Q)try{if(W=1,X&&(Z=Y[0]&2?X.return:Y[0]?X.throw||((Z=X.return)&&Z.call(X),0):X.next)&&!(Z=Z.call(X,Y[1])).done)return Z;if(X=0,Z)Y=[Y[0]&2,Z.value];switch(Y[0]){case 0:case 1:Z=Y;break;case 4:return Q.label++,{value:Y[1],done:!1};case 5:Q.label++,X=Y[1],Y=[0];continue;case 7:Y=Q.ops.pop(),Q.trys.pop();continue;default:if((Z=Q.trys,!(Z=Z.length>0&&Z[Z.length-1]))&&(Y[0]===6||Y[0]===2)){Q=0;continue}if(Y[0]===3&&(!Z||Y[1]>Z[0]&&Y[1]<Z[3])){Q.label=Y[1];break}if(Y[0]===6&&Q.label<Z[1]){Q.label=Z[1],Z=Y;break}if(Z&&Q.label<Z[2]){Q.label=Z[2],Q.ops.push(Y);break}if(Z[2])Q.ops.pop();Q.trys.pop();continue}Y=J.call($,Q)}catch(V){Y=[6,V],X=0}finally{W=Z=0}if(Y[0]&5)throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}}function QF($,J,Q,W){if(W===void 0)W=Q;$[W]=J[Q]}function WF($,J){for(var Q in $)if(Q!=="default"&&!J.hasOwnProperty(Q))J[Q]=$[Q]}function LJ($){var J=typeof Symbol==="function"&&Symbol.iterator,Q=J&&$[J],W=0;if(Q)return Q.call($);if($&&typeof $.length==="number")return{next:function(){if($&&W>=$.length)$=void 0;return{value:$&&$[W++],done:!$}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function Q6($,J){var Q=typeof Symbol==="function"&&$[Symbol.iterator];if(!Q)return $;var W=Q.call($),X,Z=[],K;try{while((J===void 0||J-- >0)&&!(X=W.next()).done)Z.push(X.value)}catch(G){K={error:G}}finally{try{if(X&&!X.done&&(Q=W.return))Q.call(W)}finally{if(K)throw K.error}}return Z}function XF(){for(var $=[],J=0;J<arguments.length;J++)$=$.concat(Q6(arguments[J]));return $}function ZF(){for(var $=0,J=0,Q=arguments.length;J<Q;J++)$+=arguments[J].length;for(var W=Array($),X=0,J=0;J<Q;J++)for(var Z=arguments[J],K=0,G=Z.length;K<G;K++,X++)W[X]=Z[K];return W}function H8($){return this instanceof H8?(this.v=$,this):new H8($)}function GF($,J,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=Q.apply($,J||[]),X,Z=[];return X={},K("next"),K("throw"),K("return"),X[Symbol.asyncIterator]=function(){return this},X;function K(z){if(W[z])X[z]=function(I){return new Promise(function(B,L){Z.push([z,I,B,L])>1||G(z,I)})}}function G(z,I){try{F(W[z](I))}catch(B){U(Z[0][3],B)}}function F(z){z.value instanceof H8?Promise.resolve(z.value.v).then(Y,V):U(Z[0][2],z)}function Y(z){G("next",z)}function V(z){G("throw",z)}function U(z,I){if(z(I),Z.shift(),Z.length)G(Z[0][0],Z[0][1])}}function KF($){var J,Q;return J={},W("next"),W("throw",function(X){throw X}),W("return"),J[Symbol.iterator]=function(){return this},J;function W(X,Z){J[X]=$[X]?function(K){return(Q=!Q)?{value:H8($[X](K)),done:X==="return"}:Z?Z(K):K}:Z}}function YF($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=$[Symbol.asyncIterator],Q;return J?J.call($):($=typeof LJ==="function"?LJ($):$[Symbol.iterator](),Q={},W("next"),W("throw"),W("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function W(Z){Q[Z]=$[Z]&&function(K){return new Promise(function(G,F){K=$[Z](K),X(G,F,K.done,K.value)})}}function X(Z,K,G,F){Promise.resolve(F).then(function(Y){Z({value:Y,done:G})},K)}}function FF($,J){if(Object.defineProperty)Object.defineProperty($,"raw",{value:J});else $.raw=J;return $}function zF($){if($&&$.__esModule)return $;var J={};if($!=null){for(var Q in $)if(Object.hasOwnProperty.call($,Q))J[Q]=$[Q]}return J.default=$,J}function VF($){return $&&$.__esModule?$:{default:$}}function UF($,J){if(!J.has($))throw new TypeError("attempted to get private field on non-instance");return J.get($)}function IF($,J,Q){if(!J.has($))throw new TypeError("attempted to set private field on non-instance");return J.set($,Q),Q}var IJ,BJ;var X6=E0(()=>{/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */IJ=function($,J){return IJ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,W){Q.__proto__=W}||function(Q,W){for(var X in W)if(W.hasOwnProperty(X))Q[X]=W[X]},IJ($,J)},BJ=function(){return BJ=Object.assign||function $(J){for(var Q,W=1,X=arguments.length;W<X;W++){Q=arguments[W];for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z))J[Z]=Q[Z]}return J},BJ.apply(this,arguments)}});var K6=M((Z6)=>{var BF=function($){if(typeof $==="string")return $.length===0;return $.byteLength===0};Object.defineProperty(Z6,"__esModule",{value:!0});Z6.isEmptyData=void 0;Z6.isEmptyData=BF});var MJ=M((Y6)=>{Object.defineProperty(Y6,"__esModule",{value:!0});Y6.EMPTY_DATA_SHA_256=Y6.SHA_256_HMAC_ALGO=Y6.SHA_256_HASH=void 0;Y6.SHA_256_HASH={name:"SHA-256"};Y6.SHA_256_HMAC_ALGO={name:"HMAC",hash:Y6.SHA_256_HASH};Y6.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])});var wJ=M((I6)=>{var HF=function($){return new Promise(function(J,Q){var W=(0,qJ.locateWindow)().msCrypto.subtle.importKey("raw",U6($),V6.SHA_256_HMAC_ALGO,!1,["sign"]);W.oncomplete=function(){if(W.result)J(W.result);Q(new Error("ImportKey completed without importing key."))},W.onerror=function(){Q(new Error("ImportKey failed to import key."))}})},U6=function($){if(typeof $==="string")return(0,qF.fromUtf8)($);if(ArrayBuffer.isView($))return new Uint8Array($.buffer,$.byteOffset,$.byteLength/Uint8Array.BYTES_PER_ELEMENT);return new Uint8Array($)};Object.defineProperty(I6,"__esModule",{value:!0});I6.Sha256=void 0;var MF=K6(),V6=MJ(),qF=X8(),qJ=v0(),wF=function(){function $(J){this.secret=J,this.reset()}return $.prototype.update=function(J){var Q=this;if((0,MF.isEmptyData)(J))return;this.operation=this.operation.then(function(W){return W.onerror=function(){Q.operation=Promise.reject(new Error("Error encountered updating hash"))},W.process(U6(J)),W}),this.operation.catch(function(){})},$.prototype.digest=function(){return this.operation.then(function(J){return new Promise(function(Q,W){J.onerror=function(){W(new Error("Error encountered finalizing hash"))},J.oncomplete=function(){if(J.result)Q(new Uint8Array(J.result));W(new Error("Error encountered finalizing hash"))},J.finish()})})},$.prototype.reset=function(){if(this.secret)this.operation=HF(this.secret).then(function(J){return(0,qJ.locateWindow)().msCrypto.subtle.sign(V6.SHA_256_HMAC_ALGO,J)}),this.operation.catch(function(){});else this.operation=Promise.resolve((0,qJ.locateWindow)().msCrypto.subtle.digest("SHA-256"))},$}();I6.Sha256=wF});var CJ=M((L6)=>{Object.defineProperty(L6,"__esModule",{value:!0});L6.Sha256=void 0;var B1=Y0(),L1=MJ(),HJ=v0(),CF=function(){function $(J){this.toHash=new Uint8Array(0),this.secret=J,this.reset()}return $.prototype.update=function(J){if((0,B1.isEmptyData)(J))return;var Q=(0,B1.convertToBuffer)(J),W=new Uint8Array(this.toHash.byteLength+Q.byteLength);W.set(this.toHash,0),W.set(Q,this.toHash.byteLength),this.toHash=W},$.prototype.digest=function(){var J=this;if(this.key)return this.key.then(function(Q){return(0,HJ.locateWindow)().crypto.subtle.sign(L1.SHA_256_HMAC_ALGO,Q,J.toHash).then(function(W){return new Uint8Array(W)})});if((0,B1.isEmptyData)(this.toHash))return Promise.resolve(L1.EMPTY_DATA_SHA_256);return Promise.resolve().then(function(){return(0,HJ.locateWindow)().crypto.subtle.digest(L1.SHA_256_HASH,J.toHash)}).then(function(Q){return Promise.resolve(new Uint8Array(Q))})},$.prototype.reset=function(){var J=this;if(this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0)this.key=new Promise(function(Q,W){(0,HJ.locateWindow)().crypto.subtle.importKey("raw",(0,B1.convertToBuffer)(J.secret),L1.SHA_256_HMAC_ALGO,!1,["sign"]).then(Q,W)}),this.key.catch(function(){})},$}();L6.Sha256=CF});var OJ={};K0(OJ,{__values:()=>{{return AJ}},__spreadArrays:()=>{{return _F}},__spread:()=>{{return kF}},__rest:()=>{{return TF}},__read:()=>{{return q6}},__param:()=>{{return OF}},__metadata:()=>{{return jF}},__makeTemplateObject:()=>{{return gF}},__importStar:()=>{{return vF}},__importDefault:()=>{{return yF}},__generator:()=>{{return SF}},__extends:()=>{{return RF}},__exportStar:()=>{{return NF}},__decorate:()=>{{return AF}},__createBinding:()=>{{return EF}},__classPrivateFieldSet:()=>{{return xF}},__classPrivateFieldGet:()=>{{return bF}},__awaiter:()=>{{return DF}},__await:()=>{{return C8}},__asyncValues:()=>{{return hF}},__asyncGenerator:()=>{{return fF}},__asyncDelegator:()=>{{return PF}},__assign:()=>{{return TJ}}});function RF($,J){RJ($,J);function Q(){this.constructor=$}$.prototype=J===null?Object.create(J):(Q.prototype=J.prototype,new Q)}function TF($,J){var Q={};for(var W in $)if(Object.prototype.hasOwnProperty.call($,W)&&J.indexOf(W)<0)Q[W]=$[W];if($!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var X=0,W=Object.getOwnPropertySymbols($);X<W.length;X++)if(J.indexOf(W[X])<0&&Object.prototype.propertyIsEnumerable.call($,W[X]))Q[W[X]]=$[W[X]]}return Q}function AF($,J,Q,W){var X=arguments.length,Z=X<3?J:W===null?W=Object.getOwnPropertyDescriptor(J,Q):W,K;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate($,J,Q,W);else for(var G=$.length-1;G>=0;G--)if(K=$[G])Z=(X<3?K(Z):X>3?K(J,Q,Z):K(J,Q))||Z;return X>3&&Z&&Object.defineProperty(J,Q,Z),Z}function OF($,J){return function(Q,W){J(Q,W,$)}}function jF($,J){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata($,J)}function DF($,J,Q,W){function X(Z){return Z instanceof Q?Z:new Q(function(K){K(Z)})}return new(Q||(Q=Promise))(function(Z,K){function G(V){try{Y(W.next(V))}catch(U){K(U)}}function F(V){try{Y(W.throw(V))}catch(U){K(U)}}function Y(V){V.done?Z(V.value):X(V.value).then(G,F)}Y((W=W.apply($,J||[])).next())})}function SF($,J){var Q={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},W,X,Z,K;return K={next:G(0),throw:G(1),return:G(2)},typeof Symbol==="function"&&(K[Symbol.iterator]=function(){return this}),K;function G(Y){return function(V){return F([Y,V])}}function F(Y){if(W)throw new TypeError("Generator is already executing.");while(Q)try{if(W=1,X&&(Z=Y[0]&2?X.return:Y[0]?X.throw||((Z=X.return)&&Z.call(X),0):X.next)&&!(Z=Z.call(X,Y[1])).done)return Z;if(X=0,Z)Y=[Y[0]&2,Z.value];switch(Y[0]){case 0:case 1:Z=Y;break;case 4:return Q.label++,{value:Y[1],done:!1};case 5:Q.label++,X=Y[1],Y=[0];continue;case 7:Y=Q.ops.pop(),Q.trys.pop();continue;default:if((Z=Q.trys,!(Z=Z.length>0&&Z[Z.length-1]))&&(Y[0]===6||Y[0]===2)){Q=0;continue}if(Y[0]===3&&(!Z||Y[1]>Z[0]&&Y[1]<Z[3])){Q.label=Y[1];break}if(Y[0]===6&&Q.label<Z[1]){Q.label=Z[1],Z=Y;break}if(Z&&Q.label<Z[2]){Q.label=Z[2],Q.ops.push(Y);break}if(Z[2])Q.ops.pop();Q.trys.pop();continue}Y=J.call($,Q)}catch(V){Y=[6,V],X=0}finally{W=Z=0}if(Y[0]&5)throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}}function EF($,J,Q,W){if(W===void 0)W=Q;$[W]=J[Q]}function NF($,J){for(var Q in $)if(Q!=="default"&&!J.hasOwnProperty(Q))J[Q]=$[Q]}function AJ($){var J=typeof Symbol==="function"&&Symbol.iterator,Q=J&&$[J],W=0;if(Q)return Q.call($);if($&&typeof $.length==="number")return{next:function(){if($&&W>=$.length)$=void 0;return{value:$&&$[W++],done:!$}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function q6($,J){var Q=typeof Symbol==="function"&&$[Symbol.iterator];if(!Q)return $;var W=Q.call($),X,Z=[],K;try{while((J===void 0||J-- >0)&&!(X=W.next()).done)Z.push(X.value)}catch(G){K={error:G}}finally{try{if(X&&!X.done&&(Q=W.return))Q.call(W)}finally{if(K)throw K.error}}return Z}function kF(){for(var $=[],J=0;J<arguments.length;J++)$=$.concat(q6(arguments[J]));return $}function _F(){for(var $=0,J=0,Q=arguments.length;J<Q;J++)$+=arguments[J].length;for(var W=Array($),X=0,J=0;J<Q;J++)for(var Z=arguments[J],K=0,G=Z.length;K<G;K++,X++)W[X]=Z[K];return W}function C8($){return this instanceof C8?(this.v=$,this):new C8($)}function fF($,J,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=Q.apply($,J||[]),X,Z=[];return X={},K("next"),K("throw"),K("return"),X[Symbol.asyncIterator]=function(){return this},X;function K(z){if(W[z])X[z]=function(I){return new Promise(function(B,L){Z.push([z,I,B,L])>1||G(z,I)})}}function G(z,I){try{F(W[z](I))}catch(B){U(Z[0][3],B)}}function F(z){z.value instanceof C8?Promise.resolve(z.value.v).then(Y,V):U(Z[0][2],z)}function Y(z){G("next",z)}function V(z){G("throw",z)}function U(z,I){if(z(I),Z.shift(),Z.length)G(Z[0][0],Z[0][1])}}function PF($){var J,Q;return J={},W("next"),W("throw",function(X){throw X}),W("return"),J[Symbol.iterator]=function(){return this},J;function W(X,Z){J[X]=$[X]?function(K){return(Q=!Q)?{value:C8($[X](K)),done:X==="return"}:Z?Z(K):K}:Z}}function hF($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=$[Symbol.asyncIterator],Q;return J?J.call($):($=typeof AJ==="function"?AJ($):$[Symbol.iterator](),Q={},W("next"),W("throw"),W("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function W(Z){Q[Z]=$[Z]&&function(K){return new Promise(function(G,F){K=$[Z](K),X(G,F,K.done,K.value)})}}function X(Z,K,G,F){Promise.resolve(F).then(function(Y){Z({value:Y,done:G})},K)}}function gF($,J){if(Object.defineProperty)Object.defineProperty($,"raw",{value:J});else $.raw=J;return $}function vF($){if($&&$.__esModule)return $;var J={};if($!=null){for(var Q in $)if(Object.hasOwnProperty.call($,Q))J[Q]=$[Q]}return J.default=$,J}function yF($){return $&&$.__esModule?$:{default:$}}function bF($,J){if(!J.has($))throw new TypeError("attempted to get private field on non-instance");return J.get($)}function xF($,J,Q){if(!J.has($))throw new TypeError("attempted to set private field on non-instance");return J.set($,Q),Q}var RJ,TJ;var jJ=E0(()=>{/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */RJ=function($,J){return RJ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,W){Q.__proto__=W}||function(Q,W){for(var X in W)if(W.hasOwnProperty(X))Q[X]=W[X]},RJ($,J)},TJ=function(){return TJ=Object.assign||function $(J){for(var Q,W=1,X=arguments.length;W<X;W++){Q=arguments[W];for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z))J[Z]=Q[Z]}return J},TJ.apply(this,arguments)}});var DJ=M((w6)=>{Object.defineProperty(w6,"__esModule",{value:!0});w6.MAX_HASHABLE_LENGTH=w6.INIT=w6.KEY=w6.DIGEST_LENGTH=w6.BLOCK_SIZE=void 0;w6.BLOCK_SIZE=64;w6.DIGEST_LENGTH=32;w6.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);w6.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];w6.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1});var T6=M((C6)=>{Object.defineProperty(C6,"__esModule",{value:!0});C6.RawSha256=void 0;var u=DJ(),sF=function(){function $(){this.state=Int32Array.from(u.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return $.prototype.update=function(J){if(this.finished)throw new Error("Attempted to update an already finished hash.");var Q=0,W=J.byteLength;if(this.bytesHashed+=W,this.bytesHashed*8>u.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");while(W>0)if(this.buffer[this.bufferLength++]=J[Q++],W--,this.bufferLength===u.BLOCK_SIZE)this.hashBuffer(),this.bufferLength=0},$.prototype.digest=function(){if(!this.finished){var J=this.bytesHashed*8,Q=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),W=this.bufferLength;if(Q.setUint8(this.bufferLength++,128),W%u.BLOCK_SIZE>=u.BLOCK_SIZE-8){for(var X=this.bufferLength;X<u.BLOCK_SIZE;X++)Q.setUint8(X,0);this.hashBuffer(),this.bufferLength=0}for(var X=this.bufferLength;X<u.BLOCK_SIZE-8;X++)Q.setUint8(X,0);Q.setUint32(u.BLOCK_SIZE-8,Math.floor(J/4294967296),!0),Q.setUint32(u.BLOCK_SIZE-4,J),this.hashBuffer(),this.finished=!0}var Z=new Uint8Array(u.DIGEST_LENGTH);for(var X=0;X<8;X++)Z[X*4]=this.state[X]>>>24&255,Z[X*4+1]=this.state[X]>>>16&255,Z[X*4+2]=this.state[X]>>>8&255,Z[X*4+3]=this.state[X]>>>0&255;return Z},$.prototype.hashBuffer=function(){var J=this,Q=J.buffer,W=J.state,X=W[0],Z=W[1],K=W[2],G=W[3],F=W[4],Y=W[5],V=W[6],U=W[7];for(var z=0;z<u.BLOCK_SIZE;z++){if(z<16)this.temp[z]=(Q[z*4]&255)<<24|(Q[z*4+1]&255)<<16|(Q[z*4+2]&255)<<8|Q[z*4+3]&255;else{var I=this.temp[z-2],B=(I>>>17|I<<15)^(I>>>19|I<<13)^I>>>10;I=this.temp[z-15];var L=(I>>>7|I<<25)^(I>>>18|I<<14)^I>>>3;this.temp[z]=(B+this.temp[z-7]|0)+(L+this.temp[z-16]|0)}var q=(((F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7))+(F&Y^~F&V)|0)+(U+(u.KEY[z]+this.temp[z]|0)|0)|0,E=((X>>>2|X<<30)^(X>>>13|X<<19)^(X>>>22|X<<10))+(X&Z^X&K^Z&K)|0;U=V,V=Y,Y=F,F=G+q|0,G=K,K=Z,Z=X,X=q+E|0}W[0]+=X,W[1]+=Z,W[2]+=K,W[3]+=G,W[4]+=F,W[5]+=Y,W[6]+=V,W[7]+=U},$}();C6.RawSha256=sF});var D6=M((O6)=>{var iF=function($){var J=(0,SJ.convertToBuffer)($);if(J.byteLength>q1.BLOCK_SIZE){var Q=new M1.RawSha256;Q.update(J),J=Q.digest()}var W=new Uint8Array(q1.BLOCK_SIZE);return W.set(J),W};Object.defineProperty(O6,"__esModule",{value:!0});O6.Sha256=void 0;var A6=(jJ(),a(OJ)),q1=DJ(),M1=T6(),SJ=Y0(),rF=function(){function $(J){this.secret=J,this.hash=new M1.RawSha256,this.reset()}return $.prototype.update=function(J){if((0,SJ.isEmptyData)(J)||this.error)return;try{this.hash.update((0,SJ.convertToBuffer)(J))}catch(Q){this.error=Q}},$.prototype.digestSync=function(){if(this.error)throw this.error;if(this.outer){if(!this.outer.finished)this.outer.update(this.hash.digest());return this.outer.digest()}return this.hash.digest()},$.prototype.digest=function(){return A6.__awaiter(this,void 0,void 0,function(){return A6.__generator(this,function(J){return[2,this.digestSync()]})})},$.prototype.reset=function(){if(this.hash=new M1.RawSha256,this.secret){this.outer=new M1.RawSha256;var J=iF(this.secret),Q=new Uint8Array(q1.BLOCK_SIZE);Q.set(J);for(var W=0;W<q1.BLOCK_SIZE;W++)J[W]^=54,Q[W]^=92;this.hash.update(J),this.outer.update(Q);for(var W=0;W<J.byteLength;W++)J[W]=0}},$}();O6.Sha256=rF});var S6=M((EJ)=>{Object.defineProperty(EJ,"__esModule",{value:!0});var pF=(jJ(),a(OJ));pF.__exportStar(D6(),EJ)});var _6=M((N6)=>{Object.defineProperty(N6,"__esModule",{value:!0});N6.Sha256=void 0;var aF=wJ(),nF=CJ(),uF=S6(),oF=YJ(),eF=UJ(),E6=v0(),tF=Y0(),$z=function(){function $(J){if((0,oF.supportsWebCrypto)((0,E6.locateWindow)()))this.hash=new nF.Sha256(J);else if((0,eF.isMsWindow)((0,E6.locateWindow)()))this.hash=new aF.Sha256(J);else this.hash=new uF.Sha256(J)}return $.prototype.update=function(J,Q){this.hash.update((0,tF.convertToBuffer)(J))},$.prototype.digest=function(){return this.hash.digest()},$.prototype.reset=function(){this.hash.reset()},$}();N6.Sha256=$z});var f6=M((R8)=>{Object.defineProperty(R8,"__esModule",{value:!0});R8.WebCryptoSha256=R8.Ie11Sha256=void 0;var Jz=(X6(),a(W6));Jz.__exportStar(_6(),R8);var Qz=wJ();Object.defineProperty(R8,"Ie11Sha256",{enumerable:!0,get:function(){return Qz.Sha256}});var Wz=CJ();Object.defineProperty(R8,"WebCryptoSha256",{enumerable:!0,get:function(){return Wz.Sha256}})});var fJ=M((T8,_J)=>{(function($,J){typeof T8=="object"&&typeof _J=="object"?_J.exports=J():typeof define=="function"&&define.amd?define([],J):typeof T8=="object"?T8.bowser=J():$.bowser=J()})(T8,function(){return function($){var J={};function Q(W){if(J[W])return J[W].exports;var X=J[W]={i:W,l:!1,exports:{}};return $[W].call(X.exports,X,X.exports,Q),X.l=!0,X.exports}return Q.m=$,Q.c=J,Q.d=function(W,X,Z){Q.o(W,X)||Object.defineProperty(W,X,{enumerable:!0,get:Z})},Q.r=function(W){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(W,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(W,"__esModule",{value:!0})},Q.t=function(W,X){if(1&X&&(W=Q(W)),8&X)return W;if(4&X&&typeof W=="object"&&W&&W.__esModule)return W;var Z=Object.create(null);if(Q.r(Z),Object.defineProperty(Z,"default",{enumerable:!0,value:W}),2&X&&typeof W!="string")for(var K in W)Q.d(Z,K,function(G){return W[G]}.bind(null,K));return Z},Q.n=function(W){var X=W&&W.__esModule?function(){return W.default}:function(){return W};return Q.d(X,"a",X),X},Q.o=function(W,X){return Object.prototype.hasOwnProperty.call(W,X)},Q.p="",Q(Q.s=90)}({17:function($,J,Q){J.__esModule=!0,J.default=void 0;var W=Q(18),X=function(){function Z(){}return Z.getFirstMatch=function(K,G){var F=G.match(K);return F&&F.length>0&&F[1]||""},Z.getSecondMatch=function(K,G){var F=G.match(K);return F&&F.length>1&&F[2]||""},Z.matchAndReturnConst=function(K,G,F){if(K.test(G))return F},Z.getWindowsVersionName=function(K){switch(K){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},Z.getMacOSVersionName=function(K){var G=K.split(".").splice(0,2).map(function(F){return parseInt(F,10)||0});if(G.push(0),G[0]===10)switch(G[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},Z.getAndroidVersionName=function(K){var G=K.split(".").splice(0,2).map(function(F){return parseInt(F,10)||0});if(G.push(0),!(G[0]===1&&G[1]<5))return G[0]===1&&G[1]<6?"Cupcake":G[0]===1&&G[1]>=6?"Donut":G[0]===2&&G[1]<2?"Eclair":G[0]===2&&G[1]===2?"Froyo":G[0]===2&&G[1]>2?"Gingerbread":G[0]===3?"Honeycomb":G[0]===4&&G[1]<1?"Ice Cream Sandwich":G[0]===4&&G[1]<4?"Jelly Bean":G[0]===4&&G[1]>=4?"KitKat":G[0]===5?"Lollipop":G[0]===6?"Marshmallow":G[0]===7?"Nougat":G[0]===8?"Oreo":G[0]===9?"Pie":void 0},Z.getVersionPrecision=function(K){return K.split(".").length},Z.compareVersions=function(K,G,F){F===void 0&&(F=!1);var Y=Z.getVersionPrecision(K),V=Z.getVersionPrecision(G),U=Math.max(Y,V),z=0,I=Z.map([K,G],function(B){var L=U-Z.getVersionPrecision(B),q=B+new Array(L+1).join(".0");return Z.map(q.split("."),function(E){return new Array(20-E.length).join("0")+E}).reverse()});for(F&&(z=U-Math.min(Y,V)),U-=1;U>=z;){if(I[0][U]>I[1][U])return 1;if(I[0][U]===I[1][U]){if(U===z)return 0;U-=1}else if(I[0][U]<I[1][U])return-1}},Z.map=function(K,G){var F,Y=[];if(Array.prototype.map)return Array.prototype.map.call(K,G);for(F=0;F<K.length;F+=1)Y.push(G(K[F]));return Y},Z.find=function(K,G){var F,Y;if(Array.prototype.find)return Array.prototype.find.call(K,G);for(F=0,Y=K.length;F<Y;F+=1){var V=K[F];if(G(V,F))return V}},Z.assign=function(K){for(var G,F,Y=K,V=arguments.length,U=new Array(V>1?V-1:0),z=1;z<V;z++)U[z-1]=arguments[z];if(Object.assign)return Object.assign.apply(Object,[K].concat(U));var I=function(){var B=U[G];typeof B=="object"&&B!==null&&Object.keys(B).forEach(function(L){Y[L]=B[L]})};for(G=0,F=U.length;G<F;G+=1)I();return K},Z.getBrowserAlias=function(K){return W.BROWSER_ALIASES_MAP[K]},Z.getBrowserTypeByAlias=function(K){return W.BROWSER_MAP[K]||""},Z}();J.default=X,$.exports=J.default},18:function($,J,Q){J.__esModule=!0,J.ENGINE_MAP=J.OS_MAP=J.PLATFORMS_MAP=J.BROWSER_MAP=J.BROWSER_ALIASES_MAP=void 0,J.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},J.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},J.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},J.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},J.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function($,J,Q){J.__esModule=!0,J.default=void 0;var W,X=(W=Q(91))&&W.__esModule?W:{default:W},Z=Q(18);function K(F,Y){for(var V=0;V<Y.length;V++){var U=Y[V];U.enumerable=U.enumerable||!1,U.configurable=!0,("value"in U)&&(U.writable=!0),Object.defineProperty(F,U.key,U)}}var G=function(){function F(){}var Y,V,U;return F.getParser=function(z,I){if(I===void 0&&(I=!1),typeof z!="string")throw new Error("UserAgent should be a string");return new X.default(z,I)},F.parse=function(z){return new X.default(z).getResult()},Y=F,U=[{key:"BROWSER_MAP",get:function(){return Z.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return Z.ENGINE_MAP}},{key:"OS_MAP",get:function(){return Z.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return Z.PLATFORMS_MAP}}],(V=null)&&K(Y.prototype,V),U&&K(Y,U),F}();J.default=G,$.exports=J.default},91:function($,J,Q){J.__esModule=!0,J.default=void 0;var W=F(Q(92)),X=F(Q(93)),Z=F(Q(94)),K=F(Q(95)),G=F(Q(17));function F(V){return V&&V.__esModule?V:{default:V}}var Y=function(){function V(z,I){if(I===void 0&&(I=!1),z==null||z==="")throw new Error("UserAgent parameter can't be empty");this._ua=z,this.parsedResult={},I!==!0&&this.parse()}var U=V.prototype;return U.getUA=function(){return this._ua},U.test=function(z){return z.test(this._ua)},U.parseBrowser=function(){var z=this;this.parsedResult.browser={};var I=G.default.find(W.default,function(B){if(typeof B.test=="function")return B.test(z);if(B.test instanceof Array)return B.test.some(function(L){return z.test(L)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.browser=I.describe(this.getUA())),this.parsedResult.browser},U.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},U.getBrowserName=function(z){return z?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},U.getBrowserVersion=function(){return this.getBrowser().version},U.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},U.parseOS=function(){var z=this;this.parsedResult.os={};var I=G.default.find(X.default,function(B){if(typeof B.test=="function")return B.test(z);if(B.test instanceof Array)return B.test.some(function(L){return z.test(L)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.os=I.describe(this.getUA())),this.parsedResult.os},U.getOSName=function(z){var I=this.getOS().name;return z?String(I).toLowerCase()||"":I||""},U.getOSVersion=function(){return this.getOS().version},U.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},U.getPlatformType=function(z){z===void 0&&(z=!1);var I=this.getPlatform().type;return z?String(I).toLowerCase()||"":I||""},U.parsePlatform=function(){var z=this;this.parsedResult.platform={};var I=G.default.find(Z.default,function(B){if(typeof B.test=="function")return B.test(z);if(B.test instanceof Array)return B.test.some(function(L){return z.test(L)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.platform=I.describe(this.getUA())),this.parsedResult.platform},U.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},U.getEngineName=function(z){return z?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},U.parseEngine=function(){var z=this;this.parsedResult.engine={};var I=G.default.find(K.default,function(B){if(typeof B.test=="function")return B.test(z);if(B.test instanceof Array)return B.test.some(function(L){return z.test(L)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.engine=I.describe(this.getUA())),this.parsedResult.engine},U.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},U.getResult=function(){return G.default.assign({},this.parsedResult)},U.satisfies=function(z){var I=this,B={},L=0,q={},E=0;if(Object.keys(z).forEach(function(Z0){var P8=z[Z0];typeof P8=="string"?(q[Z0]=P8,E+=1):typeof P8=="object"&&(B[Z0]=P8,L+=1)}),L>0){var X0=Object.keys(B),S0=G.default.find(X0,function(Z0){return I.isOS(Z0)});if(S0){var c0=this.satisfies(B[S0]);if(c0!==void 0)return c0}var f8=G.default.find(X0,function(Z0){return I.isPlatform(Z0)});if(f8){var DQ=this.satisfies(B[f8]);if(DQ!==void 0)return DQ}}if(E>0){var EG=Object.keys(q),SQ=G.default.find(EG,function(Z0){return I.isBrowser(Z0,!0)});if(SQ!==void 0)return this.compareVersion(q[SQ])}},U.isBrowser=function(z,I){I===void 0&&(I=!1);var B=this.getBrowserName().toLowerCase(),L=z.toLowerCase(),q=G.default.getBrowserTypeByAlias(L);return I&&q&&(L=q.toLowerCase()),L===B},U.compareVersion=function(z){var I=[0],B=z,L=!1,q=this.getBrowserVersion();if(typeof q=="string")return z[0]===">"||z[0]==="<"?(B=z.substr(1),z[1]==="="?(L=!0,B=z.substr(2)):I=[],z[0]===">"?I.push(1):I.push(-1)):z[0]==="="?B=z.substr(1):z[0]==="~"&&(L=!0,B=z.substr(1)),I.indexOf(G.default.compareVersions(q,B,L))>-1},U.isOS=function(z){return this.getOSName(!0)===String(z).toLowerCase()},U.isPlatform=function(z){return this.getPlatformType(!0)===String(z).toLowerCase()},U.isEngine=function(z){return this.getEngineName(!0)===String(z).toLowerCase()},U.is=function(z,I){return I===void 0&&(I=!1),this.isBrowser(z,I)||this.isOS(z)||this.isPlatform(z)},U.some=function(z){var I=this;return z===void 0&&(z=[]),z.some(function(B){return I.is(B)})},V}();J.default=Y,$.exports=J.default},92:function($,J,Q){J.__esModule=!0,J.default=void 0;var W,X=(W=Q(17))&&W.__esModule?W:{default:W},Z=/version\/(\d+(\.?_?\d+)+)/i,K=[{test:[/googlebot/i],describe:function(G){var F={name:"Googlebot"},Y=X.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/opera/i],describe:function(G){var F={name:"Opera"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/opr\/|opios/i],describe:function(G){var F={name:"Opera"},Y=X.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/SamsungBrowser/i],describe:function(G){var F={name:"Samsung Internet for Android"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/Whale/i],describe:function(G){var F={name:"NAVER Whale Browser"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/MZBrowser/i],describe:function(G){var F={name:"MZ Browser"},Y=X.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/focus/i],describe:function(G){var F={name:"Focus"},Y=X.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/swing/i],describe:function(G){var F={name:"Swing"},Y=X.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/coast/i],describe:function(G){var F={name:"Opera Coast"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(G){var F={name:"Opera Touch"},Y=X.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/yabrowser/i],describe:function(G){var F={name:"Yandex Browser"},Y=X.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/ucbrowser/i],describe:function(G){var F={name:"UC Browser"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/Maxthon|mxios/i],describe:function(G){var F={name:"Maxthon"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/epiphany/i],describe:function(G){var F={name:"Epiphany"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/puffin/i],describe:function(G){var F={name:"Puffin"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/sleipnir/i],describe:function(G){var F={name:"Sleipnir"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/k-meleon/i],describe:function(G){var F={name:"K-Meleon"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/micromessenger/i],describe:function(G){var F={name:"WeChat"},Y=X.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/qqbrowser/i],describe:function(G){var F={name:/qqbrowserlite/i.test(G)?"QQ Browser Lite":"QQ Browser"},Y=X.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/msie|trident/i],describe:function(G){var F={name:"Internet Explorer"},Y=X.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/\sedg\//i],describe:function(G){var F={name:"Microsoft Edge"},Y=X.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/edg([ea]|ios)/i],describe:function(G){var F={name:"Microsoft Edge"},Y=X.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/vivaldi/i],describe:function(G){var F={name:"Vivaldi"},Y=X.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/seamonkey/i],describe:function(G){var F={name:"SeaMonkey"},Y=X.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/sailfish/i],describe:function(G){var F={name:"Sailfish"},Y=X.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,G);return Y&&(F.version=Y),F}},{test:[/silk/i],describe:function(G){var F={name:"Amazon Silk"},Y=X.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/phantom/i],describe:function(G){var F={name:"PhantomJS"},Y=X.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/slimerjs/i],describe:function(G){var F={name:"SlimerJS"},Y=X.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(G){var F={name:"BlackBerry"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/(web|hpw)[o0]s/i],describe:function(G){var F={name:"WebOS Browser"},Y=X.default.getFirstMatch(Z,G)||X.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/bada/i],describe:function(G){var F={name:"Bada"},Y=X.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/tizen/i],describe:function(G){var F={name:"Tizen"},Y=X.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/qupzilla/i],describe:function(G){var F={name:"QupZilla"},Y=X.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/firefox|iceweasel|fxios/i],describe:function(G){var F={name:"Firefox"},Y=X.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/electron/i],describe:function(G){var F={name:"Electron"},Y=X.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/MiuiBrowser/i],describe:function(G){var F={name:"Miui"},Y=X.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/chromium/i],describe:function(G){var F={name:"Chromium"},Y=X.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,G)||X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/chrome|crios|crmo/i],describe:function(G){var F={name:"Chrome"},Y=X.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/GSA/i],describe:function(G){var F={name:"Google Search"},Y=X.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:function(G){var F=!G.test(/like android/i),Y=G.test(/android/i);return F&&Y},describe:function(G){var F={name:"Android Browser"},Y=X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/playstation 4/i],describe:function(G){var F={name:"PlayStation 4"},Y=X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/safari|applewebkit/i],describe:function(G){var F={name:"Safari"},Y=X.default.getFirstMatch(Z,G);return Y&&(F.version=Y),F}},{test:[/.*/i],describe:function(G){var F=G.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:X.default.getFirstMatch(F,G),version:X.default.getSecondMatch(F,G)}}}];J.default=K,$.exports=J.default},93:function($,J,Q){J.__esModule=!0,J.default=void 0;var W,X=(W=Q(17))&&W.__esModule?W:{default:W},Z=Q(18),K=[{test:[/Roku\/DVP/],describe:function(G){var F=X.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,G);return{name:Z.OS_MAP.Roku,version:F}}},{test:[/windows phone/i],describe:function(G){var F=X.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,G);return{name:Z.OS_MAP.WindowsPhone,version:F}}},{test:[/windows /i],describe:function(G){var F=X.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,G),Y=X.default.getWindowsVersionName(F);return{name:Z.OS_MAP.Windows,version:F,versionName:Y}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(G){var F={name:Z.OS_MAP.iOS},Y=X.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,G);return Y&&(F.version=Y),F}},{test:[/macintosh/i],describe:function(G){var F=X.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,G).replace(/[_\s]/g,"."),Y=X.default.getMacOSVersionName(F),V={name:Z.OS_MAP.MacOS,version:F};return Y&&(V.versionName=Y),V}},{test:[/(ipod|iphone|ipad)/i],describe:function(G){var F=X.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,G).replace(/[_\s]/g,".");return{name:Z.OS_MAP.iOS,version:F}}},{test:function(G){var F=!G.test(/like android/i),Y=G.test(/android/i);return F&&Y},describe:function(G){var F=X.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,G),Y=X.default.getAndroidVersionName(F),V={name:Z.OS_MAP.Android,version:F};return Y&&(V.versionName=Y),V}},{test:[/(web|hpw)[o0]s/i],describe:function(G){var F=X.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,G),Y={name:Z.OS_MAP.WebOS};return F&&F.length&&(Y.version=F),Y}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(G){var F=X.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,G)||X.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,G)||X.default.getFirstMatch(/\bbb(\d+)/i,G);return{name:Z.OS_MAP.BlackBerry,version:F}}},{test:[/bada/i],describe:function(G){var F=X.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,G);return{name:Z.OS_MAP.Bada,version:F}}},{test:[/tizen/i],describe:function(G){var F=X.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,G);return{name:Z.OS_MAP.Tizen,version:F}}},{test:[/linux/i],describe:function(){return{name:Z.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:Z.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(G){var F=X.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,G);return{name:Z.OS_MAP.PlayStation4,version:F}}}];J.default=K,$.exports=J.default},94:function($,J,Q){J.__esModule=!0,J.default=void 0;var W,X=(W=Q(17))&&W.__esModule?W:{default:W},Z=Q(18),K=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(G){var F=X.default.getFirstMatch(/(can-l01)/i,G)&&"Nova",Y={type:Z.PLATFORMS_MAP.mobile,vendor:"Huawei"};return F&&(Y.model=F),Y}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:Z.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:Z.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:Z.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:Z.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:Z.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:Z.PLATFORMS_MAP.tablet}}},{test:function(G){var F=G.test(/ipod|iphone/i),Y=G.test(/like (ipod|iphone)/i);return F&&!Y},describe:function(G){var F=X.default.getFirstMatch(/(ipod|iphone)/i,G);return{type:Z.PLATFORMS_MAP.mobile,vendor:"Apple",model:F}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:Z.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:Z.PLATFORMS_MAP.mobile}}},{test:function(G){return G.getBrowserName(!0)==="blackberry"},describe:function(){return{type:Z.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(G){return G.getBrowserName(!0)==="bada"},describe:function(){return{type:Z.PLATFORMS_MAP.mobile}}},{test:function(G){return G.getBrowserName()==="windows phone"},describe:function(){return{type:Z.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(G){var F=Number(String(G.getOSVersion()).split(".")[0]);return G.getOSName(!0)==="android"&&F>=3},describe:function(){return{type:Z.PLATFORMS_MAP.tablet}}},{test:function(G){return G.getOSName(!0)==="android"},describe:function(){return{type:Z.PLATFORMS_MAP.mobile}}},{test:function(G){return G.getOSName(!0)==="macos"},describe:function(){return{type:Z.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(G){return G.getOSName(!0)==="windows"},describe:function(){return{type:Z.PLATFORMS_MAP.desktop}}},{test:function(G){return G.getOSName(!0)==="linux"},describe:function(){return{type:Z.PLATFORMS_MAP.desktop}}},{test:function(G){return G.getOSName(!0)==="playstation 4"},describe:function(){return{type:Z.PLATFORMS_MAP.tv}}},{test:function(G){return G.getOSName(!0)==="roku"},describe:function(){return{type:Z.PLATFORMS_MAP.tv}}}];J.default=K,$.exports=J.default},95:function($,J,Q){J.__esModule=!0,J.default=void 0;var W,X=(W=Q(17))&&W.__esModule?W:{default:W},Z=Q(18),K=[{test:function(G){return G.getBrowserName(!0)==="microsoft edge"},describe:function(G){if(/\sedg\//i.test(G))return{name:Z.ENGINE_MAP.Blink};var F=X.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,G);return{name:Z.ENGINE_MAP.EdgeHTML,version:F}}},{test:[/trident/i],describe:function(G){var F={name:Z.ENGINE_MAP.Trident},Y=X.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:function(G){return G.test(/presto/i)},describe:function(G){var F={name:Z.ENGINE_MAP.Presto},Y=X.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:function(G){var F=G.test(/gecko/i),Y=G.test(/like gecko/i);return F&&!Y},describe:function(G){var F={name:Z.ENGINE_MAP.Gecko},Y=X.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:Z.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(G){var F={name:Z.ENGINE_MAP.WebKit},Y=X.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,G);return Y&&(F.version=Y),F}}];J.default=K,$.exports=J.default}})})});var j1=M((Rz)=>{var qz=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",ZZ="[:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]["+qz+"]*",wz=new RegExp("^"+ZZ+"$"),Hz=function($,J){const Q=[];let W=J.exec($);while(W){const X=[];X.startIndex=J.lastIndex-W[0].length;const Z=W.length;for(let K=0;K<Z;K++)X.push(W[K]);Q.push(X),W=J.exec($)}return Q},Cz=function($){const J=wz.exec($);return!(J===null||typeof J==="undefined")};Rz.isExist=function($){return typeof $!=="undefined"};Rz.isEmptyObject=function($){return Object.keys($).length===0};Rz.merge=function($,J,Q){if(J){const W=Object.keys(J),X=W.length;for(let Z=0;Z<X;Z++)if(Q==="strict")$[W[Z]]=[J[W[Z]]];else $[W[Z]]=J[W[Z]]}};Rz.getValue=function($){if(Rz.isExist($))return $;else return""};Rz.isName=Cz;Rz.getAllMatches=Hz;Rz.nameRegexp=ZZ});var ZQ=M((yz)=>{var KZ=function($){return $===" "||$==="\t"||$==="\n"||$==="\r"},YZ=function($,J){const Q=J;for(;J<$.length;J++)if($[J]=="?"||$[J]==" "){const W=$.substr(Q,J-Q);if(J>5&&W==="xml")return _("InvalidXml","XML declaration allowed only at the start of the document.",i($,J));else if($[J]=="?"&&$[J+1]==">"){J++;break}else continue}return J},FZ=function($,J){if($.length>J+5&&$[J+1]==="-"&&$[J+2]==="-"){for(J+=3;J<$.length;J++)if($[J]==="-"&&$[J+1]==="-"&&$[J+2]===">"){J+=2;break}}else if($.length>J+8&&$[J+1]==="D"&&$[J+2]==="O"&&$[J+3]==="C"&&$[J+4]==="T"&&$[J+5]==="Y"&&$[J+6]==="P"&&$[J+7]==="E"){let Q=1;for(J+=8;J<$.length;J++)if($[J]==="<")Q++;else if($[J]===">"){if(Q--,Q===0)break}}else if($.length>J+9&&$[J+1]==="["&&$[J+2]==="C"&&$[J+3]==="D"&&$[J+4]==="A"&&$[J+5]==="T"&&$[J+6]==="A"&&$[J+7]==="["){for(J+=8;J<$.length;J++)if($[J]==="]"&&$[J+1]==="]"&&$[J+2]===">"){J+=2;break}}return J},_z=function($,J){let Q="",W="",X=!1;for(;J<$.length;J++){if($[J]===Nz||$[J]===kz)if(W==="")W=$[J];else if(W!==$[J]);else W="";else if($[J]===">"){if(W===""){X=!0;break}}Q+=$[J]}if(W!=="")return!1;return{value:Q,index:J,tagClosed:X}},zZ=function($,J){const Q=XQ.getAllMatches($,fz),W={};for(let X=0;X<Q.length;X++){if(Q[X][1].length===0)return _("InvalidAttr","Attribute '"+Q[X][2]+"' has no space in starting.",S8(Q[X]));else if(Q[X][3]!==void 0&&Q[X][4]===void 0)return _("InvalidAttr","Attribute '"+Q[X][2]+"' is without value.",S8(Q[X]));else if(Q[X][3]===void 0&&!J.allowBooleanAttributes)return _("InvalidAttr","boolean attribute '"+Q[X][2]+"' is not allowed.",S8(Q[X]));const Z=Q[X][2];if(!gz(Z))return _("InvalidAttr","Attribute '"+Z+"' is an invalid name.",S8(Q[X]));if(!W.hasOwnProperty(Z))W[Z]=1;else return _("InvalidAttr","Attribute '"+Z+"' is repeated.",S8(Q[X]))}return!0},Pz=function($,J){let Q=/\d/;if($[J]==="x")J++,Q=/[\da-fA-F]/;for(;J<$.length;J++){if($[J]===";")return J;if(!$[J].match(Q))break}return-1},hz=function($,J){if(J++,$[J]===";")return-1;if($[J]==="#")return J++,Pz($,J);let Q=0;for(;J<$.length;J++,Q++){if($[J].match(/\w/)&&Q<20)continue;if($[J]===";")break;return-1}return J},_=function($,J,Q){return{err:{code:$,msg:J,line:Q.line||Q,col:Q.col}}},gz=function($){return XQ.isName($)},vz=function($){return XQ.isName($)},i=function($,J){const Q=$.substring(0,J).split(/\r?\n/);return{line:Q.length,col:Q[Q.length-1].length+1}},S8=function($){return $.startIndex+$[1].length},XQ=j1(),Ez={allowBooleanAttributes:!1,unpairedTags:[]};yz.validate=function($,J){J=Object.assign({},Ez,J);const Q=[];let W=!1,X=!1;if($[0]==="\uFEFF")$=$.substr(1);for(let Z=0;Z<$.length;Z++)if($[Z]==="<"&&$[Z+1]==="?"){if(Z+=2,Z=YZ($,Z),Z.err)return Z}else if($[Z]==="<"){let K=Z;if(Z++,$[Z]==="!"){Z=FZ($,Z);continue}else{let G=!1;if($[Z]==="/")G=!0,Z++;let F="";for(;Z<$.length&&$[Z]!==">"&&$[Z]!==" "&&$[Z]!=="\t"&&$[Z]!=="\n"&&$[Z]!=="\r";Z++)F+=$[Z];if(F=F.trim(),F[F.length-1]==="/")F=F.substring(0,F.length-1),Z--;if(!vz(F)){let U;if(F.trim().length===0)U="Invalid space after '<'.";else U="Tag '"+F+"' is an invalid name.";return _("InvalidTag",U,i($,Z))}const Y=_z($,Z);if(Y===!1)return _("InvalidAttr","Attributes for '"+F+"' have open quote.",i($,Z));let V=Y.value;if(Z=Y.index,V[V.length-1]==="/"){const U=Z-V.length;V=V.substring(0,V.length-1);const z=zZ(V,J);if(z===!0)W=!0;else return _(z.err.code,z.err.msg,i($,U+z.err.line))}else if(G)if(!Y.tagClosed)return _("InvalidTag","Closing tag '"+F+"' doesn't have proper closing.",i($,Z));else if(V.trim().length>0)return _("InvalidTag","Closing tag '"+F+"' can't have attributes or invalid starting.",i($,K));else{const U=Q.pop();if(F!==U.tagName){let z=i($,U.tagStartPos);return _("InvalidTag","Expected closing tag '"+U.tagName+"' (opened in line "+z.line+", col "+z.col+") instead of closing tag '"+F+"'.",i($,K))}if(Q.length==0)X=!0}else{const U=zZ(V,J);if(U!==!0)return _(U.err.code,U.err.msg,i($,Z-V.length+U.err.line));if(X===!0)return _("InvalidXml","Multiple possible root nodes found.",i($,Z));else if(J.unpairedTags.indexOf(F)!==-1);else Q.push({tagName:F,tagStartPos:K});W=!0}for(Z++;Z<$.length;Z++)if($[Z]==="<")if($[Z+1]==="!"){Z++,Z=FZ($,Z);continue}else if($[Z+1]==="?"){if(Z=YZ($,++Z),Z.err)return Z}else break;else if($[Z]==="&"){const U=hz($,Z);if(U==-1)return _("InvalidChar","char '&' is not expected.",i($,Z));Z=U}else if(X===!0&&!KZ($[Z]))return _("InvalidXml","Extra text at the end",i($,Z));if($[Z]==="<")Z--}}else{if(KZ($[Z]))continue;return _("InvalidChar","char '"+$[Z]+"' is not expected.",i($,Z))}if(!W)return _("InvalidXml","Start tag expected.",1);else if(Q.length==1)return _("InvalidTag","Unclosed tag '"+Q[0].tagName+"'.",i($,Q[0].tagStartPos));else if(Q.length>0)return _("InvalidXml","Invalid '"+JSON.stringify(Q.map((Z)=>Z.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1});return!0};var Nz='"',kz="'",fz=new RegExp('(\\s*)([^\\s=]+)(\\s*=)?(\\s*([\'"])(([\\s\\S])*?)\\5)?',"g")});var UZ=M((mz)=>{var VZ={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function($,J){return J},attributeValueProcessor:function($,J){return J},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function($,J,Q){return $}},xz=function($){return Object.assign({},VZ,$)};mz.buildOptions=xz;mz.defaultOptions=VZ});var LZ=M((Mj,BZ)=>{class IZ{constructor($){this.tagname=$,this.child=[],this[":@"]={}}add($,J){if($==="__proto__")$="#__proto__";this.child.push({[$]:J})}addChild($){if($.tagname==="__proto__")$.tagname="#__proto__";if($[":@"]&&Object.keys($[":@"]).length>0)this.child.push({[$.tagname]:$.child,[":@"]:$[":@"]});else this.child.push({[$.tagname]:$.child})}}BZ.exports=IZ});var qZ=M((qj,MZ)=>{var sz=function($,J){const Q={};if($[J+3]==="O"&&$[J+4]==="C"&&$[J+5]==="T"&&$[J+6]==="Y"&&$[J+7]==="P"&&$[J+8]==="E"){J=J+9;let W=1,X=!1,Z=!1,K="";for(;J<$.length;J++)if($[J]==="<"&&!Z){if(X&&pz($,J)){if(J+=7,[entityName,val,J]=rz($,J+1),val.indexOf("&")===-1)Q[oz(entityName)]={regx:RegExp(`&${entityName};`,"g"),val}}else if(X&&az($,J))J+=8;else if(X&&nz($,J))J+=8;else if(X&&uz($,J))J+=9;else if(iz)Z=!0;else throw new Error("Invalid DOCTYPE");W++,K=""}else if($[J]===">"){if(Z){if($[J-1]==="-"&&$[J-2]==="-")Z=!1,W--}else W--;if(W===0)break}else if($[J]==="[")X=!0;else K+=$[J];if(W!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:Q,i:J}},rz=function($,J){let Q="";for(;J<$.length&&($[J]!=="'"&&$[J]!=='"');J++)Q+=$[J];if(Q=Q.trim(),Q.indexOf(" ")!==-1)throw new Error("External entites are not supported");const W=$[J++];let X="";for(;J<$.length&&$[J]!==W;J++)X+=$[J];return[Q,X,J]},iz=function($,J){if($[J+1]==="!"&&$[J+2]==="-"&&$[J+3]==="-")return!0;return!1},pz=function($,J){if($[J+1]==="!"&&$[J+2]==="E"&&$[J+3]==="N"&&$[J+4]==="T"&&$[J+5]==="I"&&$[J+6]==="T"&&$[J+7]==="Y")return!0;return!1},az=function($,J){if($[J+1]==="!"&&$[J+2]==="E"&&$[J+3]==="L"&&$[J+4]==="E"&&$[J+5]==="M"&&$[J+6]==="E"&&$[J+7]==="N"&&$[J+8]==="T")return!0;return!1},nz=function($,J){if($[J+1]==="!"&&$[J+2]==="A"&&$[J+3]==="T"&&$[J+4]==="T"&&$[J+5]==="L"&&$[J+6]==="I"&&$[J+7]==="S"&&$[J+8]==="T")return!0;return!1},uz=function($,J){if($[J+1]==="!"&&$[J+2]==="N"&&$[J+3]==="O"&&$[J+4]==="T"&&$[J+5]==="A"&&$[J+6]==="T"&&$[J+7]==="I"&&$[J+8]==="O"&&$[J+9]==="N")return!0;return!1},oz=function($){if(dz.isName($))return $;else throw new Error(`Invalid entity name ${$}`)},dz=j1();MZ.exports=sz});var HZ=M((wj,wZ)=>{var J3=function($,J={}){if(J=Object.assign({},$3,J),!$||typeof $!=="string")return $;let Q=$.trim();if(J.skipLike!==void 0&&J.skipLike.test(Q))return $;else if(J.hex&&ez.test(Q))return Number.parseInt(Q,16);else{const W=tz.exec(Q);if(W){const X=W[1],Z=W[2];let K=Q3(W[3]);const G=W[4]||W[6];if(!J.leadingZeros&&Z.length>0&&X&&Q[2]!==".")return $;else if(!J.leadingZeros&&Z.length>0&&!X&&Q[1]!==".")return $;else{const F=Number(Q),Y=""+F;if(Y.search(/[eE]/)!==-1)if(J.eNotation)return F;else return $;else if(G)if(J.eNotation)return F;else return $;else if(Q.indexOf(".")!==-1)if(Y==="0"&&K==="")return F;else if(Y===K)return F;else if(X&&Y==="-"+K)return F;else return $;if(Z)if(K===Y)return F;else if(X+K===Y)return F;else return $;if(Q===Y)return F;else if(Q===X+Y)return F;return $}}else return $}},Q3=function($){if($&&$.indexOf(".")!==-1){if($=$.replace(/0+$/,""),$===".")$="0";else if($[0]===".")$="0"+$;else if($[$.length-1]===".")$=$.substr(0,$.length-1);return $}return $},ez=/^[-+]?0x[a-fA-F0-9]+$/,tz=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;if(!Number.parseInt&&window.parseInt)Number.parseInt=window.parseInt;if(!Number.parseFloat&&window.parseFloat)Number.parseFloat=window.parseFloat;var $3={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};wZ.exports=J3});var TZ=M((Cj,RZ)=>{var Z3=function($){const J=Object.keys($);for(let Q=0;Q<J.length;Q++){const W=J[Q];this.lastEntities[W]={regex:new RegExp("&"+W+";","g"),val:$[W]}}},G3=function($,J,Q,W,X,Z,K){if($!==void 0){if(this.options.trimValues&&!W)$=$.trim();if($.length>0){if(!K)$=this.replaceEntitiesValue($);const G=this.options.tagValueProcessor(J,$,Q,X,Z);if(G===null||G===void 0)return $;else if(typeof G!==typeof $||G!==$)return G;else if(this.options.trimValues)return KQ($,this.options.parseTagValue,this.options.numberParseOptions);else if($.trim()===$)return KQ($,this.options.parseTagValue,this.options.numberParseOptions);else return $}}},K3=function($){if(this.options.removeNSPrefix){const J=$.split(":"),Q=$.charAt(0)==="/"?"/":"";if(J[0]==="xmlns")return"";if(J.length===2)$=Q+J[1]}return $},F3=function($,J,Q){if(!this.options.ignoreAttributes&&typeof $==="string"){const W=YQ.getAllMatches($,Y3),X=W.length,Z={};for(let K=0;K<X;K++){const G=this.resolveNameSpace(W[K][1]);let F=W[K][4],Y=this.options.attributeNamePrefix+G;if(G.length){if(this.options.transformAttributeName)Y=this.options.transformAttributeName(Y);if(Y==="__proto__")Y="#__proto__";if(F!==void 0){if(this.options.trimValues)F=F.trim();F=this.replaceEntitiesValue(F);const V=this.options.attributeValueProcessor(G,F,J);if(V===null||V===void 0)Z[Y]=F;else if(typeof V!==typeof F||V!==F)Z[Y]=V;else Z[Y]=KQ(F,this.options.parseAttributeValue,this.options.numberParseOptions)}else if(this.options.allowBooleanAttributes)Z[Y]=!0}}if(!Object.keys(Z).length)return;if(this.options.attributesGroupName){const K={};return K[this.options.attributesGroupName]=Z,K}return Z}},V3=function($,J,Q){const W=this.options.updateTag(J.tagname,Q,J[":@"]);if(W===!1);else if(typeof W==="string")J.tagname=W,$.addChild(J);else $.addChild(J)},I3=function($,J,Q,W){if($){if(W===void 0)W=Object.keys(J.child).length===0;if($=this.parseTextData($,J.tagname,Q,!1,J[":@"]?Object.keys(J[":@"]).length!==0:!1,W),$!==void 0&&$!=="")J.add(this.options.textNodeName,$);$=""}return $},B3=function($,J,Q){const W="*."+Q;for(let X in $){const Z=$[X];if(W===Z||J===Z)return!0}return!1},L3=function($,J,Q=">"){let W,X="";for(let Z=J;Z<$.length;Z++){let K=$[Z];if(W){if(K===W)W=""}else if(K==='"'||K==="'")W=K;else if(K===Q[0])if(Q[1]){if($[Z+1]===Q[1])return{data:X,index:Z}}else return{data:X,index:Z};else if(K==="\t")K=" ";X+=K}},m0=function($,J,Q,W){const X=$.indexOf(J,Q);if(X===-1)throw new Error(W);else return X+J.length-1},GQ=function($,J,Q,W=">"){const X=L3($,J+1,W);if(!X)return;let Z=X.data;const K=X.index,G=Z.search(/\s/);let F=Z,Y=!0;if(G!==-1)F=Z.substr(0,G).replace(/\s\s*$/,""),Z=Z.substr(G+1);if(Q){const V=F.indexOf(":");if(V!==-1)F=F.substr(V+1),Y=F!==X.data.substr(V+1)}return{tagName:F,tagExp:Z,closeIndex:K,attrExpPresent:Y}},M3=function($,J,Q){const W=Q;let X=1;for(;Q<$.length;Q++)if($[Q]==="<")if($[Q+1]==="/"){const Z=m0($,">",Q,`${J} is not closed`);if($.substring(Q+2,Z).trim()===J){if(X--,X===0)return{tagContent:$.substring(W,Q),i:Z}}Q=Z}else if($[Q+1]==="?")Q=m0($,"?>",Q+1,"StopNode is not closed.");else if($.substr(Q+1,3)==="!--")Q=m0($,"-->",Q+3,"StopNode is not closed.");else if($.substr(Q+1,2)==="![")Q=m0($,"]]>",Q,"StopNode is not closed.")-2;else{const Z=GQ($,Q,">");if(Z){if((Z&&Z.tagName)===J&&Z.tagExp[Z.tagExp.length-1]!=="/")X++;Q=Z.closeIndex}}},KQ=function($,J,Q){if(J&&typeof $==="string"){const W=$.trim();if(W==="true")return!0;else if(W==="false")return!1;else return X3($,Q)}else if(YQ.isExist($))return $;else return""},YQ=j1(),E8=LZ(),W3=qZ(),X3=HZ(),Hj="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,YQ.nameRegexp);class CZ{constructor($){this.options=$,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:"\""}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=Z3,this.parseXml=z3,this.parseTextData=G3,this.resolveNameSpace=K3,this.buildAttributesMap=F3,this.isItStopNode=B3,this.replaceEntitiesValue=U3,this.readStopNodeData=M3,this.saveTextToParentTag=I3,this.addChild=V3}}var Y3=new RegExp('([^\\s=]+)\\s*(=\\s*([\'"])([\\s\\S]*?)\\3)?',"gm"),z3=function($){$=$.replace(/\r\n?/g,"\n");const J=new E8("!xml");let Q=J,W="",X="";for(let Z=0;Z<$.length;Z++)if($[Z]==="<")if($[Z+1]==="/"){const G=m0($,">",Z,"Closing Tag is not closed.");let F=$.substring(Z+2,G).trim();if(this.options.removeNSPrefix){const U=F.indexOf(":");if(U!==-1)F=F.substr(U+1)}if(this.options.transformTagName)F=this.options.transformTagName(F);if(Q)W=this.saveTextToParentTag(W,Q,X);const Y=X.substring(X.lastIndexOf(".")+1);if(F&&this.options.unpairedTags.indexOf(F)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${F}>`);let V=0;if(Y&&this.options.unpairedTags.indexOf(Y)!==-1)V=X.lastIndexOf(".",X.lastIndexOf(".")-1),this.tagsNodeStack.pop();else V=X.lastIndexOf(".");X=X.substring(0,V),Q=this.tagsNodeStack.pop(),W="",Z=G}else if($[Z+1]==="?"){let G=GQ($,Z,!1,"?>");if(!G)throw new Error("Pi Tag is not closed.");if(W=this.saveTextToParentTag(W,Q,X),this.options.ignoreDeclaration&&G.tagName==="?xml"||this.options.ignorePiTags);else{const F=new E8(G.tagName);if(F.add(this.options.textNodeName,""),G.tagName!==G.tagExp&&G.attrExpPresent)F[":@"]=this.buildAttributesMap(G.tagExp,X,G.tagName);this.addChild(Q,F,X)}Z=G.closeIndex+1}else if($.substr(Z+1,3)==="!--"){const G=m0($,"-->",Z+4,"Comment is not closed.");if(this.options.commentPropName){const F=$.substring(Z+4,G-2);W=this.saveTextToParentTag(W,Q,X),Q.add(this.options.commentPropName,[{[this.options.textNodeName]:F}])}Z=G}else if($.substr(Z+1,2)==="!D"){const G=W3($,Z);this.docTypeEntities=G.entities,Z=G.i}else if($.substr(Z+1,2)==="!["){const G=m0($,"]]>",Z,"CDATA is not closed.")-2,F=$.substring(Z+9,G);if(W=this.saveTextToParentTag(W,Q,X),this.options.cdataPropName)Q.add(this.options.cdataPropName,[{[this.options.textNodeName]:F}]);else{let Y=this.parseTextData(F,Q.tagname,X,!0,!1,!0);if(Y==void 0)Y="";Q.add(this.options.textNodeName,Y)}Z=G+2}else{let G=GQ($,Z,this.options.removeNSPrefix),F=G.tagName,Y=G.tagExp,V=G.attrExpPresent,U=G.closeIndex;if(this.options.transformTagName)F=this.options.transformTagName(F);if(Q&&W){if(Q.tagname!=="!xml")W=this.saveTextToParentTag(W,Q,X,!1)}const z=Q;if(z&&this.options.unpairedTags.indexOf(z.tagname)!==-1)Q=this.tagsNodeStack.pop(),X=X.substring(0,X.lastIndexOf("."));if(F!==J.tagname)X+=X?"."+F:F;if(this.isItStopNode(this.options.stopNodes,X,F)){let I="";if(Y.length>0&&Y.lastIndexOf("/")===Y.length-1)Z=G.closeIndex;else if(this.options.unpairedTags.indexOf(F)!==-1)Z=G.closeIndex;else{const L=this.readStopNodeData($,F,U+1);if(!L)throw new Error(`Unexpected end of ${F}`);Z=L.i,I=L.tagContent}const B=new E8(F);if(F!==Y&&V)B[":@"]=this.buildAttributesMap(Y,X,F);if(I)I=this.parseTextData(I,F,X,!0,V,!0,!0);X=X.substr(0,X.lastIndexOf(".")),B.add(this.options.textNodeName,I),this.addChild(Q,B,X)}else{if(Y.length>0&&Y.lastIndexOf("/")===Y.length-1){if(F[F.length-1]==="/")F=F.substr(0,F.length-1),Y=F;else Y=Y.substr(0,Y.length-1);if(this.options.transformTagName)F=this.options.transformTagName(F);const I=new E8(F);if(F!==Y&&V)I[":@"]=this.buildAttributesMap(Y,X,F);this.addChild(Q,I,X),X=X.substr(0,X.lastIndexOf("."))}else{const I=new E8(F);if(this.tagsNodeStack.push(Q),F!==Y&&V)I[":@"]=this.buildAttributesMap(Y,X,F);this.addChild(Q,I,X),Q=I}W="",Z=U}}else W+=$[Z];return J.child},U3=function($){if(this.options.processEntities){for(let J in this.docTypeEntities){const Q=this.docTypeEntities[J];$=$.replace(Q.regx,Q.val)}for(let J in this.lastEntities){const Q=this.lastEntities[J];$=$.replace(Q.regex,Q.val)}if(this.options.htmlEntities)for(let J in this.htmlEntities){const Q=this.htmlEntities[J];$=$.replace(Q.regex,Q.val)}$=$.replace(this.ampEntity.regex,this.ampEntity.val)}return $};RZ.exports=CZ});var OZ=M((R3)=>{var q3=function($,J){return AZ($,J)},AZ=function($,J,Q){let W;const X={};for(let Z=0;Z<$.length;Z++){const K=$[Z],G=w3(K);let F="";if(Q===void 0)F=G;else F=Q+"."+G;if(G===J.textNodeName)if(W===void 0)W=K[G];else W+=""+K[G];else if(G===void 0)continue;else if(K[G]){let Y=AZ(K[G],J,F);const V=C3(Y,J);if(K[":@"])H3(Y,K[":@"],F,J);else if(Object.keys(Y).length===1&&Y[J.textNodeName]!==void 0&&!J.alwaysCreateTextNode)Y=Y[J.textNodeName];else if(Object.keys(Y).length===0)if(J.alwaysCreateTextNode)Y[J.textNodeName]="";else Y="";if(X[G]!==void 0&&X.hasOwnProperty(G)){if(!Array.isArray(X[G]))X[G]=[X[G]];X[G].push(Y)}else if(J.isArray(G,F,V))X[G]=[Y];else X[G]=Y}}if(typeof W==="string"){if(W.length>0)X[J.textNodeName]=W}else if(W!==void 0)X[J.textNodeName]=W;return X},w3=function($){const J=Object.keys($);for(let Q=0;Q<J.length;Q++){const W=J[Q];if(W!==":@")return W}},H3=function($,J,Q,W){if(J){const X=Object.keys(J),Z=X.length;for(let K=0;K<Z;K++){const G=X[K];if(W.isArray(G,Q+"."+G,!0,!0))$[G]=[J[G]];else $[G]=J[G]}}},C3=function($,J){const{textNodeName:Q}=J,W=Object.keys($).length;if(W===0)return!0;if(W===1&&($[Q]||typeof $[Q]==="boolean"||$[Q]===0))return!0;return!1};R3.prettify=q3});var SZ=M((Tj,DZ)=>{var{buildOptions:A3}=UZ(),O3=TZ(),{prettify:j3}=OZ(),D3=ZQ();class jZ{constructor($){this.externalEntities={},this.options=A3($)}parse($,J){if(typeof $==="string");else if($.toString)$=$.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(J){if(J===!0)J={};const X=D3.validate($,J);if(X!==!0)throw Error(`${X.err.msg}:${X.err.line}:${X.err.col}`)}const Q=new O3(this.options);Q.addExternalEntities(this.externalEntities);const W=Q.parseXml($);if(this.options.preserveOrder||W===void 0)return W;else return j3(W,this.options)}addEntity($,J){if(J.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");else if($.indexOf("&")!==-1||$.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");else if(J==="&")throw new Error("An entity with value '&' is not permitted");else this.externalEntities[$]=J}}DZ.exports=jZ});var fZ=M((Aj,_Z)=>{var S3=function($,J){let Q="";if(J.format&&J.indentBy.length>0)Q="\n";return NZ($,J,"",Q)},NZ=function($,J,Q,W){let X="",Z=!1;for(let K=0;K<$.length;K++){const G=$[K],F=E3(G);let Y="";if(Q.length===0)Y=F;else Y=`${Q}.${F}`;if(F===J.textNodeName){let B=G[F];if(!N3(Y,J))B=J.tagValueProcessor(F,B),B=kZ(B,J);if(Z)X+=W;X+=B,Z=!1;continue}else if(F===J.cdataPropName){if(Z)X+=W;X+=`<![CDATA[${G[F][0][J.textNodeName]}]]>`,Z=!1;continue}else if(F===J.commentPropName){X+=W+`<!--${G[F][0][J.textNodeName]}-->`,Z=!0;continue}else if(F[0]==="?"){const B=EZ(G[":@"],J),L=F==="?xml"?"":W;let q=G[F][0][J.textNodeName];q=q.length!==0?" "+q:"",X+=L+`<${F}${q}${B}?>`,Z=!0;continue}let V=W;if(V!=="")V+=J.indentBy;const U=EZ(G[":@"],J),z=W+`<${F}${U}`,I=NZ(G[F],J,Y,V);if(J.unpairedTags.indexOf(F)!==-1)if(J.suppressUnpairedNode)X+=z+">";else X+=z+"/>";else if((!I||I.length===0)&&J.suppressEmptyNode)X+=z+"/>";else if(I&&I.endsWith(">"))X+=z+`>${I}${W}</${F}>`;else{if(X+=z+">",I&&W!==""&&(I.includes("/>")||I.includes("</")))X+=W+J.indentBy+I+W;else X+=I;X+=`</${F}>`}Z=!0}return X},E3=function($){const J=Object.keys($);for(let Q=0;Q<J.length;Q++){const W=J[Q];if(W!==":@")return W}},EZ=function($,J){let Q="";if($&&!J.ignoreAttributes)for(let W in $){let X=J.attributeValueProcessor(W,$[W]);if(X=kZ(X,J),X===!0&&J.suppressBooleanAttributes)Q+=` ${W.substr(J.attributeNamePrefix.length)}`;else Q+=` ${W.substr(J.attributeNamePrefix.length)}="${X}"`}return Q},N3=function($,J){$=$.substr(0,$.length-J.textNodeName.length-1);let Q=$.substr($.lastIndexOf(".")+1);for(let W in J.stopNodes)if(J.stopNodes[W]===$||J.stopNodes[W]==="*."+Q)return!0;return!1},kZ=function($,J){if($&&$.length>0&&J.processEntities)for(let Q=0;Q<J.entities.length;Q++){const W=J.entities[Q];$=$.replace(W.regex,W.val)}return $};_Z.exports=S3});var hZ=M((Oj,PZ)=>{var j0=function($){if(this.options=Object.assign({},_3,$),this.options.ignoreAttributes||this.options.attributesGroupName)this.isAttribute=function(){return!1};else this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=h3;if(this.processTextOrObjNode=f3,this.options.format)this.indentate=P3,this.tagEndChar=">\n",this.newLine="\n";else this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""},f3=function($,J,Q){const W=this.j2x($,Q+1);if($[this.options.textNodeName]!==void 0&&Object.keys($).length===1)return this.buildTextValNode($[this.options.textNodeName],J,W.attrStr,Q);else return this.buildObjectNode(W.val,J,W.attrStr,Q)},P3=function($){return this.options.indentBy.repeat($)},h3=function($){if($.startsWith(this.options.attributeNamePrefix))return $.substr(this.attrPrefixLen);else return!1},k3=fZ(),_3={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function($,J){return J},attributeValueProcessor:function($,J){return J},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("\'","g"),val:"&apos;"},{regex:new RegExp("\"","g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};j0.prototype.build=function($){if(this.options.preserveOrder)return k3($,this.options);else{if(Array.isArray($)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1)$={[this.options.arrayNodeName]:$};return this.j2x($,0).val}};j0.prototype.j2x=function($,J){let Q="",W="";for(let X in $)if(typeof $[X]==="undefined");else if($[X]===null)if(X[0]==="?")W+=this.indentate(J)+"<"+X+"?"+this.tagEndChar;else W+=this.indentate(J)+"<"+X+"/"+this.tagEndChar;else if($[X]instanceof Date)W+=this.buildTextValNode($[X],X,"",J);else if(typeof $[X]!=="object"){const Z=this.isAttribute(X);if(Z)Q+=this.buildAttrPairStr(Z,""+$[X]);else if(X===this.options.textNodeName){let K=this.options.tagValueProcessor(X,""+$[X]);W+=this.replaceEntitiesValue(K)}else W+=this.buildTextValNode($[X],X,"",J)}else if(Array.isArray($[X])){const Z=$[X].length;let K="";for(let G=0;G<Z;G++){const F=$[X][G];if(typeof F==="undefined");else if(F===null)if(X[0]==="?")W+=this.indentate(J)+"<"+X+"?"+this.tagEndChar;else W+=this.indentate(J)+"<"+X+"/"+this.tagEndChar;else if(typeof F==="object")if(this.options.oneListGroup)K+=this.j2x(F,J+1).val;else K+=this.processTextOrObjNode(F,X,J);else K+=this.buildTextValNode(F,X,"",J)}if(this.options.oneListGroup)K=this.buildObjectNode(K,X,"",J);W+=K}else if(this.options.attributesGroupName&&X===this.options.attributesGroupName){const Z=Object.keys($[X]),K=Z.length;for(let G=0;G<K;G++)Q+=this.buildAttrPairStr(Z[G],""+$[X][Z[G]])}else W+=this.processTextOrObjNode($[X],X,J);return{attrStr:Q,val:W}};j0.prototype.buildAttrPairStr=function($,J){if(J=this.options.attributeValueProcessor($,""+J),J=this.replaceEntitiesValue(J),this.options.suppressBooleanAttributes&&J==="true")return" "+$;else return" "+$+'="'+J+'"'};j0.prototype.buildObjectNode=function($,J,Q,W){if($==="")if(J[0]==="?")return this.indentate(W)+"<"+J+Q+"?"+this.tagEndChar;else return this.indentate(W)+"<"+J+Q+this.closeTag(J)+this.tagEndChar;else{let X="</"+J+this.tagEndChar,Z="";if(J[0]==="?")Z="?",X="";if(Q&&$.indexOf("<")===-1)return this.indentate(W)+"<"+J+Q+Z+">"+$+X;else if(this.options.commentPropName!==!1&&J===this.options.commentPropName&&Z.length===0)return this.indentate(W)+`<!--${$}-->`+this.newLine;else return this.indentate(W)+"<"+J+Q+Z+this.tagEndChar+$+this.indentate(W)+X}};j0.prototype.closeTag=function($){let J="";if(this.options.unpairedTags.indexOf($)!==-1){if(!this.options.suppressUnpairedNode)J="/"}else if(this.options.suppressEmptyNode)J="/";else J=`></${$}`;return J};j0.prototype.buildTextValNode=function($,J,Q,W){if(this.options.cdataPropName!==!1&&J===this.options.cdataPropName)return this.indentate(W)+`<![CDATA[${$}]]>`+this.newLine;else if(this.options.commentPropName!==!1&&J===this.options.commentPropName)return this.indentate(W)+`<!--${$}-->`+this.newLine;else if(J[0]==="?")return this.indentate(W)+"<"+J+Q+"?"+this.tagEndChar;else{let X=this.options.tagValueProcessor(J,$);if(X=this.replaceEntitiesValue(X),X==="")return this.indentate(W)+"<"+J+Q+this.closeTag(J)+this.tagEndChar;else return this.indentate(W)+"<"+J+Q+">"+X+"</"+J+this.tagEndChar}};j0.prototype.replaceEntitiesValue=function($){if($&&$.length>0&&this.options.processEntities)for(let J=0;J<this.options.entities.length;J++){const Q=this.options.entities[J];$=$.replace(Q.regex,Q.val)}return $};PZ.exports=j0});var vZ=M((jj,gZ)=>{var g3=ZQ(),v3=SZ(),y3=hZ();gZ.exports={XMLParser:v3,XMLValidator:g3,XMLBuilder:y3}});var MQ={};K0(MQ,{__values:()=>{{return LQ}},__spreadArrays:()=>{{return V2}},__spread:()=>{{return z2}},__rest:()=>{{return Q2}},__read:()=>{{return JG}},__param:()=>{{return X2}},__metadata:()=>{{return Z2}},__makeTemplateObject:()=>{{return L2}},__importStar:()=>{{return M2}},__importDefault:()=>{{return q2}},__generator:()=>{{return K2}},__extends:()=>{{return J2}},__exportStar:()=>{{return F2}},__decorate:()=>{{return W2}},__createBinding:()=>{{return Y2}},__classPrivateFieldSet:()=>{{return H2}},__classPrivateFieldGet:()=>{{return w2}},__awaiter:()=>{{return G2}},__await:()=>{{return k8}},__asyncValues:()=>{{return B2}},__asyncGenerator:()=>{{return U2}},__asyncDelegator:()=>{{return I2}},__assign:()=>{{return BQ}}});function J2($,J){IQ($,J);function Q(){this.constructor=$}$.prototype=J===null?Object.create(J):(Q.prototype=J.prototype,new Q)}function Q2($,J){var Q={};for(var W in $)if(Object.prototype.hasOwnProperty.call($,W)&&J.indexOf(W)<0)Q[W]=$[W];if($!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var X=0,W=Object.getOwnPropertySymbols($);X<W.length;X++)if(J.indexOf(W[X])<0&&Object.prototype.propertyIsEnumerable.call($,W[X]))Q[W[X]]=$[W[X]]}return Q}function W2($,J,Q,W){var X=arguments.length,Z=X<3?J:W===null?W=Object.getOwnPropertyDescriptor(J,Q):W,K;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate($,J,Q,W);else for(var G=$.length-1;G>=0;G--)if(K=$[G])Z=(X<3?K(Z):X>3?K(J,Q,Z):K(J,Q))||Z;return X>3&&Z&&Object.defineProperty(J,Q,Z),Z}function X2($,J){return function(Q,W){J(Q,W,$)}}function Z2($,J){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata($,J)}function G2($,J,Q,W){function X(Z){return Z instanceof Q?Z:new Q(function(K){K(Z)})}return new(Q||(Q=Promise))(function(Z,K){function G(V){try{Y(W.next(V))}catch(U){K(U)}}function F(V){try{Y(W.throw(V))}catch(U){K(U)}}function Y(V){V.done?Z(V.value):X(V.value).then(G,F)}Y((W=W.apply($,J||[])).next())})}function K2($,J){var Q={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},W,X,Z,K;return K={next:G(0),throw:G(1),return:G(2)},typeof Symbol==="function"&&(K[Symbol.iterator]=function(){return this}),K;function G(Y){return function(V){return F([Y,V])}}function F(Y){if(W)throw new TypeError("Generator is already executing.");while(Q)try{if(W=1,X&&(Z=Y[0]&2?X.return:Y[0]?X.throw||((Z=X.return)&&Z.call(X),0):X.next)&&!(Z=Z.call(X,Y[1])).done)return Z;if(X=0,Z)Y=[Y[0]&2,Z.value];switch(Y[0]){case 0:case 1:Z=Y;break;case 4:return Q.label++,{value:Y[1],done:!1};case 5:Q.label++,X=Y[1],Y=[0];continue;case 7:Y=Q.ops.pop(),Q.trys.pop();continue;default:if((Z=Q.trys,!(Z=Z.length>0&&Z[Z.length-1]))&&(Y[0]===6||Y[0]===2)){Q=0;continue}if(Y[0]===3&&(!Z||Y[1]>Z[0]&&Y[1]<Z[3])){Q.label=Y[1];break}if(Y[0]===6&&Q.label<Z[1]){Q.label=Z[1],Z=Y;break}if(Z&&Q.label<Z[2]){Q.label=Z[2],Q.ops.push(Y);break}if(Z[2])Q.ops.pop();Q.trys.pop();continue}Y=J.call($,Q)}catch(V){Y=[6,V],X=0}finally{W=Z=0}if(Y[0]&5)throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}}function Y2($,J,Q,W){if(W===void 0)W=Q;$[W]=J[Q]}function F2($,J){for(var Q in $)if(Q!=="default"&&!J.hasOwnProperty(Q))J[Q]=$[Q]}function LQ($){var J=typeof Symbol==="function"&&Symbol.iterator,Q=J&&$[J],W=0;if(Q)return Q.call($);if($&&typeof $.length==="number")return{next:function(){if($&&W>=$.length)$=void 0;return{value:$&&$[W++],done:!$}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function JG($,J){var Q=typeof Symbol==="function"&&$[Symbol.iterator];if(!Q)return $;var W=Q.call($),X,Z=[],K;try{while((J===void 0||J-- >0)&&!(X=W.next()).done)Z.push(X.value)}catch(G){K={error:G}}finally{try{if(X&&!X.done&&(Q=W.return))Q.call(W)}finally{if(K)throw K.error}}return Z}function z2(){for(var $=[],J=0;J<arguments.length;J++)$=$.concat(JG(arguments[J]));return $}function V2(){for(var $=0,J=0,Q=arguments.length;J<Q;J++)$+=arguments[J].length;for(var W=Array($),X=0,J=0;J<Q;J++)for(var Z=arguments[J],K=0,G=Z.length;K<G;K++,X++)W[X]=Z[K];return W}function k8($){return this instanceof k8?(this.v=$,this):new k8($)}function U2($,J,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=Q.apply($,J||[]),X,Z=[];return X={},K("next"),K("throw"),K("return"),X[Symbol.asyncIterator]=function(){return this},X;function K(z){if(W[z])X[z]=function(I){return new Promise(function(B,L){Z.push([z,I,B,L])>1||G(z,I)})}}function G(z,I){try{F(W[z](I))}catch(B){U(Z[0][3],B)}}function F(z){z.value instanceof k8?Promise.resolve(z.value.v).then(Y,V):U(Z[0][2],z)}function Y(z){G("next",z)}function V(z){G("throw",z)}function U(z,I){if(z(I),Z.shift(),Z.length)G(Z[0][0],Z[0][1])}}function I2($){var J,Q;return J={},W("next"),W("throw",function(X){throw X}),W("return"),J[Symbol.iterator]=function(){return this},J;function W(X,Z){J[X]=$[X]?function(K){return(Q=!Q)?{value:k8($[X](K)),done:X==="return"}:Z?Z(K):K}:Z}}function B2($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=$[Symbol.asyncIterator],Q;return J?J.call($):($=typeof LQ==="function"?LQ($):$[Symbol.iterator](),Q={},W("next"),W("throw"),W("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function W(Z){Q[Z]=$[Z]&&function(K){return new Promise(function(G,F){K=$[Z](K),X(G,F,K.done,K.value)})}}function X(Z,K,G,F){Promise.resolve(F).then(function(Y){Z({value:Y,done:G})},K)}}function L2($,J){if(Object.defineProperty)Object.defineProperty($,"raw",{value:J});else $.raw=J;return $}function M2($){if($&&$.__esModule)return $;var J={};if($!=null){for(var Q in $)if(Object.hasOwnProperty.call($,Q))J[Q]=$[Q]}return J.default=$,J}function q2($){return $&&$.__esModule?$:{default:$}}function w2($,J){if(!J.has($))throw new TypeError("attempted to get private field on non-instance");return J.get($)}function H2($,J,Q){if(!J.has($))throw new TypeError("attempted to set private field on non-instance");return J.set($,Q),Q}var IQ,BQ;var qQ=E0(()=>{/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */IQ=function($,J){return IQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,W){Q.__proto__=W}||function(Q,W){for(var X in W)if(W.hasOwnProperty(X))Q[X]=W[X]},IQ($,J)},BQ=function(){return BQ=Object.assign||function $(J){for(var Q,W=1,X=arguments.length;W<X;W++){Q=arguments[W];for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z))J[Z]=Q[Z]}return J},BQ.apply(this,arguments)}});var GG=M((XG)=>{Object.defineProperty(XG,"__esModule",{value:!0});XG.AwsCrc32c=void 0;var QG=(qQ(),a(MQ)),wQ=Y0(),WG=HQ(),C2=function(){function $(){this.crc32c=new WG.Crc32c}return $.prototype.update=function(J){if((0,wQ.isEmptyData)(J))return;this.crc32c.update((0,wQ.convertToBuffer)(J))},$.prototype.digest=function(){return QG.__awaiter(this,void 0,void 0,function(){return QG.__generator(this,function(J){return[2,(0,wQ.numToUint8)(this.crc32c.digest())]})})},$.prototype.reset=function(){this.crc32c=new WG.Crc32c},$}();XG.AwsCrc32c=C2});var HQ=M((CQ)=>{var A2=function($){return new KG().update($).digest()};Object.defineProperty(CQ,"__esModule",{value:!0});CQ.AwsCrc32c=CQ.Crc32c=CQ.crc32c=void 0;var R2=(qQ(),a(MQ)),T2=Y0();CQ.crc32c=A2;var KG=function(){function $(){this.checksum=4294967295}return $.prototype.update=function(J){var Q,W;try{for(var X=R2.__values(J),Z=X.next();!Z.done;Z=X.next()){var K=Z.value;this.checksum=this.checksum>>>8^j2[(this.checksum^K)&255]}}catch(G){Q={error:G}}finally{try{if(Z&&!Z.done&&(W=X.return))W.call(X)}finally{if(Q)throw Q.error}}return this},$.prototype.digest=function(){return(this.checksum^4294967295)>>>0},$}();CQ.Crc32c=KG;var O2=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],j2=(0,T2.uint32ArrayFrom)(O2),D2=GG();Object.defineProperty(CQ,"AwsCrc32c",{enumerable:!0,get:function(){return D2.AwsCrc32c}})});var RQ=M((f2,qG)=>{f2.serialize=function($){return $&&typeof $.toJSON==="function"?$.toJSON():$}});var CG=M((FS,HG)=>{var wG=RQ().serialize;HG.exports=function $(J,Q){if(Q=wG(Q),Q===null||typeof Q!=="object"||Array.isArray(Q))return Q;if(J=wG(J),J===null||typeof J!=="object"||Array.isArray(J))J={};var W=Object.keys(Q);for(var X=0;X<W.length;X++){var Z=W[X];if(Z==="__proto__"||Z==="constructor"||Z==="prototype")return J;if(Q[Z]===null){if(J.hasOwnProperty(Z))delete J[Z]}else J[Z]=$(J[Z],Q[Z])}return J}});var TG=M((zS,RG)=>{RG.exports=function $(J,Q){if(J===Q)return!0;if(J&&Q&&typeof J=="object"&&typeof Q=="object"){if(J.constructor!==Q.constructor)return!1;var W,X,Z;if(Array.isArray(J)){if(W=J.length,W!=Q.length)return!1;for(X=W;X--!==0;)if(!$(J[X],Q[X]))return!1;return!0}if(J.constructor===RegExp)return J.source===Q.source&&J.flags===Q.flags;if(J.valueOf!==Object.prototype.valueOf)return J.valueOf()===Q.valueOf();if(J.toString!==Object.prototype.toString)return J.toString()===Q.toString();if(Z=Object.keys(J),W=Z.length,W!==Object.keys(Q).length)return!1;for(X=W;X--!==0;)if(!Object.prototype.hasOwnProperty.call(Q,Z[X]))return!1;for(X=W;X--!==0;){var K=Z[X];if(!$(J[K],Q[K]))return!1}return!0}return J!==J&&Q!==Q}});var OG=M((VS,AG)=>{var g2=function($,J){if($.length!==J.length)return!1;for(var Q=0;Q<$.length;Q++)if(!h2(J[Q],$[Q]))return!1;return!0},h2=TG(),c1=RQ().serialize;AG.exports=function $(J,Q){if(J=c1(J),Q=c1(Q),J===null||Q===null||typeof J!=="object"||typeof Q!=="object"||Array.isArray(J)!==Array.isArray(Q))return Q;if(Array.isArray(J)){if(!g2(J,Q))return Q;return}var W={},X=Object.keys(J),Z=Object.keys(Q),K,G,F={};for(G=0;G<Z.length;G++)if(K=Z[G],X.indexOf(K)===-1)F[K]=!0,W[K]=c1(Q[K]);var Y={};for(G=0;G<X.length;G++)if(K=X[G],Z.indexOf(K)===-1)Y[K]=!0,W[K]=null;else if(J[K]!==null&&typeof J[K]==="object"){var V=$(J[K],Q[K]);if(V!==void 0)W[K]=V}else if(J[K]!==Q[K])W[K]=c1(Q[K]);return Object.keys(W).length>0?W:void 0}});var DG=M((US,jG)=>{jG.exports=function $(J,Q){if(J===null||Q===null||typeof J!=="object"||typeof Q!=="object"||Array.isArray(J)!==Array.isArray(Q))return Q;var W=JSON.parse(JSON.stringify(J));return Object.keys(Q).forEach(function(X){if(J[X]!==void 0)W[X]=$(J[X],Q[X]);else W[X]=Q[X]}),W}});var d1;(function($){$.HEADER="header",$.QUERY="query"})(d1||(d1={}));var N0;(function($){$.HTTP="http",$.HTTPS="https"})(N0||(N0={}));var s1;(function($){$[$.HEADER=0]="HEADER",$[$.TRAILER=1]="TRAILER"})(s1||(s1={}));var r1;(function($){$.HTTP_0_9="http/0.9",$.HTTP_1_0="http/1.0",$.TDS_8_0="tds/8.0"})(r1||(r1={}));var PG=function($){return Object.keys($).reduce((J,Q)=>{const W=$[Q];return{...J,[Q]:Array.isArray(W)?[...W]:W}},{})};class O{constructor($){this.method=$.method||"GET",this.hostname=$.hostname||"localhost",this.port=$.port,this.query=$.query||{},this.headers=$.headers||{},this.body=$.body,this.protocol=$.protocol?$.protocol.slice(-1)!==":"?`${$.protocol}:`:$.protocol:"https:",this.path=$.path?$.path.charAt(0)!=="/"?`/${$.path}`:$.path:"/",this.username=$.username,this.password=$.password,this.fragment=$.fragment}static isInstance($){if(!$)return!1;const J=$;return("method"in J)&&("protocol"in J)&&("hostname"in J)&&("path"in J)&&typeof J.query==="object"&&typeof J.headers==="object"}clone(){const $=new O({...this,headers:{...this.headers}});if($.query)$.query=PG($.query);return $}}class $0{constructor($){this.statusCode=$.statusCode,this.reason=$.reason,this.headers=$.headers||{},this.body=$.body}static isInstance($){if(!$)return!1;const J=$;return typeof J.statusCode==="number"&&typeof J.headers==="object"}}function hG($){return(J)=>async(Q)=>{const{request:W}=Q;return J({...Q,request:W})}}var gG={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},kQ=($)=>({applyToStack:(J)=>{J.add(hG($),gG)}});function _Q($){return $}var vG=($)=>(J)=>async(Q)=>{if(!O.isInstance(Q.request))return J(Q);const{request:W}=Q,{handlerProtocol:X=""}=$.requestHandler.metadata||{};if(X.indexOf("h2")>=0&&!W.headers[":authority"])delete W.headers.host,W.headers[":authority"]="";else if(!W.headers.host){let Z=W.hostname;if(W.port!=null)Z+=`:${W.port}`;W.headers.host=Z}return J(Q)},yG={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},fQ=($)=>({applyToStack:(J)=>{J.add(vG($),yG)}});var bG=()=>($,J)=>async(Q)=>{try{const W=await $(Q),{clientName:X,commandName:Z,logger:K,dynamoDbDocumentClientOptions:G={}}=J,{overrideInputFilterSensitiveLog:F,overrideOutputFilterSensitiveLog:Y}=G,V=F??J.inputFilterSensitiveLog,U=Y??J.outputFilterSensitiveLog,{$metadata:z,...I}=W.output;return K?.info?.({clientName:X,commandName:Z,input:V(Q.input),output:U(I),metadata:z}),W}catch(W){const{clientName:X,commandName:Z,logger:K,dynamoDbDocumentClientOptions:G={}}=J,{overrideInputFilterSensitiveLog:F}=G,Y=F??J.inputFilterSensitiveLog;throw K?.error?.({clientName:X,commandName:Z,input:Y(Q.input),error:W,metadata:W.$metadata}),W}},xG={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},PQ=($)=>({applyToStack:(J)=>{J.add(bG(),xG)}});var hQ="X-Amzn-Trace-Id",mG="AWS_LAMBDA_FUNCTION_NAME",lG="_X_AMZN_TRACE_ID",cG=($)=>(J)=>async(Q)=>{const{request:W}=Q;if(!O.isInstance(W)||$.runtime!=="node"||W.headers.hasOwnProperty(hQ))return J(Q);const X=process.env[mG],Z=process.env[lG],K=(G)=>typeof G==="string"&&G.length>0;if(K(X)&&K(Z))W.headers[hQ]=Z;return J({...Q,request:W})},dG={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},gQ=($)=>({applyToStack:(J)=>{J.add(cG($),dG)}});function rG(){return($,J)=>async(Q)=>{const{request:W}=Q;if(O.isInstance(W)){if(!W.headers[sG])if(typeof J?.logger?.warn==="function")J.logger.warn("Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.");else console.warn("Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.")}return $({...Q})}}var sG="content-length",iG={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},vQ=($)=>({applyToStack:(J)=>{J.add(rG(),iG)}});var yQ=($)=>({...$,forcePathStyle:$.forcePathStyle??!1,useAccelerateEndpoint:$.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:$.disableMultiregionAccessPoints??!1});var bQ=($)=>typeof $==="string"&&$.indexOf("arn:")===0&&$.split(":").length>=6;function pG(){return($)=>async(J)=>{const{input:{Bucket:Q}}=J;if(typeof Q==="string"&&!bQ(Q)&&Q.indexOf("/")>=0){const W=new Error(`Bucket name shouldn't contain '/', received '${Q}'`);throw W.name="InvalidBucketName",W}return $({...J})}}var aG={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},xQ=($)=>({applyToStack:(J)=>{J.add(pG(),aG)}});var h8=($,J,Q)=>{let W,X,Z,K=!1;const G=async()=>{if(!X)X=$();try{W=await X,Z=!0,K=!1}finally{X=void 0}return W};if(J===void 0)return async(F)=>{if(!Z||F?.forceRefresh)W=await G();return W};return async(F)=>{if(!Z||F?.forceRefresh)W=await G();if(K)return W;if(Q&&!Q(W))return K=!0,W;if(J(W))return await G(),W;return W}};var OW=G0(Z8(),1);function qW($){if($.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const J=new Uint8Array($.length/2);for(let Q=0;Q<$.length;Q+=2){const W=$.slice(Q,Q+2).toLowerCase();if(W in t1)J[Q/2]=t1[W];else throw new Error(`Cannot decode unrecognized sequence ${W} as hexadecimal`)}return J}function f($){let J="";for(let Q=0;Q<$.byteLength;Q++)J+=MW[$[Q]];return J}var MW={},t1={};for(let $=0;$<256;$++){let J=$.toString(16).toLowerCase();if(J.length===1)J=`0${J}`;MW[$]=J,t1[J]=$}var wW=function($){for(let J=0;J<8;J++)$[J]^=255;for(let J=7;J>-1;J--)if($[J]++,$[J]!==0)break};class s0{constructor($){if(this.bytes=$,$.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber($){if($>9223372036854776000||$<-9223372036854776000)throw new Error(`${$} is too large (or, if negative, too small) to represent as an Int64`);const J=new Uint8Array(8);for(let Q=7,W=Math.abs(Math.round($));Q>-1&&W>0;Q--,W/=256)J[Q]=W;if($<0)wW(J);return new s0(J)}valueOf(){const $=this.bytes.slice(0),J=$[0]&128;if(J)wW($);return parseInt(f($),16)*(J?-1:1)}toString(){return String(this.valueOf())}}class G8{constructor($,J){this.toUtf8=$,this.fromUtf8=J}format($){const J=[];for(let X of Object.keys($)){const Z=this.fromUtf8(X);J.push(Uint8Array.from([Z.byteLength]),Z,this.formatHeaderValue($[X]))}const Q=new Uint8Array(J.reduce((X,Z)=>X+Z.byteLength,0));let W=0;for(let X of J)Q.set(X,W),W+=X.byteLength;return Q}formatHeaderValue($){switch($.type){case"boolean":return Uint8Array.from([$.value?0:1]);case"byte":return Uint8Array.from([2,$.value]);case"short":const J=new DataView(new ArrayBuffer(3));return J.setUint8(0,3),J.setInt16(1,$.value,!1),new Uint8Array(J.buffer);case"integer":const Q=new DataView(new ArrayBuffer(5));return Q.setUint8(0,4),Q.setInt32(1,$.value,!1),new Uint8Array(Q.buffer);case"long":const W=new Uint8Array(9);return W[0]=5,W.set($.value.bytes,1),W;case"binary":const X=new DataView(new ArrayBuffer(3+$.value.byteLength));X.setUint8(0,6),X.setUint16(1,$.value.byteLength,!1);const Z=new Uint8Array(X.buffer);return Z.set($.value,3),Z;case"string":const K=this.fromUtf8($.value),G=new DataView(new ArrayBuffer(3+K.byteLength));G.setUint8(0,7),G.setUint16(1,K.byteLength,!1);const F=new Uint8Array(G.buffer);return F.set(K,3),F;case"timestamp":const Y=new Uint8Array(9);return Y[0]=8,Y.set(s0.fromNumber($.value.valueOf()).bytes,1),Y;case"uuid":if(!e9.test($.value))throw new Error(`Invalid UUID received: ${$.value}`);const V=new Uint8Array(17);return V[0]=9,V.set(qW($.value.replace(/\-/g,"")),1),V}}parse($){const J={};let Q=0;while(Q<$.byteLength){const W=$.getUint8(Q++),X=this.toUtf8(new Uint8Array($.buffer,$.byteOffset+Q,W));switch(Q+=W,$.getUint8(Q++)){case 0:J[X]={type:CW,value:!0};break;case 1:J[X]={type:CW,value:!1};break;case 2:J[X]={type:s9,value:$.getInt8(Q++)};break;case 3:J[X]={type:r9,value:$.getInt16(Q,!1)},Q+=2;break;case 4:J[X]={type:i9,value:$.getInt32(Q,!1)},Q+=4;break;case 5:J[X]={type:p9,value:new s0(new Uint8Array($.buffer,$.byteOffset+Q,8))},Q+=8;break;case 6:const Z=$.getUint16(Q,!1);Q+=2,J[X]={type:a9,value:new Uint8Array($.buffer,$.byteOffset+Q,Z)},Q+=Z;break;case 7:const K=$.getUint16(Q,!1);Q+=2,J[X]={type:n9,value:this.toUtf8(new Uint8Array($.buffer,$.byteOffset+Q,K))},Q+=K;break;case 8:J[X]={type:u9,value:new Date(new s0(new Uint8Array($.buffer,$.byteOffset+Q,8)).valueOf())},Q+=8;break;case 9:const G=new Uint8Array($.buffer,$.byteOffset+Q,16);Q+=16,J[X]={type:o9,value:`${f(G.subarray(0,4))}-${f(G.subarray(4,6))}-${f(G.subarray(6,8))}-${f(G.subarray(8,10))}-${f(G.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return J}}var HW;(function($){$[$.boolTrue=0]="boolTrue",$[$.boolFalse=1]="boolFalse",$[$.byte=2]="byte",$[$.short=3]="short",$[$.integer=4]="integer",$[$.long=5]="long",$[$.byteArray=6]="byteArray",$[$.string=7]="string",$[$.timestamp=8]="timestamp",$[$.uuid=9]="uuid"})(HW||(HW={}));var CW="boolean",s9="byte",r9="short",i9="integer",p9="long",a9="binary",n9="string",u9="timestamp",o9="uuid",e9=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var RW=G0(Z8(),1);function AW({byteLength:$,byteOffset:J,buffer:Q}){if($<t9)throw new Error("Provided message too short to accommodate event stream message overhead");const W=new DataView(Q,J,$),X=W.getUint32(0,!1);if($!==X)throw new Error("Reported message length does not match received message length");const Z=W.getUint32(TW,!1),K=W.getUint32(B0,!1),G=W.getUint32($-k0,!1),F=new RW.Crc32().update(new Uint8Array(Q,J,B0));if(K!==F.digest())throw new Error(`The prelude checksum specified in the message (${K}) does not match the calculated CRC32 checksum (${F.digest()})`);if(F.update(new Uint8Array(Q,J+B0,$-(B0+k0))),G!==F.digest())throw new Error(`The message checksum (${F.digest()}) did not match the expected value of ${G}`);return{headers:new DataView(Q,J+B0+k0,Z),body:new Uint8Array(Q,J+B0+k0+Z,X-Z-(B0+k0+k0))}}var TW=4,B0=TW*2,k0=4,t9=B0+k0*2;class $${constructor($,J){this.headerMarshaller=new G8($,J),this.messageBuffer=[],this.isEndOfStream=!1}feed($){this.messageBuffer.push(this.decode($))}endOfStream(){this.isEndOfStream=!0}getMessage(){const $=this.messageBuffer.pop(),J=this.isEndOfStream;return{getMessage(){return $},isEndOfStream(){return J}}}getAvailableMessages(){const $=this.messageBuffer;this.messageBuffer=[];const J=this.isEndOfStream;return{getMessages(){return $},isEndOfStream(){return J}}}encode({headers:$,body:J}){const Q=this.headerMarshaller.format($),W=Q.byteLength+J.byteLength+16,X=new Uint8Array(W),Z=new DataView(X.buffer,X.byteOffset,X.byteLength),K=new OW.Crc32;return Z.setUint32(0,W,!1),Z.setUint32(4,Q.byteLength,!1),Z.setUint32(8,K.update(X.subarray(0,8)).digest(),!1),X.set(Q,12),X.set(J,Q.byteLength+12),Z.setUint32(W-4,K.update(X.subarray(8,W-4)).digest(),!1),X}decode($){const{headers:J,body:Q}=AW($);return{headers:this.headerMarshaller.parse(J),body:Q}}formatHeaders($){return this.headerMarshaller.format($)}}class J${constructor($){this.options=$}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let $ of this.options.inputStream)yield this.options.decoder.decode($)}}class Q${constructor($){this.options=$}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let $ of this.options.messageStream)yield this.options.encoder.encode($);if(this.options.includeEndFrame)yield new Uint8Array(0)}}class W${constructor($){this.options=$}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let $ of this.options.messageStream){const J=await this.options.deserializer($);if(J===void 0)continue;yield J}}}class X${constructor($){this.options=$}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let $ of this.options.inputStream)yield this.options.serializer($)}}var h=($)=>{if(typeof $==="function")return $;const J=Promise.resolve($);return()=>J};var L0=($)=>(new TextEncoder()).encode($);var J0=($)=>{if(typeof $==="string")return L0($);if(ArrayBuffer.isView($))return new Uint8Array($.buffer,$.byteOffset,$.byteLength/Uint8Array.BYTES_PER_ELEMENT);return new Uint8Array($)};var M0=($)=>new TextDecoder("utf-8").decode($);var jW="X-Amz-Algorithm",DW="X-Amz-Credential",SW="X-Amz-Date",EW="X-Amz-SignedHeaders",NW="X-Amz-Expires",kW="X-Amz-Signature",_W="X-Amz-Security-Token";var fW="authorization",Z$="X-Amz-Date".toLowerCase();var PW=["authorization",Z$,"date"],hW="X-Amz-Signature".toLowerCase(),K8="x-amz-content-sha256",gW="X-Amz-Security-Token".toLowerCase();var vW={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},yW=/^proxy-/,bW=/^sec-/;var g8="AWS4-HMAC-SHA256";var xW="AWS4-HMAC-SHA256-PAYLOAD",mW="UNSIGNED-PAYLOAD",lW=50,G$="aws4_request",cW=604800;var v8={},K$=[],y8=($,J,Q)=>`${$}/${J}/${Q}/${G$}`,sW=async($,J,Q,W,X)=>{const Z=await dW($,J.secretAccessKey,J.accessKeyId),K=`${Q}:${W}:${X}:${f(Z)}:${J.sessionToken}`;if(K in v8)return v8[K];K$.push(K);while(K$.length>lW)delete v8[K$.shift()];let G=`AWS4${J.secretAccessKey}`;for(let F of[Q,W,X,G$])G=await dW($,G,F);return v8[K]=G};var dW=($,J,Q)=>{const W=new $(J);return W.update(J0(Q)),W.digest()};var b8=({headers:$},J,Q)=>{const W={};for(let X of Object.keys($).sort()){if($[X]==void 0)continue;const Z=X.toLowerCase();if((Z in vW)||J?.has(Z)||yW.test(Z)||bW.test(Z)){if(!Q||Q&&!Q.has(Z))continue}W[Z]=$[X].trim().replace(/\s+/g," ")}return W};var Q0=($)=>encodeURIComponent($).replace(/[!'()*]/g,$7),$7=($)=>`%${$.charCodeAt(0).toString(16).toUpperCase()}`;var Y$=({query:$={}})=>{const J=[],Q={};for(let W of Object.keys($).sort()){if(W.toLowerCase()===hW)continue;J.push(W);const X=$[W];if(typeof X==="string")Q[W]=`${Q0(W)}=${Q0(X)}`;else if(Array.isArray(X))Q[W]=X.slice(0).sort().reduce((Z,K)=>Z.concat([`${Q0(W)}=${Q0(K)}`]),[]).join("&")}return J.map((W)=>Q[W]).filter((W)=>W).join("&")};var x8=($)=>typeof ArrayBuffer==="function"&&$ instanceof ArrayBuffer||Object.prototype.toString.call($)==="[object ArrayBuffer]";var Y8=async({headers:$,body:J},Q)=>{for(let W of Object.keys($))if(W.toLowerCase()===K8)return $[W];if(J==void 0)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";else if(typeof J==="string"||ArrayBuffer.isView(J)||x8(J)){const W=new Q;return W.update(J0(J)),f(await W.digest())}return mW};var rW=($,J)=>{$=$.toLowerCase();for(let Q of Object.keys(J))if($===Q.toLowerCase())return!0;return!1};var m8=({headers:$,query:J,...Q})=>({...Q,headers:{...$},query:J?J7(J):void 0}),J7=($)=>Object.keys($).reduce((J,Q)=>{const W=$[Q];return{...J,[Q]:Array.isArray(W)?[...W]:W}},{});var F$=($,J={})=>{const{headers:Q,query:W={}}=typeof $.clone==="function"?$.clone():m8($);for(let X of Object.keys(Q)){const Z=X.toLowerCase();if(Z.slice(0,6)==="x-amz-"&&!J.unhoistableHeaders?.has(Z))W[X]=Q[X],delete Q[X]}return{...$,headers:Q,query:W}};var l8=($)=>{$=typeof $.clone==="function"?$.clone():m8($);for(let J of Object.keys($.headers))if(PW.indexOf(J.toLowerCase())>-1)delete $.headers[J];return $};var iW=($)=>Q7($).toISOString().replace(/\.\d{3}Z$/,"Z"),Q7=($)=>{if(typeof $==="number")return new Date($*1000);if(typeof $==="string"){if(Number($))return new Date(Number($)*1000);return new Date($)}return $};class r0{constructor({applyChecksum:$,credentials:J,region:Q,service:W,sha256:X,uriEscapePath:Z=!0}){this.headerMarshaller=new G8(M0,L0),this.service=W,this.sha256=X,this.uriEscapePath=Z,this.applyChecksum=typeof $==="boolean"?$:!0,this.regionProvider=h(Q),this.credentialProvider=h(J)}async presign($,J={}){const{signingDate:Q=new Date,expiresIn:W=3600,unsignableHeaders:X,unhoistableHeaders:Z,signableHeaders:K,signingRegion:G,signingService:F}=J,Y=await this.credentialProvider();this.validateResolvedCredentials(Y);const V=G??await this.regionProvider(),{longDate:U,shortDate:z}=c8(Q);if(W>cW)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const I=y8(z,V,F??this.service),B=F$(l8($),{unhoistableHeaders:Z});if(Y.sessionToken)B.query[_W]=Y.sessionToken;B.query[jW]=g8,B.query[DW]=`${Y.accessKeyId}/${I}`,B.query[SW]=U,B.query[NW]=W.toString(10);const L=b8(B,X,K);return B.query[EW]=pW(L),B.query[kW]=await this.getSignature(U,I,this.getSigningKey(Y,V,z,F),this.createCanonicalRequest(B,L,await Y8($,this.sha256))),B}async sign($,J){if(typeof $==="string")return this.signString($,J);else if($.headers&&$.payload)return this.signEvent($,J);else if($.message)return this.signMessage($,J);else return this.signRequest($,J)}async signEvent({headers:$,payload:J},{signingDate:Q=new Date,priorSignature:W,signingRegion:X,signingService:Z}){const K=X??await this.regionProvider(),{shortDate:G,longDate:F}=c8(Q),Y=y8(G,K,Z??this.service),V=await Y8({headers:{},body:J},this.sha256),U=new this.sha256;U.update($);const z=f(await U.digest()),I=[xW,F,Y,W,z,V].join("\n");return this.signString(I,{signingDate:Q,signingRegion:K,signingService:Z})}async signMessage($,{signingDate:J=new Date,signingRegion:Q,signingService:W}){return this.signEvent({headers:this.headerMarshaller.format($.message.headers),payload:$.message.body},{signingDate:J,signingRegion:Q,signingService:W,priorSignature:$.priorSignature}).then((Z)=>{return{message:$.message,signature:Z}})}async signString($,{signingDate:J=new Date,signingRegion:Q,signingService:W}={}){const X=await this.credentialProvider();this.validateResolvedCredentials(X);const Z=Q??await this.regionProvider(),{shortDate:K}=c8(J),G=new this.sha256(await this.getSigningKey(X,Z,K,W));return G.update(J0($)),f(await G.digest())}async signRequest($,{signingDate:J=new Date,signableHeaders:Q,unsignableHeaders:W,signingRegion:X,signingService:Z}={}){const K=await this.credentialProvider();this.validateResolvedCredentials(K);const G=X??await this.regionProvider(),F=l8($),{longDate:Y,shortDate:V}=c8(J),U=y8(V,G,Z??this.service);if(F.headers[Z$]=Y,K.sessionToken)F.headers[gW]=K.sessionToken;const z=await Y8(F,this.sha256);if(!rW(K8,F.headers)&&this.applyChecksum)F.headers[K8]=z;const I=b8(F,W,Q),B=await this.getSignature(Y,U,this.getSigningKey(K,G,V,Z),this.createCanonicalRequest(F,I,z));return F.headers[fW]=`${g8} `+`Credential=${K.accessKeyId}/${U}, `+`SignedHeaders=${pW(I)}, `+`Signature=${B}`,F}createCanonicalRequest($,J,Q){const W=Object.keys(J).sort();return`${$.method}
${this.getCanonicalPath($)}
${Y$($)}
${W.map((X)=>`${X}:${J[X]}`).join("\n")}

${W.join(";")}
${Q}`}async createStringToSign($,J,Q){const W=new this.sha256;W.update(J0(Q));const X=await W.digest();return`${g8}
${$}
${J}
${f(X)}`}getCanonicalPath({path:$}){if(this.uriEscapePath){const J=[];for(let X of $.split("/")){if(X?.length===0)continue;if(X===".")continue;if(X==="..")J.pop();else J.push(X)}const Q=`${$?.startsWith("/")?"/":""}${J.join("/")}${J.length>0&&$?.endsWith("/")?"/":""}`;return encodeURIComponent(Q).replace(/%2F/g,"/")}return $}async getSignature($,J,Q,W){const X=await this.createStringToSign($,J,W),Z=new this.sha256(await Q);return Z.update(J0(X)),f(await Z.digest())}getSigningKey($,J,Q,W){return sW(this.sha256,$,Q,J,W||this.service)}validateResolvedCredentials($){if(typeof $!=="object"||typeof $.accessKeyId!=="string"||typeof $.secretAccessKey!=="string")throw new Error("Resolved credential object is not valid")}}var c8=($)=>{const J=iW($).replace(/[\-:]/g,"");return{longDate:J,shortDate:J.slice(0,8)}},pW=($)=>Object.keys($).sort().join(";");var W7=300000,aW=($)=>{const J=$.credentials?X7($.credentials):$.credentialDefaultProvider($),{signingEscapePath:Q=!0,systemClockOffset:W=$.systemClockOffset||0,sha256:X}=$;let Z;if($.signer)Z=h($.signer);else if($.regionInfoProvider)Z=()=>h($.region)().then(async(K)=>[await $.regionInfoProvider(K,{useFipsEndpoint:await $.useFipsEndpoint(),useDualstackEndpoint:await $.useDualstackEndpoint()})||{},K]).then(([K,G])=>{const{signingRegion:F,signingService:Y}=K;$.signingRegion=$.signingRegion||F||G,$.signingName=$.signingName||Y||$.serviceId;const V={...$,credentials:J,region:$.signingRegion,service:$.signingName,sha256:X,uriEscapePath:Q};return new($.signerConstructor||r0)(V)});else Z=async(K)=>{K=Object.assign({},{name:"sigv4",signingName:$.signingName||$.defaultSigningName,signingRegion:await h($.region)(),properties:{}},K);const{signingRegion:G,signingName:F}=K;$.signingRegion=$.signingRegion||G,$.signingName=$.signingName||F||$.serviceId;const Y={...$,credentials:J,region:$.signingRegion,service:$.signingName,sha256:X,uriEscapePath:Q};return new($.signerConstructor||r0)(Y)};return{...$,systemClockOffset:W,signingEscapePath:Q,credentials:J,signer:Z}};var X7=($)=>{if(typeof $==="function")return h8($,(J)=>J.expiration!==void 0&&J.expiration.getTime()-Date.now()<W7,(J)=>J.expiration!==void 0);return h($)};var d8=($)=>new Date(Date.now()+$);var nW=($,J)=>Math.abs(d8(J).getTime()-$)>=300000;var z$=($,J)=>{const Q=Date.parse($);if(nW(Q,J))return Q-Date.now();return J};var Z7=($)=>(J,Q)=>async function(W){if(!O.isInstance(W.request))return J(W);const X=Q.endpointV2?.properties?.authSchemes?.[0],Z=X?.name==="sigv4a"?X?.signingRegionSet?.join(","):void 0,K=await $.signer(X),G=await J({...W,request:await K.sign(W.request,{signingDate:d8($.systemClockOffset),signingRegion:Z||Q.signing_region,signingService:Q.signing_service})}).catch((Y)=>{const V=Y.ServerTime??uW(Y.$response);if(V)$.systemClockOffset=z$(V,$.systemClockOffset);throw Y}),F=uW(G.response);if(F)$.systemClockOffset=z$(F,$.systemClockOffset);return G},uW=($)=>$0.isInstance($)?$.headers?.date??$.headers?.Date:void 0,G7={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},oW=($)=>({applyToStack:(J)=>{J.addRelativeTo(Z7($),G7)}});function eW($){return{...$,customUserAgent:typeof $.customUserAgent==="string"?[[$.customUserAgent]]:$.customUserAgent}}var V$={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"};var tW=V$,$5="",Y7=($)=>{const{partitions:J}=tW;for(let W of J){const{regions:X,outputs:Z}=W;for(let[K,G]of Object.entries(X))if(K===$)return{...Z,...G}}for(let W of J){const{regionRegex:X,outputs:Z}=W;if(new RegExp(X).test($))return{...Z}}const Q=J.find((W)=>W.id==="aws");if(!Q)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...Q.outputs}},J5=($,J="")=>{tW=$,$5=J},F7=()=>{J5(V$,"")},U$=()=>$5;var z7=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),s8=($)=>z7.test($)||$.startsWith("[")&&$.endsWith("]");var F0="endpoints";function n($){if(typeof $!=="object"||$==null)return $;if("ref"in $)return`\$${n($.ref)}`;if("fn"in $)return`${$.fn}(${($.argv||[]).map(n).join(", ")})`;return JSON.stringify($,null,2)}class S extends Error{constructor($){super($);this.name="EndpointError"}}var M$={};K0(M$,{uriEncode:()=>{{return H7}},substring:()=>{{return w7}},stringEquals:()=>{{return q7}},parseURL:()=>{{return M7}},not:()=>{{return L7}},isValidHostLabel:()=>{{return r8}},isSet:()=>{{return B7}},getAttr:()=>{{return B$}},booleanEquals:()=>{{return I7}},aws:()=>{{return I$}}});var I$={};K0(I$,{useDefaultPartitionInfo:()=>{{return F7}},setPartitionInfo:()=>{{return J5}},partition:()=>{{return Y7}},parseArn:()=>{{return U7}},isVirtualHostableS3Bucket:()=>{{return Q5}},getUserAgentPrefix:()=>{{return U$}}});var V7=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),r8=($,J=!1)=>{if(!J)return V7.test($);const Q=$.split(".");for(let W of Q)if(!r8(W))return!1;return!0};var Q5=($,J=!1)=>{if(J){for(let Q of $.split("."))if(!Q5(Q))return!1;return!0}if(!r8($))return!1;if($.length<3||$.length>63)return!1;if($!==$.toLowerCase())return!1;if(s8($))return!1;return!0};var U7=($)=>{const J=$.split(":");if(J.length<6)return null;const[Q,W,X,Z,K,...G]=J;if(Q!=="arn"||W===""||X===""||G[0]==="")return null;return{partition:W,service:X,region:Z,accountId:K,resourceId:G[0].includes("/")?G[0].split("/"):G}};var I7=($,J)=>$===J;var W5=($)=>{const J=$.split("."),Q=[];for(let W of J){const X=W.indexOf("[");if(X!==-1){if(W.indexOf("]")!==W.length-1)throw new S(`Path: '${$}' does not end with ']'`);const Z=W.slice(X+1,-1);if(Number.isNaN(parseInt(Z)))throw new S(`Invalid array index: '${Z}' in path: '${$}'`);if(X!==0)Q.push(W.slice(0,X));Q.push(Z)}else Q.push(W)}return Q};var B$=($,J)=>W5(J).reduce((Q,W)=>{if(typeof Q!=="object")throw new S(`Index '${W}' in '${J}' not found in '${JSON.stringify($)}'`);else if(Array.isArray(Q))return Q[parseInt(W)];return Q[W]},$);var B7=($)=>$!=null;var L7=($)=>!$;var X5;(function($){$.AAAA="AAAA",$.A="A"})(X5||(X5={}));var L$={[N0.HTTP]:80,[N0.HTTPS]:443},M7=($)=>{const J=(()=>{try{if($ instanceof URL)return $;if(typeof $==="object"&&("hostname"in $)){const{hostname:z,port:I,protocol:B="",path:L="",query:q={}}=$,E=new URL(`${B}//${z}${I?`:${I}`:""}${L}`);return E.search=Object.entries(q).map(([X0,S0])=>`${X0}=${S0}`).join("&"),E}return new URL($)}catch(z){return null}})();if(!J)return console.error(`Unable to parse ${JSON.stringify($)} as a whatwg URL.`),null;const Q=J.href,{host:W,hostname:X,pathname:Z,protocol:K,search:G}=J;if(G)return null;const F=K.slice(0,-1);if(!Object.values(N0).includes(F))return null;const Y=s8(X),V=Q.includes(`${W}:${L$[F]}`)||typeof $==="string"&&$.includes(`${W}:${L$[F]}`),U=`${W}${V?`:${L$[F]}`:""}`;return{scheme:F,authority:U,path:Z,normalizedPath:Z.endsWith("/")?Z:`${Z}/`,isIp:Y}};var q7=($,J)=>$===J;var w7=($,J,Q,W)=>{if(J>=Q||$.length<Q)return null;if(!W)return $.substring(J,Q);return $.substring($.length-Q,$.length-J)};var H7=($)=>encodeURIComponent($).replace(/[!*'()]/g,(J)=>`%${J.charCodeAt(0).toString(16).toUpperCase()}`);var i8=($,J)=>{const Q=[],W={...J.endpointParams,...J.referenceRecord};let X=0;while(X<$.length){const Z=$.indexOf("{",X);if(Z===-1){Q.push($.slice(X));break}Q.push($.slice(X,Z));const K=$.indexOf("}",Z);if(K===-1){Q.push($.slice(Z));break}if($[Z+1]==="{"&&$[K+1]==="}")Q.push($.slice(Z+1,K)),X=K+2;const G=$.substring(Z+1,K);if(G.includes("#")){const[F,Y]=G.split("#");Q.push(B$(W[F],Y))}else Q.push(W[G]);X=K+1}return Q.join("")};var Z5=({ref:$},J)=>{return{...J.endpointParams,...J.referenceRecord}[$]};var q0=($,J,Q)=>{if(typeof $==="string")return i8($,Q);else if($.fn)return p8($,Q);else if($.ref)return Z5($,Q);throw new S(`'${J}': ${String($)} is not a string, function or reference.`)};var p8=({fn:$,argv:J},Q)=>{const W=J.map((X)=>["boolean","number"].includes(typeof X)?X:q0(X,"arg",Q));return $.split(".").reduce((X,Z)=>X[Z],M$)(...W)};var G5=({assign:$,...J},Q)=>{if($&&($ in Q.referenceRecord))throw new S(`'${$}' is already defined in Reference Record.`);const W=p8(J,Q);return Q.logger?.debug?.(F0,`evaluateCondition: ${n(J)} = ${n(W)}`),{result:W===""?!0:!!W,...$!=null&&{toAssign:{name:$,value:W}}}};var i0=($=[],J)=>{const Q={};for(let W of $){const{result:X,toAssign:Z}=G5(W,{...J,referenceRecord:{...J.referenceRecord,...Q}});if(!X)return{result:X};if(Z)Q[Z.name]=Z.value,J.logger?.debug?.(F0,`assign: ${Z.name} := ${n(Z.value)}`)}return{result:!0,referenceRecord:Q}};var K5=($,J)=>Object.entries($).reduce((Q,[W,X])=>({...Q,[W]:X.map((Z)=>{const K=q0(Z,"Header value entry",J);if(typeof K!=="string")throw new S(`Header '${W}' value '${K}' is not a string`);return K})}),{});var q$=($,J)=>{if(Array.isArray($))return $.map((Q)=>q$(Q,J));switch(typeof $){case"string":return i8($,J);case"object":if($===null)throw new S(`Unexpected endpoint property: ${$}`);return a8($,J);case"boolean":return $;default:throw new S(`Unexpected endpoint property type: ${typeof $}`)}};var a8=($,J)=>Object.entries($).reduce((Q,[W,X])=>({...Q,[W]:q$(X,J)}),{});var Y5=($,J)=>{const Q=q0($,"Endpoint URL",J);if(typeof Q==="string")try{return new URL(Q)}catch(W){throw console.error(`Failed to construct URL with ${Q}`,W),W}throw new S(`Endpoint URL must be a string, got ${typeof Q}`)};var F5=($,J)=>{const{conditions:Q,endpoint:W}=$,{result:X,referenceRecord:Z}=i0(Q,J);if(!X)return;const K={...J,referenceRecord:{...J.referenceRecord,...Z}},{url:G,properties:F,headers:Y}=W;return J.logger?.debug?.(F0,`Resolving endpoint from template: ${n(W)}`),{...Y!=null&&{headers:K5(Y,K)},...F!=null&&{properties:a8(F,K)},url:Y5(G,K)}};var z5=($,J)=>{const{conditions:Q,error:W}=$,{result:X,referenceRecord:Z}=i0(Q,J);if(!X)return;throw new S(q0(W,"Error",{...J,referenceRecord:{...J.referenceRecord,...Z}}))};var V5=($,J)=>{const{conditions:Q,rules:W}=$,{result:X,referenceRecord:Z}=i0(Q,J);if(!X)return;return n8(W,{...J,referenceRecord:{...J.referenceRecord,...Z}})};var n8=($,J)=>{for(let Q of $)if(Q.type==="endpoint"){const W=F5(Q,J);if(W)return W}else if(Q.type==="error")z5(Q,J);else if(Q.type==="tree"){const W=V5(Q,J);if(W)return W}else throw new S(`Unknown endpoint rule: ${Q}`);throw new S("Rules evaluation failed")};var U5=($,J)=>{const{endpointParams:Q,logger:W}=J,{parameters:X,rules:Z}=$;J.logger?.debug?.(`${F0} Initial EndpointParams: ${n(Q)}`);const K=Object.entries(X).filter(([,Y])=>Y.default!=null).map(([Y,V])=>[Y,V.default]);if(K.length>0)for(let[Y,V]of K)Q[Y]=Q[Y]??V;const G=Object.entries(X).filter(([,Y])=>Y.required).map(([Y])=>Y);for(let Y of G)if(Q[Y]==null)throw new S(`Missing required parameter: '${Y}'`);const F=n8(Z,{endpointParams:Q,logger:W,referenceRecord:{}});if(J.endpointParams?.Endpoint)try{const Y=new URL(J.endpointParams.Endpoint),{protocol:V,port:U}=Y;F.url.protocol=V,F.url.port=U}catch(Y){}return J.logger?.debug?.(`${F0} Resolved endpoint: ${n(F)}`),F};var w$="user-agent",u8="x-amz-user-agent",H$=" ",o8="/",I5=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,B5=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,C$="-";var C7=($)=>(J,Q)=>async(W)=>{const{request:X}=W;if(!O.isInstance(X))return J(W);const{headers:Z}=X,K=Q?.userAgent?.map(R$)||[],G=(await $.defaultUserAgentProvider()).map(R$),F=$?.customUserAgent?.map(R$)||[],Y=U$(),V=(Y?[Y]:[]).concat([...G,...K,...F]).join(H$),U=[...G.filter((z)=>z.startsWith("aws-sdk-")),...F].join(H$);if($.runtime!=="browser"){if(U)Z[u8]=Z[u8]?`${Z[w$]} ${U}`:U;Z[w$]=V}else Z[u8]=V;return J({...W,request:X})},R$=($)=>{const J=$[0].split(o8).map((K)=>K.replace(I5,C$)).join(o8),Q=$[1]?.replace(B5,C$),W=J.indexOf(o8),X=J.substring(0,W);let Z=J.substring(W+1);if(X==="api")Z=Z.toLowerCase();return[X,Z,Q].filter((K)=>K&&K.length>0).reduce((K,G,F)=>{switch(F){case 0:return G;case 1:return`${K}/${G}`;default:return`${K}#${G}`}},"")},R7={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},L5=($)=>({applyToStack:(J)=>{J.add(C7($),R7)}});var e8;(function($){$.ENV="env",$.CONFIG="shared config entry"})(e8||(e8={}));var M5=!1;var q5=!1;var t8=($)=>typeof $==="string"&&($.startsWith("fips-")||$.endsWith("-fips"));var T$=($)=>t8($)?["fips-aws-global","aws-fips"].includes($)?"us-east-1":$.replace(/fips-(dkr-|prod-)?|-fips/,""):$;var w5=($)=>{const{region:J,useFipsEndpoint:Q}=$;if(!J)throw new Error("Region is missing");return{...$,region:async()=>{if(typeof J==="string")return T$(J);const W=await J();return T$(W)},useFipsEndpoint:async()=>{const W=typeof J==="string"?J:await J();if(t8(W))return!0;return typeof Q!=="function"?Promise.resolve(!!Q):Q()}}};var H5=($)=>({...$,eventStreamMarshaller:$.eventStreamSerdeProvider($)});function A7($){return(J)=>async(Q)=>{const W=Q.request;if(O.isInstance(W)){const{body:X,headers:Z}=W;if(X&&Object.keys(Z).map((K)=>K.toLowerCase()).indexOf(C5)===-1)try{const K=$(X);W.headers={...W.headers,[C5]:String(K)}}catch(K){}}return J({...Q,request:W})}}var C5="content-length",O7={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},R5=($)=>({applyToStack:(J)=>{J.add(A7($.bodyLengthChecker),O7)}});var T5=async($)=>{const J=$?.Bucket||"";if(typeof $.Bucket==="string")$.Bucket=J.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"));if(N7(J)){if($.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else if(!E7(J)||J.indexOf(".")!==-1&&!String($.Endpoint).startsWith("http:")||J.toLowerCase()!==J||J.length<3)$.ForcePathStyle=!0;if($.DisableMultiRegionAccessPoints)$.disableMultiRegionAccessPoints=!0,$.DisableMRAP=!0;return $},j7=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,D7=/(\d+\.){3}\d+/,S7=/\.\./;var E7=($)=>j7.test($)&&!D7.test($)&&!S7.test($),N7=($)=>{const[J,Q,W,X,Z,K]=$.split(":"),G=J==="arn"&&$.split(":").length>=6,F=[J,Q,W,Z,K].filter(Boolean).length===5;if(G&&!F)throw new Error(`Invalid ARN: ${$} was an invalid ARN.`);return J==="arn"&&!!Q&&!!W&&!!Z&&!!K};var A5=($,J,Q)=>{const W=async()=>{const X=Q[$]??Q[J];if(typeof X==="function")return X();return X};if($==="endpoint"||J==="endpoint")return async()=>{const X=await W();if(X&&typeof X==="object"){if("url"in X)return X.url.href;if("hostname"in X){const{protocol:Z,hostname:K,port:G,path:F}=X;return`${Z}//${K}${G?":"+G:""}${F}`}}return X};return W};var O5=async($,J,Q,W)=>{const X=await k7($,J,Q);if(typeof Q.endpointProvider!=="function")throw new Error("config.endpointProvider is not set.");return Q.endpointProvider(X,W)},k7=async($,J,Q)=>{const W={},X=J?.getEndpointParameterInstructions?.()||{};for(let[Z,K]of Object.entries(X))switch(K.type){case"staticContextParams":W[Z]=K.value;break;case"contextParams":W[Z]=$[K.name];break;case"clientContextParams":case"builtInParams":W[Z]=await A5(K.name,Z,Q)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(K))}if(Object.keys(X).length===0)Object.assign(W,Q);if(String(Q.serviceId).toLowerCase()==="s3")await T5(W);return W};function j5($){const J={};if($=$.replace(/^\?/,""),$)for(let Q of $.split("&")){let[W,X=null]=Q.split("=");if(W=decodeURIComponent(W),X)X=decodeURIComponent(X);if(!(W in J))J[W]=X;else if(Array.isArray(J[W]))J[W].push(X);else J[W]=[J[W],X]}return J}var p0=($)=>{if(typeof $==="string")return p0(new URL($));const{hostname:J,pathname:Q,port:W,protocol:X,search:Z}=$;let K;if(Z)K=j5(Z);return{hostname:J,port:W?parseInt(W):void 0,protocol:X,path:Q,query:K}};var D5=($)=>{if(typeof $==="object"){if("url"in $)return p0($.url);return $}return p0($)};var S5=({config:$,instructions:J})=>{return(Q,W)=>async(X)=>{const Z=await O5(X.input,{getEndpointParameterInstructions(){return J}},{...$},W);W.endpointV2=Z,W.authSchemes=Z.properties?.authSchemes;const K=W.authSchemes?.[0];if(K)W.signing_region=K.signingRegion,W.signing_service=K.signingName;return Q({...X})}};var E5=($,J)=>(Q,W)=>async(X)=>{const{response:Z}=await Q(X);try{const K=await J(Z,$);return{response:Z,output:K}}catch(K){if(Object.defineProperty(K,"$response",{value:Z}),!("$metadata"in K))K.message+="\n  Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";throw K}};var N5=($,J)=>(Q,W)=>async(X)=>{const Z=W.endpointV2?.url&&$.urlParser?async()=>$.urlParser(W.endpointV2.url):$.endpoint;if(!Z)throw new Error("No valid endpoint provider available.");const K=await J(X.input,{...$,endpoint:Z});return Q({...X,request:K})};function w0($,J,Q){return{applyToStack:(W)=>{W.add(E5($,Q),_7),W.add(N5($,J),A$)}}}var _7={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},A$={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};var f7={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:A$.name},H0=($,J)=>({applyToStack:(Q)=>{Q.addRelativeTo(S5({config:$,instructions:J}),f7)}});var k5=($)=>{const J=$.tls??!0,{endpoint:Q}=$,W=Q!=null?async()=>D5(await h(Q)()):void 0;return{...$,endpoint:W,tls:J,isCustomEndpoint:!!Q,useDualstackEndpoint:h($.useDualstackEndpoint??!1),useFipsEndpoint:h($.useFipsEndpoint??!1)}};var e;(function($){$.STANDARD="standard",$.ADAPTIVE="adaptive"})(e||(e={}));var C0=3,O$=e.STANDARD;var _5=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],f5=["TimeoutError","RequestTimeout","RequestTimeoutException"],P5=[500,502,503,504],h5=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"];var a0=($)=>$.$metadata?.httpStatusCode===429||_5.includes($.name)||$.$retryable?.throttling==!0,$1=($)=>f5.includes($.name)||h5.includes($?.code||"")||P5.includes($.$metadata?.httpStatusCode||0),g5=($)=>{if($.$metadata?.httpStatusCode!==void 0){const J=$.$metadata.httpStatusCode;if(500<=J&&J<=599&&!$1($))return!0;return!1}return!1};class J1{constructor($){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=$?.beta??0.7,this.minCapacity=$?.minCapacity??1,this.minFillRate=$?.minFillRate??0.5,this.scaleConstant=$?.scaleConstant??0.4,this.smooth=$?.smooth??0.8;const J=this.getCurrentTimeInSeconds();this.lastThrottleTime=J,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1000}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket($){if(!this.enabled)return;if(this.refillTokenBucket(),$>this.currentCapacity){const J=($-this.currentCapacity)/this.fillRate*1000;await new Promise((Q)=>setTimeout(Q,J))}this.currentCapacity=this.currentCapacity-$}refillTokenBucket(){const $=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=$;return}const J=($-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+J),this.lastTimestamp=$}updateClientSendingRate($){let J;if(this.updateMeasuredRate(),a0($)){const W=!this.enabled?this.measuredTxRate:Math.min(this.measuredTxRate,this.fillRate);this.lastMaxRate=W,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),J=this.cubicThrottle(W),this.enableTokenBucket()}else this.calculateTimeWindow(),J=this.cubicSuccess(this.getCurrentTimeInSeconds());const Q=Math.min(J,2*this.measuredTxRate);this.updateTokenBucketRate(Q)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,0.3333333333333333))}cubicThrottle($){return this.getPrecise($*this.beta)}cubicSuccess($){return this.getPrecise(this.scaleConstant*Math.pow($-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate($){this.refillTokenBucket(),this.fillRate=Math.max($,this.minFillRate),this.maxCapacity=Math.max($,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const $=this.getCurrentTimeInSeconds(),J=Math.floor($*2)/2;if(this.requestCount++,J>this.lastTxRateBucket){const Q=this.requestCount/(J-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(Q*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=J}}getPrecise($){return parseFloat($.toFixed(8))}}var _0=100,F8=20000,j$=500,Q1=500,D$=5,S$=10,E$=1,W1="amz-sdk-invocation-id",X1="amz-sdk-request";var v5=()=>{let $=_0;return{computeNextBackoffDelay:(W)=>{return Math.floor(Math.min(F8,Math.random()*2**W*$))},setDelayBase:(W)=>{$=W}}};var N$=({retryDelay:$,retryCount:J,retryCost:Q})=>{return{getRetryCount:()=>J,getRetryDelay:()=>Math.min(F8,$),getRetryCost:()=>Q}};class n0{constructor($){this.maxAttempts=$,this.mode=e.STANDARD,this.capacity=Q1,this.retryBackoffStrategy=v5(),this.maxAttemptsProvider=typeof $==="function"?$:async()=>$}async acquireInitialRetryToken($){return N$({retryDelay:_0,retryCount:0})}async refreshRetryTokenForRetry($,J){const Q=await this.getMaxAttempts();if(this.shouldRetry($,J,Q)){const W=J.errorType;this.retryBackoffStrategy.setDelayBase(W==="THROTTLING"?j$:_0);const X=this.retryBackoffStrategy.computeNextBackoffDelay($.getRetryCount()),Z=J.retryAfterHint?Math.max(J.retryAfterHint.getTime()-Date.now()||0,X):X,K=this.getCapacityCost(W);return this.capacity-=K,N$({retryDelay:Z,retryCount:$.getRetryCount()+1,retryCost:K})}throw new Error("No retry token available")}recordSuccess($){this.capacity=Math.max(Q1,this.capacity+($.getRetryCost()??E$))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch($){return console.warn(`Max attempts provider could not resolve. Using default of ${C0}`),C0}}shouldRetry($,J,Q){return $.getRetryCount()+1<Q&&this.capacity>=this.getCapacityCost(J.errorType)&&this.isRetryableError(J.errorType)}getCapacityCost($){return $==="TRANSIENT"?S$:D$}isRetryableError($){return $==="THROTTLING"||$==="TRANSIENT"}}class k${constructor($,J){this.maxAttemptsProvider=$,this.mode=e.ADAPTIVE;const{rateLimiter:Q}=J??{};this.rateLimiter=Q??new J1,this.standardRetryStrategy=new n0($)}async acquireInitialRetryToken($){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken($)}async refreshRetryTokenForRetry($,J){return this.rateLimiter.updateClientSendingRate(J),this.standardRetryStrategy.refreshRetryTokenForRetry($,J)}recordSuccess($){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess($)}}var Z1,P7=new Uint8Array(16);function _$(){if(!Z1){if(Z1=typeof crypto!=="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!=="undefined"&&typeof msCrypto.getRandomValues==="function"&&msCrypto.getRandomValues.bind(msCrypto),!Z1)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}return Z1(P7)}var y5=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;var h7=function($){return typeof $==="string"&&y5.test($)},b5=h7;var g7=function($){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Q=(g[$[J+0]]+g[$[J+1]]+g[$[J+2]]+g[$[J+3]]+"-"+g[$[J+4]]+g[$[J+5]]+"-"+g[$[J+6]]+g[$[J+7]]+"-"+g[$[J+8]]+g[$[J+9]]+"-"+g[$[J+10]]+g[$[J+11]]+g[$[J+12]]+g[$[J+13]]+g[$[J+14]]+g[$[J+15]]).toLowerCase();if(!b5(Q))throw TypeError("Stringified UUID is invalid");return Q},g=[];for(G1=0;G1<256;++G1)g.push((G1+256).toString(16).substr(1));var G1,x5=g7;var v7=function($,J,Q){$=$||{};var W=$.random||($.rng||_$)();if(W[6]=W[6]&15|64,W[8]=W[8]&63|128,J){Q=Q||0;for(var X=0;X<16;++X)J[Q+X]=W[X];return J}return x5(W)},f$=v7;var P$=($)=>{if($ instanceof Error)return $;if($ instanceof Object)return Object.assign(new Error,$);if(typeof $==="string")return new Error($);return new Error(`AWS SDK error wrapper for ${$}`)};var m5=($)=>{const{retryStrategy:J}=$,Q=h($.maxAttempts??C0);return{...$,maxAttempts:Q,retryStrategy:async()=>{if(J)return J;if(await h($.retryMode)()===e.ADAPTIVE)return new k$(Q);return new n0(Q)}}};var y7=($)=>(J,Q)=>async(W)=>{let X=await $.retryStrategy();const Z=await $.maxAttempts();if(b7(X)){X=X;let K=await X.acquireInitialRetryToken(Q.partition_id),G=new Error,F=0,Y=0;const{request:V}=W;if(O.isInstance(V))V.headers[W1]=f$();while(!0)try{if(O.isInstance(V))V.headers[X1]=`attempt=${F+1}; max=${Z}`;const{response:U,output:z}=await J(W);return X.recordSuccess(K),z.$metadata.attempts=F+1,z.$metadata.totalRetryDelay=Y,{response:U,output:z}}catch(U){const z=x7(U);G=P$(U);try{K=await X.refreshRetryTokenForRetry(K,z)}catch(B){if(!G.$metadata)G.$metadata={};throw G.$metadata.attempts=F+1,G.$metadata.totalRetryDelay=Y,G}F=K.getRetryCount();const I=K.getRetryDelay();Y+=I,await new Promise((B)=>setTimeout(B,I))}}else{if(X=X,X?.mode)Q.userAgent=[...Q.userAgent||[],["cfg/retry-mode",X.mode]];return X.retry(J,W)}},b7=($)=>typeof $.acquireInitialRetryToken!=="undefined"&&typeof $.refreshRetryTokenForRetry!=="undefined"&&typeof $.recordSuccess!=="undefined",x7=($)=>{const J={errorType:m7($)},Q=c7($.$response);if(Q)J.retryAfterHint=Q;return J},m7=($)=>{if(a0($))return"THROTTLING";if($1($))return"TRANSIENT";if(g5($))return"SERVER_ERROR";return"CLIENT_ERROR"},l7={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},l5=($)=>({applyToStack:(J)=>{J.add(y7($),l7)}}),c7=($)=>{if(!$0.isInstance($))return;const J=Object.keys($.headers).find((Z)=>Z.toLowerCase()==="retry-after");if(!J)return;const Q=$.headers[J],W=Number(Q);if(!Number.isNaN(W))return new Date(W*1000);return new Date(Q)};class h${trace(){}debug(){}info(){}warn(){}error(){}}var u0=()=>{let $=[],J=[];const Q=new Set,W=(V)=>V.sort((U,z)=>c5[z.step]-c5[U.step]||d5[z.priority||"normal"]-d5[U.priority||"normal"]),X=(V)=>{let U=!1;const z=(I)=>{if(I.name&&I.name===V)return U=!0,Q.delete(V),!1;return!0};return $=$.filter(z),J=J.filter(z),U},Z=(V)=>{let U=!1;const z=(I)=>{if(I.middleware===V){if(U=!0,I.name)Q.delete(I.name);return!1}return!0};return $=$.filter(z),J=J.filter(z),U},K=(V)=>{return $.forEach((U)=>{V.add(U.middleware,{...U})}),J.forEach((U)=>{V.addRelativeTo(U.middleware,{...U})}),V},G=(V)=>{const U=[];return V.before.forEach((z)=>{if(z.before.length===0&&z.after.length===0)U.push(z);else U.push(...G(z))}),U.push(V),V.after.reverse().forEach((z)=>{if(z.before.length===0&&z.after.length===0)U.push(z);else U.push(...G(z))}),U},F=(V=!1)=>{const U=[],z=[],I={};return $.forEach((L)=>{const q={...L,before:[],after:[]};if(q.name)I[q.name]=q;U.push(q)}),J.forEach((L)=>{const q={...L,before:[],after:[]};if(q.name)I[q.name]=q;z.push(q)}),z.forEach((L)=>{if(L.toMiddleware){const q=I[L.toMiddleware];if(q===void 0){if(V)return;throw new Error(`${L.toMiddleware} is not found when adding ${L.name||"anonymous"} middleware ${L.relation} ${L.toMiddleware}`)}if(L.relation==="after")q.after.push(L);if(L.relation==="before")q.before.push(L)}}),W(U).map(G).reduce((L,q)=>{return L.push(...q),L},[])},Y={add:(V,U={})=>{const{name:z,override:I}=U,B={step:"initialize",priority:"normal",middleware:V,...U};if(z){if(Q.has(z)){if(!I)throw new Error(`Duplicate middleware name '${z}'`);const L=$.findIndex((E)=>E.name===z),q=$[L];if(q.step!==B.step||q.priority!==B.priority)throw new Error(`"${z}" middleware with ${q.priority} priority in ${q.step} step cannot be `+`overridden by same-name middleware with ${B.priority} priority in ${B.step} step.`);$.splice(L,1)}Q.add(z)}$.push(B)},addRelativeTo:(V,U)=>{const{name:z,override:I}=U,B={middleware:V,...U};if(z){if(Q.has(z)){if(!I)throw new Error(`Duplicate middleware name '${z}'`);const L=J.findIndex((E)=>E.name===z),q=J[L];if(q.toMiddleware!==B.toMiddleware||q.relation!==B.relation)throw new Error(`"${z}" middleware ${q.relation} "${q.toMiddleware}" middleware cannot be overridden `+`by same-name middleware ${B.relation} "${B.toMiddleware}" middleware.`);J.splice(L,1)}Q.add(z)}J.push(B)},clone:()=>K(u0()),use:(V)=>{V.applyToStack(Y)},remove:(V)=>{if(typeof V==="string")return X(V);else return Z(V)},removeByTag:(V)=>{let U=!1;const z=(I)=>{const{tags:B,name:L}=I;if(B&&B.includes(V)){if(L)Q.delete(L);return U=!0,!1}return!0};return $=$.filter(z),J=J.filter(z),U},concat:(V)=>{const U=K(u0());return U.use(V),U},applyToStack:K,identify:()=>{return F(!0).map((V)=>{return V.name+": "+(V.tags||[]).join(",")})},resolve:(V,U)=>{for(let z of F().map((I)=>I.middleware).reverse())V=z(V,U);return V}};return Y},c5={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},d5={high:3,normal:2,low:1};class g${constructor($){this.middlewareStack=u0(),this.config=$}send($,J,Q){const W=typeof J!=="function"?J:void 0,X=typeof J==="function"?J:Q,Z=$.resolveMiddleware(this.middlewareStack,this.config,W);if(X)Z($).then((K)=>X(null,K.output),(K)=>X(K)).catch(()=>{});else return Z($).then((K)=>K.output)}destroy(){if(this.config.requestHandler.destroy)this.config.requestHandler.destroy()}}var z0={},f0=new Array(64);for(let $=0,J="A".charCodeAt(0),Q="Z".charCodeAt(0);$+J<=Q;$++){const W=String.fromCharCode($+J);z0[W]=$,f0[$]=W}for(let $=0,J="a".charCodeAt(0),Q="z".charCodeAt(0);$+J<=Q;$++){const W=String.fromCharCode($+J),X=$+26;z0[W]=X,f0[X]=W}for(let $=0;$<10;$++){z0[$.toString(10)]=$+52;const J=$.toString(10),Q=$+52;z0[J]=Q,f0[Q]=J}z0["+"]=62;f0[62]="+";z0["/"]=63;f0[63]="/";var R0=6,P0=8,s5=63;var o0=($)=>{let J=$.length/4*3;if($.slice(-2)==="==")J-=2;else if($.slice(-1)==="=")J--;const Q=new ArrayBuffer(J),W=new DataView(Q);for(let X=0;X<$.length;X+=4){let Z=0,K=0;for(let Y=X,V=X+3;Y<=V;Y++)if($[Y]!=="="){if(!($[Y]in z0))throw new TypeError(`Invalid character ${$[Y]} in base64 string.`);Z|=z0[$[Y]]<<(V-Y)*R0,K+=R0}else Z>>=R0;const G=X/4*3;Z>>=K%P0;const F=Math.floor(K/P0);for(let Y=0;Y<F;Y++){const V=(F-Y-1)*P0;W.setUint8(G+Y,(Z&255<<V)>>V)}}return new Uint8Array(Q)};function e0($){let J="";for(let Q=0;Q<$.length;Q+=3){let W=0,X=0;for(let K=Q,G=Math.min(Q+3,$.length);K<G;K++)W|=$[K]<<(G-K-1)*P0,X+=P0;const Z=Math.ceil(X/R0);W<<=Z*R0-X;for(let K=1;K<=Z;K++){const G=(Z-K)*R0;J+=f0[(W&s5<<G)>>G]}J+="==".slice(0,4-Z)}return J}function r5($,J="utf-8"){if(J==="base64")return e0($);return M0($)}function i5($,J){if(J==="base64")return V0.mutate(o0($));return V0.mutate(L0($))}class V0 extends Uint8Array{static fromString($,J="utf-8"){switch(typeof $){case"string":return i5($,J);default:throw new Error(`Unsupported conversion from ${typeof $} to Uint8ArrayBlobAdapter.`)}}static mutate($){return Object.setPrototypeOf($,V0.prototype),$}transformToString($="utf-8"){return r5(this,$)}}var p5=($,J)=>{const{base64Encoder:Q,bodyLengthChecker:W,checksumAlgorithmFn:X,checksumLocationName:Z,streamHasher:K}=J,G=Q!==void 0&&W!==void 0&&X!==void 0&&Z!==void 0&&K!==void 0,F=G?K(X,$):void 0,Y=$.getReader();return new ReadableStream({async pull(V){const{value:U,done:z}=await Y.read();if(z){if(V.enqueue("0\r\n"),G){const I=Q(await F);V.enqueue(`${Z}:${I}\r\n`),V.enqueue("\r\n")}V.close()}else V.enqueue(`${(W(U)||0).toString(16)}\r\n${U}\r\n`)}})};function a5($){const J=[];for(let Q of Object.keys($).sort()){const W=$[Q];if(Q=Q0(Q),Array.isArray(W))for(let X=0,Z=W.length;X<Z;X++)J.push(`${Q}=${Q0(W[X])}`);else{let X=Q;if(W||typeof W==="string")X+=`=${Q0(W)}`;J.push(X)}}return J.join("&")}function n5($=0){return new Promise((J,Q)=>{if($)setTimeout(()=>{const W=new Error(`Request did not complete within ${$} ms`);W.name="TimeoutError",Q(W)},$)})}class v${constructor($){if(typeof $==="function")this.configProvider=$().then((J)=>J||{});else this.config=$??{},this.configProvider=Promise.resolve(this.config)}destroy(){}async handle($,{abortSignal:J}={}){if(!this.config)this.config=await this.configProvider;const Q=this.config.requestTimeout;if(J?.aborted){const I=new Error("Request aborted");return I.name="AbortError",Promise.reject(I)}let W=$.path;const X=a5($.query||{});if(X)W+=`?${X}`;if($.fragment)W+=`#${$.fragment}`;let Z="";if($.username!=null||$.password!=null){const I=$.username??"",B=$.password??"";Z=`${I}:${B}@`}const{port:K,method:G}=$,F=`${$.protocol}//${Z}${$.hostname}${K?`:${K}`:""}${W}`,V={body:G==="GET"||G==="HEAD"?void 0:$.body,headers:new Headers($.headers),method:G};if(typeof AbortController!=="undefined")V.signal=J;const U=new Request(F,V),z=[fetch(U).then((I)=>{const B=I.headers,L={};for(let E of B.entries())L[E[0]]=E[1];if(I.body==null)return I.blob().then((E)=>({response:new $0({headers:L,reason:I.statusText,statusCode:I.status,body:E})}));return{response:new $0({headers:L,reason:I.statusText,statusCode:I.status,body:I.body})}}),n5(Q)];if(J)z.push(new Promise((I,B)=>{J.onabort=()=>{const L=new Error("Request aborted");L.name="AbortError",B(L)}}));return Promise.race(z)}}async function d7($){const J=await r7($),Q=o0(J);return new Uint8Array(Q)}async function s7($){let J=new Uint8Array(0);const Q=$.getReader();let W=!1;while(!W){const{done:X,value:Z}=await Q.read();if(Z){const K=J;J=new Uint8Array(K.length+Z.length),J.set(K),J.set(Z,K.length)}W=X}return J}var r7=function($){return new Promise((J,Q)=>{const W=new FileReader;W.onloadend=()=>{if(W.readyState!==2)return Q(new Error("Reader aborted too early"));const X=W.result??"",Z=X.indexOf(","),K=Z>-1?Z+1:X.length;J(X.substring(K))},W.onabort=()=>Q(new Error("Read aborted")),W.onerror=()=>Q(W.error),W.readAsDataURL($)})},K1=($)=>{if(typeof Blob==="function"&&$ instanceof Blob)return d7($);return s7($)};var u5="The stream has already been transformed.",t5=($)=>{if(!o5($)&&!e5($)){const X=$?.__proto__?.constructor?.name||$;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${X}`)}let J=!1;const Q=async()=>{if(J)throw new Error(u5);return J=!0,await K1($)},W=(X)=>{if(typeof X.stream!=="function")throw new Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return X.stream()};return Object.assign($,{transformToByteArray:Q,transformToString:async(X)=>{const Z=await Q();if(X==="base64")return e0(Z);else if(X==="hex")return f(Z);else if(X===void 0||X==="utf8"||X==="utf-8")return M0(Z);else if(typeof TextDecoder==="function")return new TextDecoder(X).decode(Z);else throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(J)throw new Error(u5);if(J=!0,o5($))return W($);else if(e5($))return $;else throw new Error(`Cannot transform payload to web stream, got ${$}`)}})},o5=($)=>typeof Blob==="function"&&$ instanceof Blob,e5=($)=>typeof ReadableStream==="function"&&$ instanceof ReadableStream;var Y1=async($=new Uint8Array,J)=>{if($ instanceof Uint8Array)return V0.mutate($);if(!$)return V0.mutate(new Uint8Array);const Q=J.streamCollector($);return V0.mutate(await Q)};class U0{constructor(){this.middlewareStack=u0()}}var T0="***SensitiveInformation***";var h0=($)=>{switch($){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${$}"`)}};var i7=($)=>{if($===null||$===void 0)return;if(typeof $==="string"){const J=parseFloat($);if(!Number.isNaN(J)){if(String(J)!==String($))Y4.warn(K4(`Expected number but observed string: ${$}`));return J}}if(typeof $==="number")return $;throw new TypeError(`Expected number, got ${typeof $}: ${$}`)},p7=Math.ceil(340282346638528860000000000000000000000),$4=($)=>{const J=i7($);if(J!==void 0&&!Number.isNaN(J)&&J!==Infinity&&J!==(-Infinity)){if(Math.abs(J)>p7)throw new TypeError(`Expected 32-bit float, got ${$}`)}return J},y$=($)=>{if($===null||$===void 0)return;if(Number.isInteger($)&&!Number.isNaN($))return $;throw new TypeError(`Expected integer, got ${typeof $}: ${$}`)};var J4=($)=>b$($,32),Q4=($)=>b$($,16),W4=($)=>b$($,8),b$=($,J)=>{const Q=y$($);if(Q!==void 0&&a7(Q,J)!==Q)throw new TypeError(`Expected ${J}-bit integer, got ${$}`);return Q},a7=($,J)=>{switch(J){case 32:return Int32Array.of($)[0];case 16:return Int16Array.of($)[0];case 8:return Int8Array.of($)[0]}},g0=($,J)=>{if($===null||$===void 0){if(J)throw new TypeError(`Expected a non-null value for ${J}`);throw new TypeError("Expected a non-null value")}return $},X4=($)=>{if($===null||$===void 0)return;if(typeof $==="object"&&!Array.isArray($))return $;const J=Array.isArray($)?"array":typeof $;throw new TypeError(`Expected object, got ${J}: ${$}`)},v=($)=>{if($===null||$===void 0)return;if(typeof $==="string")return $;if(["boolean","number","bigint"].includes(typeof $))return Y4.warn(K4(`Expected string, got ${typeof $}: ${$}`)),String($);throw new TypeError(`Expected string, got ${typeof $}: ${$}`)};var Z4=($)=>{if(typeof $=="string")return $4(z8($));return $4($)},n7=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,z8=($)=>{const J=$.match(n7);if(J===null||J[0].length!==$.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat($)};var x$=($)=>{if(typeof $==="string")return y$(z8($));return y$($)};var t0=($)=>{if(typeof $==="string")return J4(z8($));return J4($)},V8=($)=>{if(typeof $==="string")return Q4(z8($));return Q4($)},G4=($)=>{if(typeof $==="string")return W4(z8($));return W4($)},K4=($)=>{return String(new TypeError($).stack||$).split("\n").slice(0,5).filter((J)=>!J.includes("stackTraceWarning")).join("\n")},Y4={warn:console.warn};function I8($){const J=$.getUTCFullYear(),Q=$.getUTCMonth(),W=$.getUTCDay(),X=$.getUTCDate(),Z=$.getUTCHours(),K=$.getUTCMinutes(),G=$.getUTCSeconds(),F=X<10?`0${X}`:`${X}`,Y=Z<10?`0${Z}`:`${Z}`,V=K<10?`0${K}`:`${K}`,U=G<10?`0${G}`:`${G}`;return`${u7[W]}, ${F} ${l$[Q]} ${J} ${Y}:${V}:${U} GMT`}var u7=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l$=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],eR=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var o7=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),z1=($)=>{if($===null||$===void 0)return;if(typeof $!=="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const J=o7.exec($);if(!J)throw new TypeError("Invalid RFC-3339 date-time value");const[Q,W,X,Z,K,G,F,Y,V]=J,U=V8(U8(W)),z=A0(X,"month",1,12),I=A0(Z,"day",1,31),B=F1(U,z,I,{hours:K,minutes:G,seconds:F,fractionalMilliseconds:Y});if(V.toUpperCase()!="Z")B.setTime(B.getTime()-YK(V));return B},e7=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),t7=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),$K=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),c$=($)=>{if($===null||$===void 0)return;if(typeof $!=="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let J=e7.exec($);if(J){const[Q,W,X,Z,K,G,F,Y]=J;return F1(V8(U8(Z)),m$(X),A0(W,"day",1,31),{hours:K,minutes:G,seconds:F,fractionalMilliseconds:Y})}if(J=t7.exec($),J){const[Q,W,X,Z,K,G,F,Y]=J;return WK(F1(JK(Z),m$(X),A0(W,"day",1,31),{hours:K,minutes:G,seconds:F,fractionalMilliseconds:Y}))}if(J=$K.exec($),J){const[Q,W,X,Z,K,G,F,Y]=J;return F1(V8(U8(Y)),m$(W),A0(X.trimLeft(),"day",1,31),{hours:Z,minutes:K,seconds:G,fractionalMilliseconds:F})}throw new TypeError("Invalid RFC-7231 date-time value")};var F1=($,J,Q,W)=>{const X=J-1;return ZK($,X,Q),new Date(Date.UTC($,X,Q,A0(W.hours,"hour",0,23),A0(W.minutes,"minute",0,59),A0(W.seconds,"seconds",0,60),KK(W.fractionalMilliseconds)))},JK=($)=>{const J=(new Date()).getUTCFullYear(),Q=Math.floor(J/100)*100+V8(U8($));if(Q<J)return Q+100;return Q},QK=1576800000000,WK=($)=>{if($.getTime()-(new Date()).getTime()>QK)return new Date(Date.UTC($.getUTCFullYear()-100,$.getUTCMonth(),$.getUTCDate(),$.getUTCHours(),$.getUTCMinutes(),$.getUTCSeconds(),$.getUTCMilliseconds()));return $},m$=($)=>{const J=l$.indexOf($);if(J<0)throw new TypeError(`Invalid month: ${$}`);return J+1},XK=[31,28,31,30,31,30,31,31,30,31,30,31],ZK=($,J,Q)=>{let W=XK[J];if(J===1&&GK($))W=29;if(Q>W)throw new TypeError(`Invalid day for ${l$[J]} in ${$}: ${Q}`)},GK=($)=>{return $%4===0&&($%100!==0||$%400===0)},A0=($,J,Q,W)=>{const X=G4(U8($));if(X<Q||X>W)throw new TypeError(`${J} must be between ${Q} and ${W}, inclusive`);return X},KK=($)=>{if($===null||$===void 0)return 0;return Z4("0."+$)*1000},YK=($)=>{const J=$[0];let Q=1;if(J=="+")Q=1;else if(J=="-")Q=-1;else throw new TypeError(`Offset direction, ${J}, must be "+" or "-"`);const W=Number($.substring(1,3)),X=Number($.substring(4,6));return Q*(W*60+X)*60*1000},U8=($)=>{let J=0;while(J<$.length-1&&$.charAt(J)==="0")J++;if(J===0)return $;return $.slice(J)};class V1 extends Error{constructor($){super($.message);Object.setPrototypeOf(this,V1.prototype),this.name=$.name,this.$fault=$.$fault,this.$metadata=$.$metadata}}var $8=($,J={})=>{Object.entries(J).filter(([,W])=>W!==void 0).forEach(([W,X])=>{if($[W]==void 0||$[W]==="")$[W]=X});const Q=$.message||$.Message||"UnknownError";return $.message=Q,delete $.Message,$};var FK=({output:$,parsedBody:J,exceptionCtor:Q,errorCode:W})=>{const X=zK($),Z=X.httpStatusCode?X.httpStatusCode+"":void 0,K=new Q({name:J?.code||J?.Code||W||Z||"UnknownError",$fault:"client",$metadata:X});throw $8(K,J)},F4=($)=>{return({output:J,parsedBody:Q,errorCode:W})=>{FK({output:J,parsedBody:Q,exceptionCtor:$,errorCode:W})}},zK=($)=>({httpStatusCode:$.statusCode,requestId:$.headers["x-amzn-requestid"]??$.headers["x-amzn-request-id"]??$.headers["x-amz-request-id"],extendedRequestId:$.headers["x-amz-id-2"],cfId:$.headers["x-amz-cf-id"]});var z4=($)=>{switch($){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:30000};default:return{}}};function d$($){return encodeURIComponent($).replace(/[!'()*]/g,function(J){return"%"+J.charCodeAt(0).toString(16).toUpperCase()})}var U1=($)=>Array.isArray($)?$:[$];var s$=($)=>{for(let Q in $)if($.hasOwnProperty(Q)&&$[Q]["#text"]!==void 0)$[Q]=$[Q]["#text"];else if(typeof $[Q]==="object"&&$[Q]!==null)$[Q]=s$($[Q]);return $};var r$=function(){const $=Object.getPrototypeOf(this).constructor,Q=new(Function.bind.apply(String,[null,...arguments]));return Object.setPrototypeOf(Q,$.prototype),Q};r$.prototype=Object.create(String.prototype,{constructor:{value:r$,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(r$,String);function y($,J,Q){let W,X,Z;if(typeof J==="undefined"&&typeof Q==="undefined")W={},Z=$;else if(W=$,typeof J==="function")return X=J,Z=Q,VK(W,X,Z);else Z=J;for(let K of Object.keys(Z)){if(!Array.isArray(Z[K])){W[K]=Z[K];continue}UK(W,null,Z,K)}return W}var VK=($,J,Q)=>{return y($,Object.entries(Q).reduce((W,[X,Z])=>{if(Array.isArray(Z))W[X]=Z;else if(typeof Z==="function")W[X]=[J,Z()];else W[X]=[J,Z];return W},{}))},UK=($,J,Q,W)=>{if(J!==null){let K=Q[W];if(typeof K==="function")K=[,K];const[G=IK,F=BK,Y=W]=K;if(typeof G==="function"&&G(J[Y])||typeof G!=="function"&&!!G)$[W]=F(J[Y]);return}let[X,Z]=Q[W];if(typeof Z==="function"){let K;const G=X===void 0&&(K=Z())!=null,F=typeof X==="function"&&!!X(void 0)||typeof X!=="function"&&!!X;if(G)$[W]=K;else if(F)$[W]=Z()}else{const K=X===void 0&&Z!=null,G=typeof X==="function"&&!!X(Z)||typeof X!=="function"&&!!X;if(K||G)$[W]=Z}},IK=($)=>$!=null,BK=($)=>$;var O0=($,J,Q,W,X,Z)=>{if(J!=null&&J[Q]!==void 0){const K=W();if(K.length<=0)throw new Error("Empty value provided for input HTTP label: "+Q+".");$=$.replace(X,Z?K.split("/").map((G)=>d$(G)).join("/"):d$(K))}else throw new Error("No value provided for input HTTP label: "+Q+".");return $};var V4=($)=>{return{...$,useFipsEndpoint:$.useFipsEndpoint??!1,useDualstackEndpoint:$.useDualstackEndpoint??!1,useAccelerateEndpoint:$.useAccelerateEndpoint??!1,useGlobalEndpoint:$.useGlobalEndpoint??!1,disableMultiregionAccessPoints:$.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}};var U4={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.370.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js","test:unit":"ts-mocha test/**/*.spec.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.370.0","@aws-sdk/credential-provider-node":"3.370.0","@aws-sdk/hash-blob-browser":"3.370.0","@aws-sdk/hash-stream-node":"3.370.0","@aws-sdk/md5-js":"3.370.0","@aws-sdk/middleware-bucket-endpoint":"3.370.0","@aws-sdk/middleware-expect-continue":"3.370.0","@aws-sdk/middleware-flexible-checksums":"3.370.0","@aws-sdk/middleware-host-header":"3.370.0","@aws-sdk/middleware-location-constraint":"3.370.0","@aws-sdk/middleware-logger":"3.370.0","@aws-sdk/middleware-recursion-detection":"3.370.0","@aws-sdk/middleware-sdk-s3":"3.370.0","@aws-sdk/middleware-signing":"3.370.0","@aws-sdk/middleware-ssec":"3.370.0","@aws-sdk/middleware-user-agent":"3.370.0","@aws-sdk/signature-v4-multi-region":"3.370.0","@aws-sdk/types":"3.370.0","@aws-sdk/util-endpoints":"3.370.0","@aws-sdk/util-user-agent-browser":"3.370.0","@aws-sdk/util-user-agent-node":"3.370.0","@aws-sdk/xml-builder":"3.310.0","@smithy/config-resolver":"^1.0.1","@smithy/eventstream-serde-browser":"^1.0.1","@smithy/eventstream-serde-config-resolver":"^1.0.1","@smithy/eventstream-serde-node":"^1.0.1","@smithy/fetch-http-handler":"^1.0.1","@smithy/hash-node":"^1.0.1","@smithy/invalid-dependency":"^1.0.1","@smithy/middleware-content-length":"^1.0.1","@smithy/middleware-endpoint":"^1.0.2","@smithy/middleware-retry":"^1.0.3","@smithy/middleware-serde":"^1.0.1","@smithy/middleware-stack":"^1.0.1","@smithy/node-config-provider":"^1.0.1","@smithy/node-http-handler":"^1.0.2","@smithy/protocol-http":"^1.1.0","@smithy/smithy-client":"^1.0.3","@smithy/types":"^1.1.0","@smithy/url-parser":"^1.0.1","@smithy/util-base64":"^1.0.1","@smithy/util-body-length-browser":"^1.0.1","@smithy/util-body-length-node":"^1.0.1","@smithy/util-defaults-mode-browser":"^1.0.1","@smithy/util-defaults-mode-node":"^1.0.1","@smithy/util-retry":"^1.0.3","@smithy/util-stream":"^1.0.1","@smithy/util-utf8":"^1.0.1","@smithy/util-waiter":"^1.0.1","fast-xml-parser":"4.2.5",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^1.0.1","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var QZ=G0(J6(),1),WZ=G0(f6(),1);function P6($,J,Q=1048576){return new Promise((W,X)=>{const Z=new FileReader;Z.addEventListener("error",X),Z.addEventListener("abort",X);const K=$.size;let G=0;function F(){if(G>=K){W();return}Z.readAsArrayBuffer($.slice(G,Math.min(K,G+Q)))}Z.addEventListener("load",(Y)=>{const V=Y.target.result;J(new Uint8Array(V)),G+=V.byteLength,F()}),F()})}var h6=async function $(J,Q){const W=new J;return await P6(Q,(X)=>{W.update(X)}),W.digest()};var NJ=($)=>(new TextEncoder()).encode($);var I0=64,g6=16,v6=[1732584193,4023233417,2562383102,271733878];var w1=function($,J,Q,W,X,Z){return J=(J+$&4294967295)+(W+Z&4294967295)&4294967295,(J<<X|J>>>32-X)+Q&4294967295},b=function($,J,Q,W,X,Z,K){return w1(J&Q|~J&W,$,J,X,Z,K)},x=function($,J,Q,W,X,Z,K){return w1(J&W|Q&~W,$,J,X,Z,K)},m=function($,J,Q,W,X,Z,K){return w1(J^Q^W,$,J,X,Z,K)},l=function($,J,Q,W,X,Z,K){return w1(Q^(J|~W),$,J,X,Z,K)},Zz=function($){if(typeof $==="string")return $.length===0;return $.byteLength===0},Gz=function($){if(typeof $==="string")return NJ($);if(ArrayBuffer.isView($))return new Uint8Array($.buffer,$.byteOffset,$.byteLength/Uint8Array.BYTES_PER_ELEMENT);return new Uint8Array($)};class kJ{constructor(){this.reset()}update($){if(Zz($))return;else if(this.finished)throw new Error("Attempted to update an already finished hash.");const J=Gz($);let Q=0,{byteLength:W}=J;this.bytesHashed+=W;while(W>0)if(this.buffer.setUint8(this.bufferLength++,J[Q++]),W--,this.bufferLength===I0)this.hashBuffer(),this.bufferLength=0}async digest(){if(!this.finished){const{buffer:J,bufferLength:Q,bytesHashed:W}=this,X=W*8;if(J.setUint8(this.bufferLength++,128),Q%I0>=I0-8){for(let Z=this.bufferLength;Z<I0;Z++)J.setUint8(Z,0);this.hashBuffer(),this.bufferLength=0}for(let Z=this.bufferLength;Z<I0-8;Z++)J.setUint8(Z,0);J.setUint32(I0-8,X>>>0,!0),J.setUint32(I0-4,Math.floor(X/4294967296),!0),this.hashBuffer(),this.finished=!0}const $=new DataView(new ArrayBuffer(g6));for(let J=0;J<4;J++)$.setUint32(J*4,this.state[J],!0);return new Uint8Array($.buffer,$.byteOffset,$.byteLength)}hashBuffer(){const{buffer:$,state:J}=this;let Q=J[0],W=J[1],X=J[2],Z=J[3];Q=b(Q,W,X,Z,$.getUint32(0,!0),7,3614090360),Z=b(Z,Q,W,X,$.getUint32(4,!0),12,3905402710),X=b(X,Z,Q,W,$.getUint32(8,!0),17,606105819),W=b(W,X,Z,Q,$.getUint32(12,!0),22,3250441966),Q=b(Q,W,X,Z,$.getUint32(16,!0),7,4118548399),Z=b(Z,Q,W,X,$.getUint32(20,!0),12,1200080426),X=b(X,Z,Q,W,$.getUint32(24,!0),17,2821735955),W=b(W,X,Z,Q,$.getUint32(28,!0),22,4249261313),Q=b(Q,W,X,Z,$.getUint32(32,!0),7,1770035416),Z=b(Z,Q,W,X,$.getUint32(36,!0),12,2336552879),X=b(X,Z,Q,W,$.getUint32(40,!0),17,4294925233),W=b(W,X,Z,Q,$.getUint32(44,!0),22,2304563134),Q=b(Q,W,X,Z,$.getUint32(48,!0),7,1804603682),Z=b(Z,Q,W,X,$.getUint32(52,!0),12,4254626195),X=b(X,Z,Q,W,$.getUint32(56,!0),17,2792965006),W=b(W,X,Z,Q,$.getUint32(60,!0),22,1236535329),Q=x(Q,W,X,Z,$.getUint32(4,!0),5,4129170786),Z=x(Z,Q,W,X,$.getUint32(24,!0),9,3225465664),X=x(X,Z,Q,W,$.getUint32(44,!0),14,643717713),W=x(W,X,Z,Q,$.getUint32(0,!0),20,3921069994),Q=x(Q,W,X,Z,$.getUint32(20,!0),5,3593408605),Z=x(Z,Q,W,X,$.getUint32(40,!0),9,38016083),X=x(X,Z,Q,W,$.getUint32(60,!0),14,3634488961),W=x(W,X,Z,Q,$.getUint32(16,!0),20,3889429448),Q=x(Q,W,X,Z,$.getUint32(36,!0),5,568446438),Z=x(Z,Q,W,X,$.getUint32(56,!0),9,3275163606),X=x(X,Z,Q,W,$.getUint32(12,!0),14,4107603335),W=x(W,X,Z,Q,$.getUint32(32,!0),20,1163531501),Q=x(Q,W,X,Z,$.getUint32(52,!0),5,2850285829),Z=x(Z,Q,W,X,$.getUint32(8,!0),9,4243563512),X=x(X,Z,Q,W,$.getUint32(28,!0),14,1735328473),W=x(W,X,Z,Q,$.getUint32(48,!0),20,2368359562),Q=m(Q,W,X,Z,$.getUint32(20,!0),4,4294588738),Z=m(Z,Q,W,X,$.getUint32(32,!0),11,2272392833),X=m(X,Z,Q,W,$.getUint32(44,!0),16,1839030562),W=m(W,X,Z,Q,$.getUint32(56,!0),23,4259657740),Q=m(Q,W,X,Z,$.getUint32(4,!0),4,2763975236),Z=m(Z,Q,W,X,$.getUint32(16,!0),11,1272893353),X=m(X,Z,Q,W,$.getUint32(28,!0),16,4139469664),W=m(W,X,Z,Q,$.getUint32(40,!0),23,3200236656),Q=m(Q,W,X,Z,$.getUint32(52,!0),4,681279174),Z=m(Z,Q,W,X,$.getUint32(0,!0),11,3936430074),X=m(X,Z,Q,W,$.getUint32(12,!0),16,3572445317),W=m(W,X,Z,Q,$.getUint32(24,!0),23,76029189),Q=m(Q,W,X,Z,$.getUint32(36,!0),4,3654602809),Z=m(Z,Q,W,X,$.getUint32(48,!0),11,3873151461),X=m(X,Z,Q,W,$.getUint32(60,!0),16,530742520),W=m(W,X,Z,Q,$.getUint32(8,!0),23,3299628645),Q=l(Q,W,X,Z,$.getUint32(0,!0),6,4096336452),Z=l(Z,Q,W,X,$.getUint32(28,!0),10,1126891415),X=l(X,Z,Q,W,$.getUint32(56,!0),15,2878612391),W=l(W,X,Z,Q,$.getUint32(20,!0),21,4237533241),Q=l(Q,W,X,Z,$.getUint32(48,!0),6,1700485571),Z=l(Z,Q,W,X,$.getUint32(12,!0),10,2399980690),X=l(X,Z,Q,W,$.getUint32(40,!0),15,4293915773),W=l(W,X,Z,Q,$.getUint32(4,!0),21,2240044497),Q=l(Q,W,X,Z,$.getUint32(32,!0),6,1873313359),Z=l(Z,Q,W,X,$.getUint32(60,!0),10,4264355552),X=l(X,Z,Q,W,$.getUint32(24,!0),15,2734768916),W=l(W,X,Z,Q,$.getUint32(52,!0),21,1309151649),Q=l(Q,W,X,Z,$.getUint32(16,!0),6,4149444226),Z=l(Z,Q,W,X,$.getUint32(44,!0),10,3174756917),X=l(X,Z,Q,W,$.getUint32(8,!0),15,718787259),W=l(W,X,Z,Q,$.getUint32(36,!0),21,3951481745),J[0]=Q+J[0]&4294967295,J[1]=W+J[1]&4294967295,J[2]=X+J[2]&4294967295,J[3]=Z+J[3]&4294967295}reset(){this.state=Uint32Array.from(v6),this.buffer=new DataView(new ArrayBuffer(I0)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}var y6=G0(fJ(),1),b6=({serviceId:$,clientVersion:J})=>async()=>{const Q=typeof window!=="undefined"&&window?.navigator?.userAgent?y6.default.parse(window.navigator.userAgent):void 0,W=[["aws-sdk-js",J],["ua","2.0"],[`os/${Q?.os?.name||"other"}`,Q?.os?.version],["lang/js"],["md/browser",`${Q?.browser?.name??"unknown"}_${Q?.browser?.version??"unknown"}`]];if($)W.push([`api/${$}`,J]);return W};function x6($){let J=0,Q=0,W=null,X=null;const Z=(G)=>{if(typeof G!=="number")throw new Error("Attempted to allocate an event message where size was not a number: "+G);J=G,Q=4,W=new Uint8Array(G),new DataView(W.buffer).setUint32(0,G,!1)},K=async function*(){const G=$[Symbol.asyncIterator]();while(!0){const{value:F,done:Y}=await G.next();if(Y){if(!J)return;else if(J===Q)yield W;else throw new Error("Truncated event message received.");return}const V=F.length;let U=0;while(U<V){if(!W){const I=V-U;if(!X)X=new Uint8Array(4);const B=Math.min(4-Q,I);if(X.set(F.slice(U,U+B),Q),Q+=B,U+=B,Q<4)break;Z(new DataView(X.buffer).getUint32(0,!1)),X=null}const z=Math.min(J-Q,V-U);if(W.set(F.slice(U,U+z),Q),Q+=z,U+=z,J&&J===Q)yield W,W=null,J=0,Q=0}}};return{[Symbol.asyncIterator]:K}}function m6($,J){return async function(Q){const{value:W}=Q.headers[":message-type"];if(W==="error"){const X=new Error(Q.headers[":error-message"].value||"UnknownError");throw X.name=Q.headers[":error-code"].value,X}else if(W==="exception"){const X=Q.headers[":exception-type"].value,Z={[X]:Q},K=await $(Z);if(K.$unknown){const G=new Error(J(Q.body));throw G.name=X,G}throw K[X]}else if(W==="event"){const X={[Q.headers[":event-type"].value]:Q},Z=await $(X);if(Z.$unknown)return;return Z}else throw Error(`Unrecognizable event type: ${Q.headers[":event-type"].value}`)}}class H1{constructor({utf8Encoder:$,utf8Decoder:J}){this.eventStreamCodec=new $$($,J),this.utfEncoder=$}deserialize($,J){const Q=x6($);return new W$({messageStream:new J$({inputStream:Q,decoder:this.eventStreamCodec}),deserializer:m6(J,this.utfEncoder)})}serialize($,J){return new Q$({messageStream:new X$({inputStream:$,serializer:J}),encoder:this.eventStreamCodec,includeEndFrame:!0})}}var l6=($)=>({[Symbol.asyncIterator]:async function*(){const J=$.getReader();try{while(!0){const{done:Q,value:W}=await J.read();if(Q)return;yield W}}finally{J.releaseLock()}}}),c6=($)=>{const J=$[Symbol.asyncIterator]();return new ReadableStream({async pull(Q){const{done:W,value:X}=await J.next();if(W)return Q.close();Q.enqueue(X)}})};class PJ{constructor({utf8Encoder:$,utf8Decoder:J}){this.universalMarshaller=new H1({utf8Decoder:J,utf8Encoder:$})}deserialize($,J){const Q=Kz($)?l6($):$;return this.universalMarshaller.deserialize(Q,J)}serialize($,J){const Q=this.universalMarshaller.serialize($,J);return typeof ReadableStream==="function"?c6(Q):Q}}var Kz=($)=>typeof ReadableStream==="function"&&$ instanceof ReadableStream;var d6=($)=>new PJ($);var s6=($)=>()=>Promise.reject($);var r6=($)=>{if(typeof $==="string"){let J=$.length;for(let Q=J-1;Q>=0;Q--){const W=$.charCodeAt(Q);if(W>127&&W<=2047)J++;else if(W>2047&&W<=65535)J+=2;if(W>=56320&&W<=57343)Q--}return J}else if(typeof $.byteLength==="number")return $.byteLength;else if(typeof $.size==="number")return $.size;throw new Error(`Body Length computation failed for ${$}`)};class hJ{constructor($){this.sigv4Signer=new r0($),this.signerOptions=$}async sign($,J={}){if(J.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign($,J)}return this.sigv4Signer.sign($,J)}async presign($,J={}){if(J.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign($,J)}return this.sigv4Signer.presign($,J)}getSigv4aSigner(){if(!this.sigv4aSigner){let $;try{if($=typeof require==="function"&&(()=>{ throw new Error(`Cannot require module "@aws-sdk/signature-v4-crt"`);})().CrtSignerV4,typeof $!=="function")throw new Error}catch(J){throw J.message=`${J.message}\nPlease check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. \n`+"For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt",J}this.sigv4aSigner=new $({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}}var gJ={["required"]:!1,["type"]:"String"},A8={["required"]:!0,default:!1,["type"]:"Boolean"},C1={["required"]:!1,["type"]:"Boolean"},iX={["fn"]:"isSet",["argv"]:[{["ref"]:"Bucket"}]},W0={["ref"]:"Bucket"},i6={["ref"]:"hardwareType"},p6={["conditions"]:[{["fn"]:"not",["argv"]:[{["fn"]:"isSet",["argv"]:[{["ref"]:"Endpoint"}]}]}],["error"]:"Expected a endpoint to be specified but no endpoint was found",["type"]:"error"},w={["fn"]:"not",["argv"]:[{["fn"]:"isSet",["argv"]:[{["ref"]:"Endpoint"}]}]},H={["fn"]:"isSet",["argv"]:[{["ref"]:"Endpoint"}]},A={["fn"]:"parseURL",["argv"]:[{["ref"]:"Endpoint"}],["assign"]:"url"},R1={["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3-outposts",["signingRegion"]:"{Region}"}]},k={},a6={["ref"]:"ForcePathStyle"},n6={["conditions"]:[{["fn"]:"uriEncode",["argv"]:[W0],["assign"]:"uri_encoded_bucket"}],["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},H],["error"]:"Cannot set dual-stack in combination with a custom endpoint.",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"aws.partition",["argv"]:[{["ref"]:"Region"}],["assign"]:"partitionResult"}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"Accelerate"},!1]}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!0]}],["type"]:"tree",["rules"]:[{["endpoint"]:{["url"]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"}]},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!1]}],["endpoint"]:{["url"]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},H,A,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},H,A,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},H,A,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!0]}],["type"]:"tree",["rules"]:[{["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"}]},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},H,A,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!1]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!0]}],["type"]:"tree",["rules"]:[{["endpoint"]:{["url"]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"}]},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!1]}],["endpoint"]:{["url"]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!0]}],["type"]:"tree",["rules"]:[{["endpoint"]:{["url"]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"}]},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!1]}],["endpoint"]:{["url"]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},H,A,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},H,A,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},H,A,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!0]}],["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"us-east-1"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"},{["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"}]},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},H,A,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!1]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!0]}],["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"us-east-1"]}],["endpoint"]:{["url"]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"},{["endpoint"]:{["url"]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"}]},{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},w,{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!1]}],["endpoint"]:{["url"]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},["headers"]:{}},["type"]:"endpoint"}]}]},{["error"]:"Path-style addressing cannot be used with S3 Accelerate",["type"]:"error"}]}]},{["error"]:"A valid partition could not be determined",["type"]:"error"}]}]},j={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},P={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"Accelerate"},!1]},D={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},R={["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}]},c={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!0]},s={["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{Region}"}]},d={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseGlobalEndpoint"},!1]},T={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},C={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},b0={["error"]:"A valid partition could not be determined",["type"]:"error"},vJ={["conditions"]:[D,{["fn"]:"stringEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[{["ref"]:"partitionResult"},"name"]},"aws-cn"]}],["error"]:"Partition does not support FIPS",["type"]:"error"},Yz={["fn"]:"stringEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[{["ref"]:"partitionResult"},"name"]},"aws-cn"]},t={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"Accelerate"},!0]},u6={["conditions"]:[j,D,P,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},o6={["url"]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},e6={["conditions"]:[T,D,P,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},t6={["url"]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},$X={["conditions"]:[j,C,t,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},JX={["url"]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},QX={["conditions"]:[j,C,P,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},WX={["url"]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},XX={["conditions"]:[T,C,P,H,A,{["fn"]:"booleanEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[{["ref"]:"url"},"isIp"]},!0]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},ZX={["fn"]:"booleanEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[{["ref"]:"url"},"isIp"]},!0]},$Q={["ref"]:"url"},GX={["conditions"]:[T,C,P,H,A,{["fn"]:"booleanEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[$Q,"isIp"]},!1]},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},KX={["fn"]:"booleanEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[$Q,"isIp"]},!1]},yJ={["url"]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",["properties"]:s,["headers"]:{}},tJ={["url"]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",["properties"]:s,["headers"]:{}},YX={["endpoint"]:tJ,["type"]:"endpoint"},FX={["conditions"]:[T,C,t,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},bJ={["url"]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},zX={["conditions"]:[T,C,P,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://{Bucket}.s3.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},VX={["url"]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},T1={["error"]:"Invalid region: region was not a valid DNS name.",["type"]:"error"},r={["ref"]:"bucketArn"},pX={["ref"]:"arnType"},xJ={["fn"]:"getAttr",["argv"]:[r,"service"]},JQ={["ref"]:"accessPointName"},UX={["conditions"]:[j],["error"]:"S3 Object Lambda does not support Dual-stack",["type"]:"error"},IX={["conditions"]:[t],["error"]:"S3 Object Lambda does not support S3 Accelerate",["type"]:"error"},BX={["conditions"]:[{["fn"]:"isSet",["argv"]:[{["ref"]:"DisableAccessPoints"}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"DisableAccessPoints"},!0]}],["error"]:"Access points are not supported for this operation",["type"]:"error"},mJ={["conditions"]:[{["fn"]:"isSet",["argv"]:[{["ref"]:"UseArnRegion"}]},{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseArnRegion"},!1]},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[r,"region"]},"{Region}"]}]}],["error"]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",["type"]:"error"},QQ={["fn"]:"getAttr",["argv"]:[{["ref"]:"bucketPartition"},"name"]},aX={["fn"]:"getAttr",["argv"]:[r,"accountId"]},LX={["conditions"]:[D,{["fn"]:"stringEquals",["argv"]:[QQ,"aws-cn"]}],["error"]:"Partition does not support FIPS",["type"]:"error"},lJ={["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3-object-lambda",["signingRegion"]:"{bucketArn#region}"}]},MX={["error"]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",["type"]:"error"},cJ={["error"]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",["type"]:"error"},dJ={["error"]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",["type"]:"error"},sJ={["error"]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",["type"]:"error"},qX={["error"]:"Could not load partition for ARN region `{bucketArn#region}`",["type"]:"error"},wX={["error"]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",["type"]:"error"},HX={["error"]:"Invalid ARN: bucket ARN is missing a region",["type"]:"error"},CX={["error"]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",["type"]:"error"},O8={["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"{bucketArn#region}"}]},RX={["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3-outposts",["signingRegion"]:"{bucketArn#region}"}]},TX={["ref"]:"UseObjectLambdaEndpoint"},rJ={["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3-object-lambda",["signingRegion"]:"{Region}"}]},AX={["conditions"]:[D,j,H,A,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#path}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},nX={["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#path}",["properties"]:s,["headers"]:{}},["type"]:"endpoint"},j8={["url"]:"{url#scheme}://{url#authority}{url#path}",["properties"]:s,["headers"]:{}},OX={["conditions"]:[D,j,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},jX={["url"]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},DX={["conditions"]:[D,T,H,A,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#path}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},SX={["conditions"]:[D,T,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},EX={["url"]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},NX={["conditions"]:[C,j,H,A,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#path}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},kX={["conditions"]:[C,j,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},_X={["url"]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},fX={["conditions"]:[C,T,H,A,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"{url#scheme}://{url#authority}{url#path}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},PX={["conditions"]:[C,T,w,{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"aws-global"]}],["endpoint"]:{["url"]:"https://s3.{partitionResult#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,["name"]:"sigv4",["signingName"]:"s3",["signingRegion"]:"us-east-1"}]},["headers"]:{}},["type"]:"endpoint"},hX={["url"]:"https://s3.{Region}.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:{}},O1=[{["ref"]:"Region"}],Fz=[W0],gX=[{["fn"]:"isValidHostLabel",["argv"]:[{["ref"]:"outpostId"},!1]}],vX=[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"regionPrefix"},"beta"]}],zz=[{["ref"]:"Endpoint"}],D8=[H,A],yX=[iX],bX=[{["fn"]:"aws.parseArn",["argv"]:[W0]}],Vz=[j,H],x0=[{["fn"]:"aws.partition",["argv"]:O1,["assign"]:"partitionResult"}],J8=[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"Region"},"us-east-1"]}],xX=[{["fn"]:"isValidHostLabel",["argv"]:[{["ref"]:"Region"},!1]}],iJ=[{["fn"]:"stringEquals",["argv"]:[pX,"accesspoint"]}],mX=[{["fn"]:"getAttr",["argv"]:[r,"resourceId[1]"],["assign"]:"accessPointName"},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[JQ,""]}]}],Uz=[r,"resourceId[1]"],lX=[j],pJ=[t],aJ=[{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[r,"region"]},""]}]}],cX=[{["fn"]:"not",["argv"]:[{["fn"]:"isSet",["argv"]:[{["fn"]:"getAttr",["argv"]:[r,"resourceId[2]"]}]}]}],Iz=[r,"resourceId[2]"],nJ=[{["fn"]:"aws.partition",["argv"]:[{["fn"]:"getAttr",["argv"]:[r,"region"]}],["assign"]:"bucketPartition"}],dX=[{["fn"]:"stringEquals",["argv"]:[QQ,{["fn"]:"getAttr",["argv"]:[{["ref"]:"partitionResult"},"name"]}]}],uJ=[{["fn"]:"isValidHostLabel",["argv"]:[{["fn"]:"getAttr",["argv"]:[r,"region"]},!0]}],oJ=[{["fn"]:"isValidHostLabel",["argv"]:[aX,!1]}],sX=[{["fn"]:"isValidHostLabel",["argv"]:[JQ,!1]}],A1=[D],rX=[{["fn"]:"isValidHostLabel",["argv"]:[{["ref"]:"Region"},!0]}],eJ=[nX],Bz={version:"1.0",parameters:{Bucket:gJ,Region:gJ,UseFIPS:A8,UseDualStack:A8,Endpoint:gJ,ForcePathStyle:C1,Accelerate:A8,UseGlobalEndpoint:A8,UseObjectLambdaEndpoint:C1,DisableAccessPoints:C1,DisableMultiRegionAccessPoints:A8,UseArnRegion:C1},["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"isSet",["argv"]:O1}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[iX,{["fn"]:"substring",["argv"]:[W0,49,50,!0],["assign"]:"hardwareType"},{["fn"]:"substring",["argv"]:[W0,8,12,!0],["assign"]:"regionPrefix"},{["fn"]:"substring",["argv"]:[W0,0,7,!0],["assign"]:"abbaSuffix"},{["fn"]:"substring",["argv"]:[W0,32,49,!0],["assign"]:"outpostId"},{["fn"]:"aws.partition",["argv"]:O1,["assign"]:"regionPartition"},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"abbaSuffix"},"--op-s3"]}],["type"]:"tree",["rules"]:[{["conditions"]:gX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[i6,"e"]}],["type"]:"tree",["rules"]:[{["conditions"]:vX,["type"]:"tree",["rules"]:[p6,{["conditions"]:D8,endpoint:{["url"]:"https://{Bucket}.ec2.{url#authority}",["properties"]:R1,["headers"]:k},["type"]:"endpoint"}]},{endpoint:{["url"]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",["properties"]:R1,["headers"]:k},["type"]:"endpoint"}]},{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[i6,"o"]}],["type"]:"tree",["rules"]:[{["conditions"]:vX,["type"]:"tree",["rules"]:[p6,{["conditions"]:D8,endpoint:{["url"]:"https://{Bucket}.op-{outpostId}.{url#authority}",["properties"]:R1,["headers"]:k},["type"]:"endpoint"}]},{endpoint:{["url"]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",["properties"]:R1,["headers"]:k},["type"]:"endpoint"}]},{error:"Unrecognized hardware type: \"Expected hardware type o or e but got {hardwareType}\"",["type"]:"error"}]}]},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",["type"]:"error"}]},{["conditions"]:yX,["type"]:"tree",["rules"]:[{["conditions"]:[H,{["fn"]:"not",["argv"]:[{["fn"]:"isSet",["argv"]:[{["fn"]:"parseURL",["argv"]:zz}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"isSet",["argv"]:[a6]},{["fn"]:"booleanEquals",["argv"]:[a6,!0]}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:bX,error:"Path-style addressing cannot be used with ARN buckets",["type"]:"error"},n6]}]},{["conditions"]:[{["fn"]:"aws.isVirtualHostableS3Bucket",["argv"]:[W0,!1]}],["type"]:"tree",["rules"]:[{["conditions"]:x0,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:xX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[vJ,{["type"]:"tree",["rules"]:[{["conditions"]:[t,D],error:"Accelerate cannot be used with FIPS",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[t,Yz],error:"S3 Accelerate cannot be used in this region",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[H,j],error:"Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[H,D],error:"Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[H,t],error:"Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",["type"]:"error"},{["type"]:"tree",["rules"]:[u6,u6,{["conditions"]:[j,D,P,w,R,c],["type"]:"tree",["rules"]:[{endpoint:o6,["type"]:"endpoint"}]},{["conditions"]:[j,D,P,w,R,d],endpoint:o6,["type"]:"endpoint"},e6,e6,{["conditions"]:[T,D,P,w,R,c],["type"]:"tree",["rules"]:[{endpoint:t6,["type"]:"endpoint"}]},{["conditions"]:[T,D,P,w,R,d],endpoint:t6,["type"]:"endpoint"},$X,$X,{["conditions"]:[j,C,t,w,R,c],["type"]:"tree",["rules"]:[{endpoint:JX,["type"]:"endpoint"}]},{["conditions"]:[j,C,t,w,R,d],endpoint:JX,["type"]:"endpoint"},QX,QX,{["conditions"]:[j,C,P,w,R,c],["type"]:"tree",["rules"]:[{endpoint:WX,["type"]:"endpoint"}]},{["conditions"]:[j,C,P,w,R,d],endpoint:WX,["type"]:"endpoint"},XX,GX,XX,GX,{["conditions"]:[T,C,P,H,A,ZX,R,c],["type"]:"tree",["rules"]:[{["conditions"]:J8,endpoint:yJ,["type"]:"endpoint"},{endpoint:yJ,["type"]:"endpoint"}]},{["conditions"]:[T,C,P,H,A,KX,R,c],["type"]:"tree",["rules"]:[{["conditions"]:J8,endpoint:tJ,["type"]:"endpoint"},YX]},{["conditions"]:[T,C,P,H,A,ZX,R,d],endpoint:yJ,["type"]:"endpoint"},{["conditions"]:[T,C,P,H,A,KX,R,d],endpoint:tJ,["type"]:"endpoint"},FX,FX,{["conditions"]:[T,C,t,w,R,c],["type"]:"tree",["rules"]:[{["conditions"]:J8,endpoint:bJ,["type"]:"endpoint"},{endpoint:bJ,["type"]:"endpoint"}]},{["conditions"]:[T,C,t,w,R,d],endpoint:bJ,["type"]:"endpoint"},zX,zX,{["conditions"]:[T,C,P,w,R,c],["type"]:"tree",["rules"]:[{["conditions"]:J8,endpoint:{["url"]:"https://{Bucket}.s3.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:k},["type"]:"endpoint"},{endpoint:VX,["type"]:"endpoint"}]},{["conditions"]:[T,C,P,w,R,d],endpoint:VX,["type"]:"endpoint"}]}]}]}]}]}]}]}]},T1]}]},b0]},{["conditions"]:[H,A,{["fn"]:"stringEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[$Q,"scheme"]},"http"]},{["fn"]:"aws.isVirtualHostableS3Bucket",["argv"]:[W0,!0]},C,T,P],["type"]:"tree",["rules"]:[{["conditions"]:x0,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:xX,["type"]:"tree",["rules"]:[YX]},T1]}]},b0]},{["conditions"]:[{["fn"]:"aws.parseArn",["argv"]:Fz,["assign"]:"bucketArn"}],["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"getAttr",["argv"]:[r,"resourceId[0]"],["assign"]:"arnType"},{["fn"]:"not",["argv"]:[{["fn"]:"stringEquals",["argv"]:[pX,""]}]}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[xJ,"s3-object-lambda"]}],["type"]:"tree",["rules"]:[{["conditions"]:iJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:mX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[UX,{["type"]:"tree",["rules"]:[IX,{["type"]:"tree",["rules"]:[{["conditions"]:aJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[BX,{["type"]:"tree",["rules"]:[{["conditions"]:cX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[mJ,{["type"]:"tree",["rules"]:[{["conditions"]:nJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:x0,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:dX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:uJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[aX,""]}],error:"Invalid ARN: Missing account id",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:oJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:sX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[LX,{["type"]:"tree",["rules"]:[{["conditions"]:D8,endpoint:{["url"]:"{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",["properties"]:lJ,["headers"]:k},["type"]:"endpoint"},{["conditions"]:A1,endpoint:{["url"]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",["properties"]:lJ,["headers"]:k},["type"]:"endpoint"},{endpoint:{["url"]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",["properties"]:lJ,["headers"]:k},["type"]:"endpoint"}]}]}]},MX]}]},cJ]}]}]},dJ]}]},sJ]}]},b0]}]},qX]}]}]},wX]}]}]},HX]}]}]}]},CX]}]},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",["type"]:"error"}]},{["conditions"]:iJ,["type"]:"tree",["rules"]:[{["conditions"]:mX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:aJ,["type"]:"tree",["rules"]:[{["conditions"]:iJ,["type"]:"tree",["rules"]:[{["conditions"]:aJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[BX,{["type"]:"tree",["rules"]:[{["conditions"]:cX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[mJ,{["type"]:"tree",["rules"]:[{["conditions"]:nJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:x0,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[QQ,"{partitionResult#name}"]}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:uJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[xJ,"s3"]}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:oJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:sX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:pJ,error:"Access Points do not support S3 Accelerate",["type"]:"error"},{["type"]:"tree",["rules"]:[LX,{["type"]:"tree",["rules"]:[{["conditions"]:Vz,error:"DualStack cannot be combined with a Host override (PrivateLink)",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[D,j],endpoint:{["url"]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",["properties"]:O8,["headers"]:k},["type"]:"endpoint"},{["conditions"]:[D,T],endpoint:{["url"]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",["properties"]:O8,["headers"]:k},["type"]:"endpoint"},{["conditions"]:[C,j],endpoint:{["url"]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",["properties"]:O8,["headers"]:k},["type"]:"endpoint"},{["conditions"]:[C,T,H,A],endpoint:{["url"]:"{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",["properties"]:O8,["headers"]:k},["type"]:"endpoint"},{["conditions"]:[C,T],endpoint:{["url"]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",["properties"]:O8,["headers"]:k},["type"]:"endpoint"}]}]}]}]}]},MX]}]},cJ]}]},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",["type"]:"error"}]}]},dJ]}]},sJ]}]},b0]}]},qX]}]}]},wX]}]}]},HX]}]},{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"isValidHostLabel",["argv"]:[JQ,!0]}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:lX,error:"S3 MRAP does not support dual-stack",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:A1,error:"S3 MRAP does not support FIPS",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:pJ,error:"S3 MRAP does not support S3 Accelerate",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"booleanEquals",["argv"]:[{["ref"]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"aws.partition",["argv"]:O1,["assign"]:"mrapPartition"}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[{["ref"]:"mrapPartition"},"name"]},{["fn"]:"getAttr",["argv"]:[r,"partition"]}]}],["type"]:"tree",["rules"]:[{endpoint:{["url"]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",["properties"]:{["authSchemes"]:[{["disableDoubleEncoding"]:!0,name:"sigv4a",["signingName"]:"s3",signingRegionSet:["*"]}]},["headers"]:k},["type"]:"endpoint"}]},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",["type"]:"error"}]}]},{error:"{Region} was not a valid region",["type"]:"error"}]}]}]}]}]}]},{error:"Invalid Access Point Name",["type"]:"error"}]}]}]},CX]},{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[xJ,"s3-outposts"]}],["type"]:"tree",["rules"]:[{["conditions"]:lX,error:"S3 Outposts does not support Dual-stack",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:A1,error:"S3 Outposts does not support FIPS",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:pJ,error:"S3 Outposts does not support S3 Accelerate",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"isSet",["argv"]:[{["fn"]:"getAttr",["argv"]:[r,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",["type"]:"error"},{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"getAttr",["argv"]:Uz,["assign"]:"outpostId"}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:gX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[mJ,{["type"]:"tree",["rules"]:[{["conditions"]:nJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:x0,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:dX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:uJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:oJ,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"getAttr",["argv"]:Iz,["assign"]:"outpostType"}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"getAttr",["argv"]:[r,"resourceId[3]"],["assign"]:"accessPointName"}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:[{["fn"]:"stringEquals",["argv"]:[{["ref"]:"outpostType"},"accesspoint"]}],["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:D8,endpoint:{["url"]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",["properties"]:RX,["headers"]:k},["type"]:"endpoint"},{endpoint:{["url"]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",["properties"]:RX,["headers"]:k},["type"]:"endpoint"}]}]},{error:"Expected an outpost type `accesspoint`, found {outpostType}",["type"]:"error"}]}]},{error:"Invalid ARN: expected an access point name",["type"]:"error"}]}]},{error:"Invalid ARN: Expected a 4-component resource",["type"]:"error"}]}]},cJ]}]},dJ]}]},sJ]}]},b0]}]},{error:"Could not load partition for ARN region {bucketArn#region}",["type"]:"error"}]}]}]},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",["type"]:"error"}]}]},{error:"Invalid ARN: The Outpost Id was not set",["type"]:"error"}]}]}]}]}]},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",["type"]:"error"}]}]},{error:"Invalid ARN: No ARN type specified",["type"]:"error"}]},{["conditions"]:[{["fn"]:"substring",["argv"]:[W0,0,4,!1],["assign"]:"arnPrefix"},{["fn"]:"stringEquals",["argv"]:[{["ref"]:"arnPrefix"},"arn:"]},{["fn"]:"not",["argv"]:[{["fn"]:"isSet",["argv"]:bX}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",["type"]:"error"},n6]}]},{["conditions"]:[{["fn"]:"isSet",["argv"]:[TX]},{["fn"]:"booleanEquals",["argv"]:[TX,!0]}],["type"]:"tree",["rules"]:[{["conditions"]:x0,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:rX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[UX,{["type"]:"tree",["rules"]:[IX,{["type"]:"tree",["rules"]:[vJ,{["type"]:"tree",["rules"]:[{["conditions"]:D8,endpoint:{["url"]:"{url#scheme}://{url#authority}{url#path}",["properties"]:rJ,["headers"]:k},["type"]:"endpoint"},{["conditions"]:A1,endpoint:{["url"]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",["properties"]:rJ,["headers"]:k},["type"]:"endpoint"},{endpoint:{["url"]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",["properties"]:rJ,["headers"]:k},["type"]:"endpoint"}]}]}]}]}]},T1]}]},b0]},{["conditions"]:[{["fn"]:"not",["argv"]:yX}],["type"]:"tree",["rules"]:[{["conditions"]:x0,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[{["conditions"]:rX,["type"]:"tree",["rules"]:[{["type"]:"tree",["rules"]:[vJ,{["type"]:"tree",["rules"]:[AX,AX,{["conditions"]:[D,j,H,A,R,c],["type"]:"tree",["rules"]:eJ},{["conditions"]:[D,j,H,A,R,d],endpoint:j8,["type"]:"endpoint"},OX,OX,{["conditions"]:[D,j,w,R,c],["type"]:"tree",["rules"]:[{endpoint:jX,["type"]:"endpoint"}]},{["conditions"]:[D,j,w,R,d],endpoint:jX,["type"]:"endpoint"},DX,DX,{["conditions"]:[D,T,H,A,R,c],["type"]:"tree",["rules"]:eJ},{["conditions"]:[D,T,H,A,R,d],endpoint:j8,["type"]:"endpoint"},SX,SX,{["conditions"]:[D,T,w,R,c],["type"]:"tree",["rules"]:[{endpoint:EX,["type"]:"endpoint"}]},{["conditions"]:[D,T,w,R,d],endpoint:EX,["type"]:"endpoint"},NX,NX,{["conditions"]:[C,j,H,A,R,c],["type"]:"tree",["rules"]:eJ},{["conditions"]:[C,j,H,A,R,d],endpoint:j8,["type"]:"endpoint"},kX,kX,{["conditions"]:[C,j,w,R,c],["type"]:"tree",["rules"]:[{endpoint:_X,["type"]:"endpoint"}]},{["conditions"]:[C,j,w,R,d],endpoint:_X,["type"]:"endpoint"},fX,fX,{["conditions"]:[C,T,H,A,R,c],["type"]:"tree",["rules"]:[{["conditions"]:J8,endpoint:j8,["type"]:"endpoint"},nX]},{["conditions"]:[C,T,H,A,R,d],endpoint:j8,["type"]:"endpoint"},PX,PX,{["conditions"]:[C,T,w,R,c],["type"]:"tree",["rules"]:[{["conditions"]:J8,endpoint:{["url"]:"https://s3.{partitionResult#dnsSuffix}",["properties"]:s,["headers"]:k},["type"]:"endpoint"},{endpoint:hX,["type"]:"endpoint"}]},{["conditions"]:[C,T,w,R,d],endpoint:hX,["type"]:"endpoint"}]}]}]},T1]}]},b0]}]}]},{error:"A region must be set when sending requests to S3.",["type"]:"error"}]}]},uX=Bz;var oX=($,J={})=>{return U5(uX,{endpointParams:$,logger:J.logger})};var eX=($)=>({apiVersion:"2006-03-01",base64Decoder:$?.base64Decoder??o0,base64Encoder:$?.base64Encoder??e0,disableHostPrefix:$?.disableHostPrefix??!1,endpointProvider:$?.endpointProvider??oX,getAwsChunkedEncodingStream:$?.getAwsChunkedEncodingStream??p5,logger:$?.logger??new h$,sdkStreamMixin:$?.sdkStreamMixin??t5,serviceId:$?.serviceId??"S3",signerConstructor:$?.signerConstructor??hJ,signingEscapePath:$?.signingEscapePath??!1,urlParser:$?.urlParser??p0,useArnRegion:$?.useArnRegion??!1,utf8Decoder:$?.utf8Decoder??L0,utf8Encoder:$?.utf8Encoder??M0});var $Z=G0(fJ(),1);var tX=["in-region","cross-region","mobile","standard","legacy"];var JZ=({defaultsMode:$}={})=>h8(async()=>{const J=typeof $==="function"?await $():$;switch(J?.toLowerCase()){case"auto":return Promise.resolve(Lz()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(J?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${tX.join(", ")}, got ${J}`)}}),Lz=()=>{const J=(typeof window!=="undefined"&&window?.navigator?.userAgent?$Z.default.parse(window.navigator.userAgent):void 0)?.platform?.type;return J==="tablet"||J==="mobile"};var XZ=($)=>{const J=JZ($),Q=()=>J().then(z4),W=eX($);return{...W,...$,runtime:"browser",defaultsMode:J,bodyLengthChecker:$?.bodyLengthChecker??r6,credentialDefaultProvider:$?.credentialDefaultProvider??((X)=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:$?.defaultUserAgentProvider??b6({serviceId:W.serviceId,clientVersion:U4.version}),eventStreamSerdeProvider:$?.eventStreamSerdeProvider??d6,maxAttempts:$?.maxAttempts??C0,md5:$?.md5??kJ,region:$?.region??s6("Region is missing"),requestHandler:$?.requestHandler??new v$(Q),retryMode:$?.retryMode??(async()=>(await Q()).retryMode||O$),sha1:$?.sha1??QZ.Sha1,sha256:$?.sha256??WZ.Sha256,streamCollector:$?.streamCollector??K1,streamHasher:$?.streamHasher??h6,useDualstackEndpoint:$?.useDualstackEndpoint??(()=>Promise.resolve(M5)),useFipsEndpoint:$?.useFipsEndpoint??(()=>Promise.resolve(q5))}};class WQ extends g${constructor($){const J=XZ($),Q=V4(J),W=w5(Q),X=k5(W),Z=m5(X),K=_Q(Z),G=aW(K),F=yQ(G),Y=eW(F),V=H5(Y);super(V);this.config=V,this.middlewareStack.use(l5(this.config)),this.middlewareStack.use(R5(this.config)),this.middlewareStack.use(fQ(this.config)),this.middlewareStack.use(PQ(this.config)),this.middlewareStack.use(gQ(this.config)),this.middlewareStack.use(oW(this.config)),this.middlewareStack.use(xQ(this.config)),this.middlewareStack.use(kQ(this.config)),this.middlewareStack.use(L5(this.config))}destroy(){super.destroy()}}var lZ=G0(vZ(),1);class D0 extends V1{constructor($){super($);Object.setPrototypeOf(this,D0.prototype)}}var FQ;(function($){$.visit=(J,Q)=>{if(J.Prefix!==void 0)return Q.Prefix(J.Prefix);if(J.Tag!==void 0)return Q.Tag(J.Tag);if(J.And!==void 0)return Q.And(J.And);return Q._(J.$unknown[0],J.$unknown[1])}})(FQ||(FQ={}));var zQ;(function($){$.visit=(J,Q)=>{if(J.Prefix!==void 0)return Q.Prefix(J.Prefix);if(J.Tag!==void 0)return Q.Tag(J.Tag);if(J.ObjectSizeGreaterThan!==void 0)return Q.ObjectSizeGreaterThan(J.ObjectSizeGreaterThan);if(J.ObjectSizeLessThan!==void 0)return Q.ObjectSizeLessThan(J.ObjectSizeLessThan);if(J.And!==void 0)return Q.And(J.And);return Q._(J.$unknown[0],J.$unknown[1])}})(zQ||(zQ={}));var VQ;(function($){$.visit=(J,Q)=>{if(J.Prefix!==void 0)return Q.Prefix(J.Prefix);if(J.Tag!==void 0)return Q.Tag(J.Tag);if(J.AccessPointArn!==void 0)return Q.AccessPointArn(J.AccessPointArn);if(J.And!==void 0)return Q.And(J.And);return Q._(J.$unknown[0],J.$unknown[1])}})(VQ||(VQ={}));var UQ;(function($){$.visit=(J,Q)=>{if(J.Prefix!==void 0)return Q.Prefix(J.Prefix);if(J.Tag!==void 0)return Q.Tag(J.Tag);if(J.And!==void 0)return Q.And(J.And);return Q._(J.$unknown[0],J.$unknown[1])}})(UQ||(UQ={}));class D1 extends D0{constructor($){super({name:"InvalidObjectState",$fault:"client",...$});this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,D1.prototype),this.StorageClass=$.StorageClass,this.AccessTier=$.AccessTier}}class S1 extends D0{constructor($){super({name:"NoSuchKey",$fault:"client",...$});this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,S1.prototype)}}class E1 extends D0{constructor($){super({name:"NoSuchBucket",$fault:"client",...$});this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,E1.prototype)}}var yZ=($)=>({...$,...$.SSEKMSKeyId&&{SSEKMSKeyId:T0}}),bZ=($)=>({...$,...$.SSECustomerKey&&{SSECustomerKey:T0}});var xZ=($)=>({...$,...$.SSEKMSKeyId&&{SSEKMSKeyId:T0},...$.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:T0}}),mZ=($)=>({...$,...$.SSECustomerKey&&{SSECustomerKey:T0},...$.SSEKMSKeyId&&{SSEKMSKeyId:T0},...$.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:T0}});var cZ=async($,J)=>{const{hostname:Q,protocol:W="https",port:X,path:Z}=await J.endpoint(),K=y({},o,{"x-amz-mfa":$.MFA,"x-amz-request-payer":$.RequestPayer,"x-amz-bypass-governance-retention":[()=>o($.BypassGovernanceRetention),()=>$.BypassGovernanceRetention.toString()],"x-amz-expected-bucket-owner":$.ExpectedBucketOwner});let G=`${Z?.endsWith("/")?Z.slice(0,-1):Z||""}`+"/{Key+}";G=O0(G,$,"Bucket",()=>$.Bucket,"{Bucket}",!1),G=O0(G,$,"Key",()=>$.Key,"{Key+}",!0);const F=y({"x-id":[,"DeleteObject"],versionId:[,$.VersionId]});let Y;return new O({protocol:W,hostname:Q,port:X,method:"DELETE",headers:K,path:G,query:F,body:Y})};var dZ=async($,J)=>{const{hostname:Q,protocol:W="https",port:X,path:Z}=await J.endpoint(),K=y({},o,{"if-match":$.IfMatch,"if-modified-since":[()=>o($.IfModifiedSince),()=>I8($.IfModifiedSince).toString()],"if-none-match":$.IfNoneMatch,"if-unmodified-since":[()=>o($.IfUnmodifiedSince),()=>I8($.IfUnmodifiedSince).toString()],range:$.Range,"x-amz-server-side-encryption-customer-algorithm":$.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":$.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":$.SSECustomerKeyMD5,"x-amz-request-payer":$.RequestPayer,"x-amz-expected-bucket-owner":$.ExpectedBucketOwner,"x-amz-checksum-mode":$.ChecksumMode});let G=`${Z?.endsWith("/")?Z.slice(0,-1):Z||""}`+"/{Key+}";G=O0(G,$,"Bucket",()=>$.Bucket,"{Bucket}",!1),G=O0(G,$,"Key",()=>$.Key,"{Key+}",!0);const F=y({"x-id":[,"GetObject"],"response-cache-control":[,$.ResponseCacheControl],"response-content-disposition":[,$.ResponseContentDisposition],"response-content-encoding":[,$.ResponseContentEncoding],"response-content-language":[,$.ResponseContentLanguage],"response-content-type":[,$.ResponseContentType],"response-expires":[()=>$.ResponseExpires!==void 0,()=>I8($.ResponseExpires).toString()],versionId:[,$.VersionId],partNumber:[()=>$.PartNumber!==void 0,()=>$.PartNumber.toString()]});let Y;return new O({protocol:W,hostname:Q,port:X,method:"GET",headers:K,path:G,query:F,body:Y})};var sZ=async($,J)=>{const{hostname:Q,protocol:W="https",port:X,path:Z}=await J.endpoint(),K=y({},o,{"x-amz-request-payer":$.RequestPayer,"x-amz-expected-bucket-owner":$.ExpectedBucketOwner,"x-amz-optional-object-attributes":[()=>o($.OptionalObjectAttributes),()=>($.OptionalObjectAttributes||[]).map((V)=>V).join(", ")]});let G=`${Z?.endsWith("/")?Z.slice(0,-1):Z||""}`+"/";G=O0(G,$,"Bucket",()=>$.Bucket,"{Bucket}",!1);const F=y({"list-type":[,"2"],delimiter:[,$.Delimiter],"encoding-type":[,$.EncodingType],"max-keys":[()=>$.MaxKeys!==void 0,()=>$.MaxKeys.toString()],prefix:[,$.Prefix],"continuation-token":[,$.ContinuationToken],"fetch-owner":[()=>$.FetchOwner!==void 0,()=>$.FetchOwner.toString()],"start-after":[,$.StartAfter]});let Y;return new O({protocol:W,hostname:Q,port:X,method:"GET",headers:K,path:G,query:F,body:Y})};var rZ=async($,J)=>{const{hostname:Q,protocol:W="https",port:X,path:Z}=await J.endpoint(),K=y({},o,{"content-type":$.ContentType||"application/octet-stream","x-amz-acl":$.ACL,"cache-control":$.CacheControl,"content-disposition":$.ContentDisposition,"content-encoding":$.ContentEncoding,"content-language":$.ContentLanguage,"content-length":[()=>o($.ContentLength),()=>$.ContentLength.toString()],"content-md5":$.ContentMD5,"x-amz-sdk-checksum-algorithm":$.ChecksumAlgorithm,"x-amz-checksum-crc32":$.ChecksumCRC32,"x-amz-checksum-crc32c":$.ChecksumCRC32C,"x-amz-checksum-sha1":$.ChecksumSHA1,"x-amz-checksum-sha256":$.ChecksumSHA256,expires:[()=>o($.Expires),()=>I8($.Expires).toString()],"x-amz-grant-full-control":$.GrantFullControl,"x-amz-grant-read":$.GrantRead,"x-amz-grant-read-acp":$.GrantReadACP,"x-amz-grant-write-acp":$.GrantWriteACP,"x-amz-server-side-encryption":$.ServerSideEncryption,"x-amz-storage-class":$.StorageClass,"x-amz-website-redirect-location":$.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":$.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":$.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":$.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":$.SSEKMSKeyId,"x-amz-server-side-encryption-context":$.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>o($.BucketKeyEnabled),()=>$.BucketKeyEnabled.toString()],"x-amz-request-payer":$.RequestPayer,"x-amz-tagging":$.Tagging,"x-amz-object-lock-mode":$.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>o($.ObjectLockRetainUntilDate),()=>($.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":$.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":$.ExpectedBucketOwner,...$.Metadata!==void 0&&Object.keys($.Metadata).reduce((U,z)=>{return U[`x-amz-meta-${z.toLowerCase()}`]=$.Metadata[z],U},{})});let G=`${Z?.endsWith("/")?Z.slice(0,-1):Z||""}`+"/{Key+}";G=O0(G,$,"Bucket",()=>$.Bucket,"{Bucket}",!1),G=O0(G,$,"Key",()=>$.Key,"{Key+}",!0);const F=y({"x-id":[,"PutObject"]});let Y;if($.Body!==void 0)Y=$.Body;let V;if($.Body!==void 0)V=$.Body,Y=V;return new O({protocol:W,hostname:Q,port:X,method:"PUT",headers:K,path:G,query:F,body:Y})};var iZ=async($,J)=>{if($.statusCode!==204&&$.statusCode>=300)return b3($,J);const Q=y({$metadata:l0($),DeleteMarker:[()=>$.headers["x-amz-delete-marker"]!==void 0,()=>h0($.headers["x-amz-delete-marker"])],VersionId:[,$.headers["x-amz-version-id"]],RequestCharged:[,$.headers["x-amz-request-charged"]]});return await Y1($.body,J),Q},b3=async($,J)=>{const Q={...$,body:await k1($.body,J)},W=_1($,Q.body),X=Q.body;return N1({output:$,parsedBody:X,errorCode:W})};var pZ=async($,J)=>{if($.statusCode!==200&&$.statusCode>=300)return x3($,J);const Q=y({$metadata:l0($),DeleteMarker:[()=>$.headers["x-amz-delete-marker"]!==void 0,()=>h0($.headers["x-amz-delete-marker"])],AcceptRanges:[,$.headers["accept-ranges"]],Expiration:[,$.headers["x-amz-expiration"]],Restore:[,$.headers["x-amz-restore"]],LastModified:[()=>$.headers["last-modified"]!==void 0,()=>g0(c$($.headers["last-modified"]))],ContentLength:[()=>$.headers["content-length"]!==void 0,()=>x$($.headers["content-length"])],ETag:[,$.headers.etag],ChecksumCRC32:[,$.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,$.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,$.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,$.headers["x-amz-checksum-sha256"]],MissingMeta:[()=>$.headers["x-amz-missing-meta"]!==void 0,()=>t0($.headers["x-amz-missing-meta"])],VersionId:[,$.headers["x-amz-version-id"]],CacheControl:[,$.headers["cache-control"]],ContentDisposition:[,$.headers["content-disposition"]],ContentEncoding:[,$.headers["content-encoding"]],ContentLanguage:[,$.headers["content-language"]],ContentRange:[,$.headers["content-range"]],ContentType:[,$.headers["content-type"]],Expires:[()=>$.headers.expires!==void 0,()=>g0(c$($.headers.expires))],WebsiteRedirectLocation:[,$.headers["x-amz-website-redirect-location"]],ServerSideEncryption:[,$.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,$.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,$.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,$.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>$.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>h0($.headers["x-amz-server-side-encryption-bucket-key-enabled"])],StorageClass:[,$.headers["x-amz-storage-class"]],RequestCharged:[,$.headers["x-amz-request-charged"]],ReplicationStatus:[,$.headers["x-amz-replication-status"]],PartsCount:[()=>$.headers["x-amz-mp-parts-count"]!==void 0,()=>t0($.headers["x-amz-mp-parts-count"])],TagCount:[()=>$.headers["x-amz-tagging-count"]!==void 0,()=>t0($.headers["x-amz-tagging-count"])],ObjectLockMode:[,$.headers["x-amz-object-lock-mode"]],ObjectLockRetainUntilDate:[()=>$.headers["x-amz-object-lock-retain-until-date"]!==void 0,()=>g0(z1($.headers["x-amz-object-lock-retain-until-date"]))],ObjectLockLegalHoldStatus:[,$.headers["x-amz-object-lock-legal-hold"]],Metadata:[,Object.keys($.headers).filter((X)=>X.startsWith("x-amz-meta-")).reduce((X,Z)=>{return X[Z.substring(11)]=$.headers[Z],X},{})]}),W=$.body;return J.sdkStreamMixin(W),Q.Body=W,Q},x3=async($,J)=>{const Q={...$,body:await k1($.body,J)},W=_1($,Q.body);switch(W){case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await c3(Q,J);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await s3(Q,J);default:const X=Q.body;return N1({output:$,parsedBody:X,errorCode:W})}};var aZ=async($,J)=>{if($.statusCode!==200&&$.statusCode>=300)return m3($,J);const Q=y({$metadata:l0($),RequestCharged:[,$.headers["x-amz-request-charged"]]}),W=g0(X4(await uZ($.body,J)),"body");if(W.CommonPrefixes==="")Q.CommonPrefixes=[];else if(W.CommonPrefixes!==void 0)Q.CommonPrefixes=p3(U1(W.CommonPrefixes),J);if(W.Contents==="")Q.Contents=[];else if(W.Contents!==void 0)Q.Contents=n3(U1(W.Contents),J);if(W.ContinuationToken!==void 0)Q.ContinuationToken=v(W.ContinuationToken);if(W.Delimiter!==void 0)Q.Delimiter=v(W.Delimiter);if(W.EncodingType!==void 0)Q.EncodingType=v(W.EncodingType);if(W.IsTruncated!==void 0)Q.IsTruncated=h0(W.IsTruncated);if(W.KeyCount!==void 0)Q.KeyCount=t0(W.KeyCount);if(W.MaxKeys!==void 0)Q.MaxKeys=t0(W.MaxKeys);if(W.Name!==void 0)Q.Name=v(W.Name);if(W.NextContinuationToken!==void 0)Q.NextContinuationToken=v(W.NextContinuationToken);if(W.Prefix!==void 0)Q.Prefix=v(W.Prefix);if(W.StartAfter!==void 0)Q.StartAfter=v(W.StartAfter);return Q},m3=async($,J)=>{const Q={...$,body:await k1($.body,J)},W=_1($,Q.body);switch(W){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await d3(Q,J);default:const X=Q.body;return N1({output:$,parsedBody:X,errorCode:W})}};var nZ=async($,J)=>{if($.statusCode!==200&&$.statusCode>=300)return l3($,J);const Q=y({$metadata:l0($),Expiration:[,$.headers["x-amz-expiration"]],ETag:[,$.headers.etag],ChecksumCRC32:[,$.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,$.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,$.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,$.headers["x-amz-checksum-sha256"]],ServerSideEncryption:[,$.headers["x-amz-server-side-encryption"]],VersionId:[,$.headers["x-amz-version-id"]],SSECustomerAlgorithm:[,$.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,$.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,$.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,$.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>$.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>h0($.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,$.headers["x-amz-request-charged"]]});return await Y1($.body,J),Q},l3=async($,J)=>{const Q={...$,body:await k1($.body,J)},W=_1($,Q.body),X=Q.body;return N1({output:$,parsedBody:X,errorCode:W})};var N1=F4(D0);var c3=async($,J)=>{const Q=y({}),W=$.body;if(W.AccessTier!==void 0)Q.AccessTier=v(W.AccessTier);if(W.StorageClass!==void 0)Q.StorageClass=v(W.StorageClass);const X=new D1({$metadata:l0($),...Q});return $8(X,$.body)},d3=async($,J)=>{const Q=y({}),W=$.body,X=new E1({$metadata:l0($),...Q});return $8(X,$.body)},s3=async($,J)=>{const Q=y({}),W=$.body,X=new S1({$metadata:l0($),...Q});return $8(X,$.body)};var r3=($,J)=>{return($||[]).filter((Q)=>Q!=null).map((Q)=>{return v(Q)})},i3=($,J)=>{const Q={};if($.Prefix!==void 0)Q.Prefix=v($.Prefix);return Q},p3=($,J)=>{return($||[]).filter((Q)=>Q!=null).map((Q)=>{return i3(Q,J)})};var a3=($,J)=>{const Q={};if($.Key!==void 0)Q.Key=v($.Key);if($.LastModified!==void 0)Q.LastModified=g0(z1($.LastModified));if($.ETag!==void 0)Q.ETag=v($.ETag);if($.ChecksumAlgorithm==="")Q.ChecksumAlgorithm=[];else if($.ChecksumAlgorithm!==void 0)Q.ChecksumAlgorithm=r3(U1($.ChecksumAlgorithm),J);if($.Size!==void 0)Q.Size=x$($.Size);if($.StorageClass!==void 0)Q.StorageClass=v($.StorageClass);if($.Owner!==void 0)Q.Owner=u3($.Owner,J);if($.RestoreStatus!==void 0)Q.RestoreStatus=o3($.RestoreStatus,J);return Q},n3=($,J)=>{return($||[]).filter((Q)=>Q!=null).map((Q)=>{return a3(Q,J)})};var u3=($,J)=>{const Q={};if($.DisplayName!==void 0)Q.DisplayName=v($.DisplayName);if($.ID!==void 0)Q.ID=v($.ID);return Q};var o3=($,J)=>{const Q={};if($.IsRestoreInProgress!==void 0)Q.IsRestoreInProgress=h0($.IsRestoreInProgress);if($.RestoreExpiryDate!==void 0)Q.RestoreExpiryDate=g0(z1($.RestoreExpiryDate));return Q};var l0=($)=>({httpStatusCode:$.statusCode,requestId:$.headers["x-amzn-requestid"]??$.headers["x-amzn-request-id"]??$.headers["x-amz-request-id"],extendedRequestId:$.headers["x-amz-id-2"],cfId:$.headers["x-amz-cf-id"]}),e3=($,J)=>Y1($,J).then((Q)=>J.utf8Encoder(Q)),o=($)=>$!==void 0&&$!==null&&$!==""&&(!Object.getOwnPropertyNames($).includes("length")||$.length!=0)&&(!Object.getOwnPropertyNames($).includes("size")||$.size!=0),uZ=($,J)=>e3($,J).then((Q)=>{if(Q.length){const W=new lZ.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(F,Y)=>Y.trim()===""&&Y.includes("\n")?"":void 0});W.addEntity("#xD","\r"),W.addEntity("#10","\n");const X=W.parse(Q),Z="#text",K=Object.keys(X)[0],G=X[K];if(G[Z])G[K]=G[Z],delete G[Z];return s$(G)}return{}}),k1=async($,J)=>{const Q=await uZ($,J);if(Q.Error)Q.Error.message=Q.Error.message??Q.Error.Message;return Q},_1=($,J)=>{if(J?.Code!==void 0)return J.Code;if($.statusCode==404)return"NotFound"};function t3($){return(J)=>async(Q)=>{let W={...Q.input};const X=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let Z of X){const K=W[Z.target];if(K){const G=ArrayBuffer.isView(K)?new Uint8Array(K.buffer,K.byteOffset,K.byteLength):typeof K==="string"?$.utf8Decoder(K):new Uint8Array(K),F=$.base64Encoder(G),Y=new $.md5;Y.update(G),W={...W,[Z.target]:F,[Z.hash]:$.base64Encoder(await Y.digest())}}}return J({...Q,input:W})}}var $2={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},f1=($)=>({applyToStack:(J)=>{J.add(t3($),$2)}});class P1 extends U0{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor($){super();this.input=$}resolveMiddleware($,J,Q){this.middlewareStack.use(w0(J,this.serialize,this.deserialize)),this.middlewareStack.use(H0(J,P1.getEndpointParameterInstructions()));const W=$.concat(this.middlewareStack),{logger:X}=J,G={logger:X,clientName:"S3Client",commandName:"DeleteObjectCommand",inputFilterSensitiveLog:(Y)=>Y,outputFilterSensitiveLog:(Y)=>Y},{requestHandler:F}=J;return W.resolve((Y)=>F.handle(Y.request,Q||{}),G)}serialize($,J){return cZ($,J)}deserialize($,J){return iZ($,J)}}var N;(function($){$.MD5="MD5",$.CRC32="CRC32",$.CRC32C="CRC32C",$.SHA1="SHA1",$.SHA256="SHA256"})(N||(N={}));var oZ;(function($){$.HEADER="header",$.TRAILER="trailer"})(oZ||(oZ={}));var N8=[N.CRC32,N.CRC32C,N.SHA1,N.SHA256],eZ=[N.CRC32,N.CRC32C,N.SHA1,N.SHA256];var tZ=($,{requestChecksumRequired:J,requestAlgorithmMember:Q})=>{if(!Q||!$[Q])return J?N.MD5:void 0;const W=$[Q];if(!N8.includes(W))throw new Error(`The checksum algorithm "${W}" is not supported by the client.`+` Select one of ${N8}.`);return W};var h1=($)=>$===N.MD5?"content-md5":`x-amz-checksum-${$.toLowerCase()}`;var $G=($,J)=>{const Q=$.toLowerCase();for(let W of Object.keys(J))if(Q===W.toLowerCase())return!0;return!1};var g1=($)=>$!==void 0&&typeof $!=="string"&&!ArrayBuffer.isView($)&&!x8($);var YG=G0(Z8(),1),FG=G0(HQ(),1);var v1=($,J)=>({[N.MD5]:J.md5,[N.CRC32]:YG.AwsCrc32,[N.CRC32C]:FG.AwsCrc32c,[N.SHA1]:J.sha1,[N.SHA256]:J.sha256})[$];var y1=($,J)=>{const Q=new $;return Q.update(J0(J||"")),Q.digest()};var zG=async($,{streamHasher:J,checksumAlgorithmFn:Q,base64Encoder:W})=>{const X=g1($)?J(Q,$):y1(Q,$);return W(await X)};var VG=($=[])=>{const J=[];for(let Q of eZ){if(!$.includes(Q)||!N8.includes(Q))continue;J.push(Q)}return J};var UG=async($,{config:J,responseAlgorithms:Q})=>{const W=VG(Q),{body:X,headers:Z}=$;for(let K of W){const G=h1(K),F=Z[G];if(F){const Y=v1(K,J),{streamHasher:V,base64Encoder:U}=J,z=await zG(X,{streamHasher:V,checksumAlgorithmFn:Y,base64Encoder:U});if(z===F)break;throw new Error(`Checksum mismatch: expected "${z}" but received "${F}"`+` in response header "${G}".`)}}};var IG=($,J)=>(Q)=>async(W)=>{if(!O.isInstance(W.request))return Q(W);const{request:X}=W,{body:Z,headers:K}=X,{base64Encoder:G,streamHasher:F}=$,{input:Y,requestChecksumRequired:V,requestAlgorithmMember:U}=J,z=tZ(Y,{requestChecksumRequired:V,requestAlgorithmMember:U});let I=Z,B=K;if(z){const X0=h1(z),S0=v1(z,$);if(g1(Z)){const{getAwsChunkedEncodingStream:c0,bodyLengthChecker:f8}=$;I=c0(Z,{base64Encoder:G,bodyLengthChecker:f8,checksumLocationName:X0,checksumAlgorithmFn:S0,streamHasher:F}),B={...K,"content-encoding":K["content-encoding"]?`${K["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":K["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":X0},delete B["content-length"]}else if(!$G(X0,K)){const c0=await y1(S0,Z);B={...K,[X0]:G(c0)}}}const L=await Q({...W,request:{...X,headers:B,body:I}}),{requestValidationModeMember:q,responseAlgorithms:E}=J;if(q&&Y[q]==="ENABLED")UG(L.response,{config:$,responseAlgorithms:E});return L};var k2={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},b1=($,J)=>({applyToStack:(Q)=>{Q.add(IG($,J),k2)}});class _8 extends U0{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor($){super();this.input=$}resolveMiddleware($,J,Q){this.middlewareStack.use(w0(J,this.serialize,this.deserialize)),this.middlewareStack.use(H0(J,_8.getEndpointParameterInstructions())),this.middlewareStack.use(f1(J)),this.middlewareStack.use(b1(J,{input:this.input,requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC32","CRC32C","SHA256","SHA1"]}));const W=$.concat(this.middlewareStack),{logger:X}=J,G={logger:X,clientName:"S3Client",commandName:"GetObjectCommand",inputFilterSensitiveLog:bZ,outputFilterSensitiveLog:yZ},{requestHandler:F}=J;return W.resolve((Y)=>F.handle(Y.request,Q||{}),G)}serialize($,J){return dZ($,J)}deserialize($,J){return pZ($,J)}}class x1 extends U0{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor($){super();this.input=$}resolveMiddleware($,J,Q){this.middlewareStack.use(w0(J,this.serialize,this.deserialize)),this.middlewareStack.use(H0(J,x1.getEndpointParameterInstructions()));const W=$.concat(this.middlewareStack),{logger:X}=J,G={logger:X,clientName:"S3Client",commandName:"ListObjectsV2Command",inputFilterSensitiveLog:(Y)=>Y,outputFilterSensitiveLog:(Y)=>Y},{requestHandler:F}=J;return W.resolve((Y)=>F.handle(Y.request,Q||{}),G)}serialize($,J){return sZ($,J)}deserialize($,J){return aZ($,J)}}class m1 extends U0{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor($){super();this.input=$}resolveMiddleware($,J,Q){this.middlewareStack.use(w0(J,this.serialize,this.deserialize)),this.middlewareStack.use(H0(J,m1.getEndpointParameterInstructions())),this.middlewareStack.use(vQ(J)),this.middlewareStack.use(f1(J)),this.middlewareStack.use(b1(J,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));const W=$.concat(this.middlewareStack),{logger:X}=J,G={logger:X,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:mZ,outputFilterSensitiveLog:xZ},{requestHandler:F}=J;return W.resolve((Y)=>F.handle(Y.request,Q||{}),G)}serialize($,J){return rZ($,J)}deserialize($,J){return nZ($,J)}}class l1{key;vals;keys;constructor($,J){if(this.key=$,this.vals=new Map,this.keys=new Map,J)for(let[Q,W]of J)this.set(Q,W)}set($,J){const Q=this.key($);return this.vals.set(Q,J),this.keys.set(Q,$),this}get($){return this.vals.get(this.key($))}has($){return this.vals.has(this.key($))}values(){return this.vals.values()}forEach($){return this.vals.forEach((J,Q,W)=>$(J,this.keys.get(Q)))}}var BG=()=>`${Date.now()}`.padStart(14,"0"),LG=()=>`${Date.now()}`.padStart(14,"0");var MG=()=>crypto.randomUUID();var p=($)=>`${$.bucket}/${$.key}`;var AQ=CG(),v2=OG(),y2=DG();var OQ={files:{},update:{}};class SG{ref;handler;lastVersion;constructor($,J){this.ref=$,this.handler=J}notify($,J){if($===this.lastVersion)return;else this.lastVersion=$,this.handler(J)}}class jQ{service;ref;subscribers=new Set;poller;cache;pendingWrites=new Map;writtenOperations=new Map;constructor($,J,Q){this.service=$,this.ref=J}observeVersionId($){if(console.log(`observeVersionId ${$} in ${[...this.writtenOperations.keys()]} pending ${this.pendingWrites.size}`),this.writtenOperations.has($)){console.log(`clearing pending write for observeVersionId ${$}`);const J=this.writtenOperations.get($);this.pendingWrites.delete(J),this.writtenOperations.delete($)}}async get(){return this.getLatest().then(($)=>$||this.cache?.data)}async getLatest(){console.log("getLatest");try{console.log("getLatest: s1");const $=await this.service._getObject2({ref:this.ref,ifNoneMatch:this.cache?.etag});if($.$metadata.httpStatusCode===304)return;if($.data===void 0)return OQ;const J=$.data;console.log("getLatest: s2");const Q=await this.service.s3Client.send(new x1({Bucket:this.ref.bucket,Prefix:this.ref.key,StartAfter:this.ref.key+"@"+J}));if(Q.Contents===void 0)return OQ;console.log(`replay state ${JSON.stringify(Q.Contents)}`);let W=void 0;for(let X=0;X<Q.Contents.length;X++){const Z=Q.Contents[X].Key,K=await this.service._getObject2({ref:{bucket:this.ref.bucket,key:Z}});if(!W)console.log(`base ${Z} ${JSON.stringify(K.data)}`),W=K.data;else console.log(`patch ${Z} ${JSON.stringify(K.data?.update)}`),W=AQ(W,K.data?.update);this.observeVersionId(Z.substring(Z.lastIndexOf("@")+1))}return W.previous={url:p(this.ref),version:$.VersionId},this.cache={etag:$.ETag,data:W},console.log("resolved data",JSON.stringify(W)),W}catch($){if($.name==="NoSuchKey")return OQ;else throw $}}async poll(){if(this.subscriberCount===0&&this.poller)clearInterval(this.poller),this.poller=void 0;if(this.subscriberCount>0&&!this.poller)this.poller=setInterval(()=>this.poll(),1000);const $=await this.getLatest();if($===void 0)return;console.log(`POLL ${JSON.stringify($)}`),this.subscribers.forEach(async(J)=>{const Q=$.files[p(J.ref)];if(Q){console.log(`NOTIFY ${p(J.ref)} ${Q.version}`);const W=await this.service._getObject({ref:J.ref,version:Q.version});J.notify(Q.version,W)}else if(Q===null)console.log(`NOTIFY ${p(J.ref)} DELETE`),J.notify(void 0,void 0)})}async updateContent($,J){this.pendingWrites.set(J,$),console.log(`updateContent pending ${this.pendingWrites.size}`);try{const Q=await J,W=BG(),X=await this.get();X.update={files:{}};for(let[G,F]of Q){const Y=p(G);if(F){const V={version:F};X.files[Y]=V,X.update.files[Y]=V}else delete X.files[Y],X.update.files[Y]=null}const Z=LG()+"_"+MG().substring(0,2);await this.service._putObject({ref:{key:this.ref.key+"@"+Z,bucket:this.ref.bucket},value:X});const K=await this.service._putObject({ref:{key:this.ref.key,bucket:this.ref.bucket},value:W});return this.writtenOperations.set(Z,J),this.poll(),K}catch(Q){throw console.error(Q),this.pendingWrites.delete(J),Q}}async getVersion($){return console.log("getVersion"),(await this.get()).files[p($)]?.version}subscribe($,J){console.log(`SUBSCRIBE ${p($)} ${this.subscriberCount+1}`);const Q=new SG($,J);return this.subscribers.add(Q),()=>this.subscribers.delete(Q)}get subscriberCount(){return this.subscribers.size}}async function x2($){const J=(new TextEncoder()).encode($),Q=await crypto.subtle.digest("SHA-256",J);return btoa(String.fromCharCode(...new Uint8Array(Q)))}class b2{s3Client;config;manifests=new l1(p);defaultManifest;constructor($){if($.useChecksum===void 0)$.useChecksum=!0;this.config=$,this.s3Client=new WQ(this.config.s3Config),this.defaultManifest={bucket:$.defaultManifest?.bucket||$.defaultBucket,key:$.defaultManifest?.key||"manifest.json"}}getOrCreateManifest($){if(!this.manifests.has($))this.manifests.set($,new jQ(this,$));return this.manifests.get($)}async get($,J={}){const Q={...this.defaultManifest,...J.manifest},W=this.getOrCreateManifest(Q),X={bucket:$.bucket||this.config.defaultBucket||this.defaultManifest.bucket,key:typeof $==="string"?$:$.key};let Z=!1,K=void 0;for(let[F,Y]of W.pendingWrites)if(Y.has(X))Z=!0,K=Y.get(X);if(Z)return console.log(`get (cached) ${p(X)}`),K;const G=await W.getVersion(X);if(G===void 0)return;return this._getObject({ref:X,version:G})}async _getObject($){const J={Bucket:$.ref.bucket,Key:$.ref.key,...$.version&&{VersionId:$.version}};try{const Q=await this.s3Client.send(new _8(J));if(!Q.Body)return;else{const W=await Q.Body.transformToString("utf-8");return console.log(`GET ${$.ref.bucket}/${$.ref.key}@${$.version} => ${Q.VersionId}\n${W}`),JSON.parse(W)}}catch(Q){if(Q.name==="NoSuchKey")return;else throw Q}}async _getObject2($){const J={Bucket:$.ref.bucket,Key:$.ref.key,IfNoneMatch:$.ifNoneMatch,...$.version&&{VersionId:$.version}};try{const Q={...await this.s3Client.send(new _8(J)),data:void 0};if(Q.Body)Q.data=JSON.parse(await Q.Body.transformToString("utf-8")),console.log(`GET ${$.ref.bucket}/${$.ref.key}@${$.version} => ${Q.VersionId}\n${JSON.stringify(Q.data)}`);return Q}catch(Q){if(Q?.name==="304")return{$metadata:{httpStatusCode:304},data:void 0};else throw Q}}async delete($,J={}){return this.putAll(new Map([[$,void 0]]),J)}async put($,J,Q={}){return this.putAll(new Map([[$,J]]),Q)}async putAll($,J={}){const Q=new l1(p,[...$].map(([X,Z])=>[{bucket:X.bucket||this.config.defaultBucket||this.defaultManifest.bucket,key:typeof X==="string"?X:X.key},Z])),W=(J?.manifests||[this.defaultManifest]).map((X)=>({...this.defaultManifest,...X}));return this._putAll(Q,{manifests:W})}async _putAll($,J){const Q=new Promise(async(W,X)=>{const Z=new Map,K=[];$.forEach((G,F)=>{if(G!==void 0)K.push(this._putObject({ref:F,value:G}).then((Y)=>{if(Y.VersionId===void 0)throw console.error(Y),Error(`Bucket ${F.bucket} is not version enabled!`);Z.set(F,Y.VersionId)}));else K.push(this._deleteObject({ref:F}).then((Y)=>{Z.set(F,void 0)}))}),await Promise.all(K).catch(X),W(Z)});return Promise.all(J.manifests.map((W)=>{return this.getOrCreateManifest(W).updateContent($,Q)}))}async _putObject($){console.log(`putObject ${p($.ref)}`);const J=JSON.stringify($.value,null,2),Q={Bucket:$.ref.bucket,Key:$.ref.key,ContentType:"application/json",Body:J,...this.config.useChecksum&&{ChecksumSHA256:await x2(J)}},W=await this.s3Client.send(new m1(Q));return console.log(`PUT ${$.ref.bucket}/${$.ref.key} => ${W.VersionId}\n${J}`),W}async _deleteObject($){const J={Bucket:$.ref.bucket,Key:$.ref.key},Q=await this.s3Client.send(new P1(J));return console.log(`DELETE ${$.ref.bucket}/${$.ref.key} => ${Q.VersionId}`),Q}subscribe($,J,Q){const W={...this.defaultManifest,...Q?.manifest},X={key:$,bucket:Q?.bucket||this.config.defaultBucket||W.bucket},Z=this.getOrCreateManifest(W),K=Z.subscribe(X,J);return this.get(X,{manifest:W}).then((G)=>{console.log(`NOTIFY (initial) ${p(X)}`),queueMicrotask(()=>{J(G),Z.poll()})}),K}refresh(){return Promise.all([...this.manifests.values()].map(($)=>$.poll()))}get subscriberCount(){return[...this.manifests.values()].reduce(($,J)=>$+J.subscriberCount,0)}}export{b2 as MPS3};
